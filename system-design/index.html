<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>System Design Concepts - Manoj Satishkumar</title>
  <meta name="description" content="Interactive visual guide to system design concepts including Availability, Reliability, Scalability, and more.">
  <link rel="icon" href="/images/favicon.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link href="/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <style>
    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-tertiary: #1a1a25;
      --bg-card: #16161f;
      --text-primary: #ffffff;
      --text-secondary: #a0a0b0;
      --text-muted: #606070;
      --accent-blue: #3b82f6;
      --accent-purple: #8b5cf6;
      --accent-pink: #ec4899;
      --accent-green: #10b981;
      --accent-orange: #f59e0b;
      --accent-red: #ef4444;
      --accent-cyan: #06b6d4;
      --border-color: rgba(255,255,255,0.08);
      --glow-blue: rgba(59, 130, 246, 0.3);
      --glow-purple: rgba(139, 92, 246, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Animated Background */
    .bg-pattern {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    .grid-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 60px 60px;
      pointer-events: none;
      z-index: 0;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: rgba(10, 10, 15, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      padding: 0 24px;
      z-index: 1000;
    }

    .header-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      text-decoration: none;
      color: var(--text-primary);
    }

    .header-logo img {
      width: 36px;
      height: 36px;
      border-radius: 50%;
    }

    .header-logo span {
      font-weight: 600;
      font-size: 1rem;
    }

    .header-title {
      margin-left: auto;
      margin-right: auto;
      font-size: 1.1rem;
      font-weight: 600;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-nav {
      display: flex;
      gap: 16px;
    }

    .header-nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.2s;
    }

    .header-nav a:hover {
      color: var(--text-primary);
    }

    /* Main Layout */
    .main-container {
      display: flex;
      padding-top: 60px;
      min-height: 100vh;
      position: relative;
      z-index: 1;
    }

    /* Sidebar - Master View */
    .sidebar {
      width: 320px;
      height: calc(100vh - 60px);
      position: fixed;
      left: 0;
      top: 60px;
      background: var(--bg-secondary);
      border-right: 1px solid var(--border-color);
      overflow-y: auto;
      padding: 20px 0;
    }

    .sidebar::-webkit-scrollbar {
      width: 6px;
    }

    .sidebar::-webkit-scrollbar-track {
      background: transparent;
    }

    .sidebar::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .sidebar-header {
      padding: 0 20px 20px;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 16px;
    }

    .sidebar-header h2 {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .sidebar-search {
      width: 100%;
      padding: 10px 14px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 0.9rem;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .sidebar-search:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 3px var(--glow-blue);
    }

    .sidebar-search::placeholder {
      color: var(--text-muted);
    }

    /* Concept Categories */
    .category {
      margin-bottom: 8px;
    }

    .category-header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .category-header:hover {
      background: var(--bg-tertiary);
    }

    .category-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
    }

    .category-name {
      flex: 1;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .category-count {
      font-size: 0.75rem;
      color: var(--text-muted);
      background: var(--bg-tertiary);
      padding: 2px 8px;
      border-radius: 10px;
    }

    .category-arrow {
      color: var(--text-muted);
      transition: transform 0.2s;
    }

    .category.expanded .category-arrow {
      transform: rotate(90deg);
    }

    .category-items {
      display: none;
      padding-left: 20px;
    }

    .category.expanded .category-items {
      display: block;
    }

    /* Concept Items */
    .concept-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 20px 10px 32px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 2px solid transparent;
      position: relative;
    }

    .concept-item::before {
      content: '';
      position: absolute;
      left: 20px;
      top: 50%;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--text-muted);
      transform: translateY(-50%);
      transition: all 0.2s;
    }

    .concept-item:hover {
      background: var(--bg-tertiary);
    }

    .concept-item:hover::before {
      background: var(--accent-blue);
    }

    .concept-item.active {
      background: rgba(59, 130, 246, 0.1);
      border-left-color: var(--accent-blue);
    }

    .concept-item.active::before {
      background: var(--accent-blue);
      box-shadow: 0 0 8px var(--accent-blue);
    }

    .concept-item span {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .concept-item.active span {
      color: var(--text-primary);
      font-weight: 500;
    }

    /* Detail View */
    .detail-view {
      flex: 1;
      margin-left: 320px;
      padding: 40px;
      min-height: calc(100vh - 60px);
    }

    .detail-container {
      max-width: 1000px;
      margin: 0 auto;
    }

    /* Welcome State */
    .welcome-state {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      min-height: 60vh;
      text-align: center;
    }

    .welcome-icon {
      width: 120px;
      height: 120px;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      border-radius: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 3rem;
      margin-bottom: 32px;
      animation: float 3s ease-in-out infinite;
    }

    @keyframes float {
      0%, 100% { transform: translateY(0); }
      50% { transform: translateY(-10px); }
    }

    .welcome-state h1 {
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 16px;
      background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .welcome-state p {
      font-size: 1.1rem;
      color: var(--text-secondary);
      max-width: 500px;
      line-height: 1.7;
    }

    /* Concept Detail Content */
    .concept-detail {
      display: none;
      animation: fadeIn 0.4s ease;
    }

    .concept-detail.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .concept-header {
      margin-bottom: 40px;
    }

    .concept-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
      margin-bottom: 16px;
    }

    .concept-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 16px;
      line-height: 1.2;
    }

    .concept-subtitle {
      font-size: 1.2rem;
      color: var(--text-secondary);
      line-height: 1.6;
      max-width: 700px;
    }

    /* Visual Diagram */
    .visual-diagram {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 40px;
      margin-bottom: 40px;
      position: relative;
      overflow: hidden;
    }

    .visual-diagram::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple), var(--accent-pink));
    }

    .diagram-title {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--text-muted);
      margin-bottom: 24px;
    }

    .diagram-content {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 300px;
    }

    /* Definition Section */
    .section {
      margin-bottom: 40px;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text-primary);
    }

    .section-title .icon {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
    }

    .section-content {
      color: var(--text-secondary);
      font-size: 1rem;
      line-height: 1.8;
    }

    .section-content p {
      margin-bottom: 16px;
    }

    /* Key Points */
    .key-points {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }

    .key-point {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 24px;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }

    .key-point::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--accent-blue);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .key-point:hover {
      transform: translateY(-4px);
      border-color: var(--accent-blue);
      box-shadow: 0 10px 40px rgba(59, 130, 246, 0.1);
    }

    .key-point:hover::before {
      opacity: 1;
    }

    .key-point-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      margin-bottom: 16px;
    }

    .key-point h4 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .key-point p {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* Strategies List */
    .strategies-list {
      list-style: none;
      margin-top: 20px;
    }

    .strategy-item {
      display: flex;
      gap: 16px;
      padding: 20px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      margin-bottom: 12px;
      transition: all 0.3s;
      cursor: pointer;
    }

    .strategy-item:hover {
      border-color: var(--accent-purple);
      background: rgba(139, 92, 246, 0.05);
    }

    .strategy-number {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
      flex-shrink: 0;
    }

    .strategy-content h4 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--text-primary);
    }

    .strategy-content p {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    /* Formula Box */
    .formula-box {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 16px;
      padding: 32px;
      text-align: center;
      margin: 24px 0;
    }

    .formula-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.4rem;
      font-weight: 500;
      color: var(--accent-blue);
    }

    /* Metrics Table */
    .metrics-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .metrics-table th,
    .metrics-table td {
      padding: 16px;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    .metrics-table th {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      font-weight: 600;
    }

    .metrics-table td {
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .metrics-table tr:hover td {
      background: var(--bg-tertiary);
    }

    .metric-value {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 600;
      color: var(--accent-green);
    }

    /* Interactive Nodes (Mind Map) */
    .mind-map {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .mind-map-center {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      font-weight: 700;
      font-size: 1rem;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    .mind-map-center::before {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple), var(--accent-pink));
      z-index: -1;
      animation: rotate 4s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .mind-map-center::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: var(--bg-card);
      z-index: -1;
    }

    .mind-map-nodes {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      max-width: 700px;
    }

    .mind-node {
      padding: 14px 24px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }

    .mind-node::before {
      content: '';
      position: absolute;
      top: -20px;
      left: 50%;
      width: 1px;
      height: 20px;
      background: var(--border-color);
    }

    .mind-node:hover {
      border-color: var(--accent-cyan);
      background: rgba(6, 182, 212, 0.1);
      transform: scale(1.05);
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .sidebar {
        width: 280px;
      }
      .detail-view {
        margin-left: 280px;
        padding: 30px;
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        position: relative;
        width: 100%;
        height: auto;
        border-right: none;
        border-bottom: 1px solid var(--border-color);
      }
      .detail-view {
        margin-left: 0;
        padding: 24px;
      }
      .main-container {
        flex-direction: column;
      }
      .concept-title {
        font-size: 2rem;
      }
    }
  </style>
</head>
<body>
  <div class="bg-pattern"></div>
  <div class="grid-overlay"></div>

  <!-- Header -->
  <header class="header">
    <a href="/" class="header-logo">
      <img src="/images/me_circle.png" alt="Manoj">
      <span>Manoj Satishkumar</span>
    </a>
    <span class="header-title">System Design Concepts</span>
    <nav class="header-nav">
      <a href="/">Portfolio</a>
      <a href="/blog">Blog</a>
    </nav>
  </header>

  <div class="main-container">
    <!-- Sidebar - Master View -->
    <aside class="sidebar">
      <div class="sidebar-header">
        <h2>Concepts Library</h2>
        <input type="text" class="sidebar-search" placeholder="Search concepts..." id="searchInput" oninput="filterConcepts()">
      </div>

      <!-- Core Principles -->
      <div class="category expanded" data-category="core">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">‚ö°</div>
          <span class="category-name">Core Principles</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="availability" onclick="showConcept('availability')">
            <span>Availability</span>
          </div>
          <div class="concept-item" data-concept="reliability" onclick="showConcept('reliability')">
            <span>Reliability</span>
          </div>
          <div class="concept-item" data-concept="scalability" onclick="showConcept('scalability')">
            <span>Scalability</span>
          </div>
          <div class="concept-item" data-concept="maintainability" onclick="showConcept('maintainability')">
            <span>Maintainability</span>
          </div>
          <div class="concept-item" data-concept="performance" onclick="showConcept('performance')">
            <span>Performance</span>
          </div>
          <div class="concept-item" data-concept="security" onclick="showConcept('security')">
            <span>Security</span>
          </div>
        </div>
      </div>

      <!-- Data Management -->
      <div class="category" data-category="data">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">üíæ</div>
          <span class="category-name">Data Management</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="consistency" onclick="showConcept('consistency')">
            <span>Consistency</span>
          </div>
          <div class="concept-item" data-concept="partitioning" onclick="showConcept('partitioning')">
            <span>Partitioning</span>
          </div>
          <div class="concept-item" data-concept="replication" onclick="showConcept('replication')">
            <span>Replication</span>
          </div>
          <div class="concept-item" data-concept="caching" onclick="showConcept('caching')">
            <span>Caching</span>
          </div>
          <div class="concept-item" data-concept="cap-theorem" onclick="showConcept('cap-theorem')">
            <span>CAP Theorem</span>
          </div>
          <div class="concept-item" data-concept="acid" onclick="showConcept('acid')">
            <span>ACID Properties</span>
          </div>
        </div>
      </div>

      <!-- Architecture Patterns -->
      <div class="category" data-category="patterns">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #10b981, #059669);">üèóÔ∏è</div>
          <span class="category-name">Architecture Patterns</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="microservices" onclick="showConcept('microservices')">
            <span>Microservices</span>
          </div>
          <div class="concept-item" data-concept="load-balancing" onclick="showConcept('load-balancing')">
            <span>Load Balancing</span>
          </div>
          <div class="concept-item" data-concept="message-queues" onclick="showConcept('message-queues')">
            <span>Message Queues</span>
          </div>
          <div class="concept-item" data-concept="api-gateway" onclick="showConcept('api-gateway')">
            <span>API Gateway</span>
          </div>
          <div class="concept-item" data-concept="cdn" onclick="showConcept('cdn')">
            <span>CDN</span>
          </div>
          <div class="concept-item" data-concept="database-sharding" onclick="showConcept('database-sharding')">
            <span>Database Sharding</span>
          </div>
        </div>
      </div>

      <!-- Resilience -->
      <div class="category" data-category="resilience">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">üõ°Ô∏è</div>
          <span class="category-name">Resilience</span>
          <span class="category-count">5</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fault-tolerance" onclick="showConcept('fault-tolerance')">
            <span>Fault Tolerance</span>
          </div>
          <div class="concept-item" data-concept="circuit-breaker" onclick="showConcept('circuit-breaker')">
            <span>Circuit Breaker</span>
          </div>
          <div class="concept-item" data-concept="rate-limiting" onclick="showConcept('rate-limiting')">
            <span>Rate Limiting</span>
          </div>
          <div class="concept-item" data-concept="graceful-degradation" onclick="showConcept('graceful-degradation')">
            <span>Graceful Degradation</span>
          </div>
          <div class="concept-item" data-concept="disaster-recovery" onclick="showConcept('disaster-recovery')">
            <span>Disaster Recovery</span>
          </div>
        </div>
      </div>
    </aside>

    <!-- Detail View -->
    <main class="detail-view">
      <div class="detail-container">
        <!-- Welcome State -->
        <div class="welcome-state" id="welcomeState">
          <div class="welcome-icon">üß†</div>
          <h1>System Design Concepts</h1>
          <p>Explore comprehensive visual explanations of essential system design principles. Select a concept from the sidebar to begin your learning journey.</p>
        </div>

        <!-- Concept Details will be inserted here dynamically -->
        <div id="conceptContainer"></div>
      </div>
    </main>
  </div>

  <script>
    // Concept data
    const concepts = {
      availability: {
        title: "Availability",
        subtitle: "The percentage of time a system remains operational and accessible to users under normal conditions.",
        badge: { text: "Core Principle", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `
          <style>
            .availability-viz {
              display: flex;
              flex-direction: column;
              gap: 30px;
              padding: 10px;
            }
            .avail-section {
              display: flex;
              gap: 30px;
              align-items: flex-start;
            }
            @media (max-width: 900px) {
              .avail-section { flex-direction: column; }
            }
            
            /* Server Cluster Visualization */
            .server-cluster {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .cluster-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cluster-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .servers-row {
              display: flex;
              gap: 12px;
              margin-bottom: 20px;
            }
            .server-box {
              flex: 1;
              background: rgba(16, 185, 129, 0.1);
              border: 1px solid rgba(16, 185, 129, 0.3);
              border-radius: 10px;
              padding: 16px 12px;
              text-align: center;
              position: relative;
              transition: all 0.3s ease;
            }
            .server-box.primary {
              background: rgba(59, 130, 246, 0.15);
              border-color: rgba(59, 130, 246, 0.4);
            }
            .server-box.standby {
              background: rgba(139, 92, 246, 0.1);
              border-color: rgba(139, 92, 246, 0.3);
            }
            .server-box.failed {
              background: rgba(239, 68, 68, 0.1);
              border-color: rgba(239, 68, 68, 0.4);
              animation: serverFail 2s ease-in-out infinite;
            }
            @keyframes serverFail {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 0.7; }
            }
            .server-icon {
              font-size: 1.5rem;
              margin-bottom: 6px;
            }
            .server-label {
              font-size: 0.7rem;
              color: #a0a0b0;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .server-status {
              position: absolute;
              top: -6px;
              right: -6px;
              width: 16px;
              height: 16px;
              border-radius: 50%;
              background: #10b981;
              border: 2px solid #0f1520;
              animation: pulse 2s infinite;
            }
            .server-status.standby-status {
              background: #8b5cf6;
              animation: none;
            }
            .server-status.failed-status {
              background: #ef4444;
              animation: none;
            }
            @keyframes pulse {
              0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.5); }
              50% { box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); }
            }
            .failover-arrow {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 8px;
              color: #6b7280;
              font-size: 0.75rem;
              margin-top: 8px;
              padding: 10px;
              background: rgba(139, 92, 246, 0.1);
              border-radius: 8px;
              border: 1px dashed rgba(139, 92, 246, 0.3);
            }
            .failover-arrow span {
              animation: arrowMove 1.5s ease-in-out infinite;
            }
            @keyframes arrowMove {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(4px); }
            }
            
            /* Uptime Timeline */
            .uptime-timeline {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .timeline-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 16px;
            }
            .timeline-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .timeline-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .live-badge {
              font-size: 0.65rem;
              padding: 4px 10px;
              background: rgba(16, 185, 129, 0.2);
              color: #10b981;
              border-radius: 20px;
              display: flex;
              align-items: center;
              gap: 5px;
            }
            .live-badge::before {
              content: '';
              width: 6px;
              height: 6px;
              background: #10b981;
              border-radius: 50%;
              animation: livePulse 1s infinite;
            }
            @keyframes livePulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.3; }
            }
            .timeline-bar {
              height: 40px;
              background: #1a1f2e;
              border-radius: 8px;
              display: flex;
              overflow: hidden;
              margin-bottom: 12px;
            }
            .timeline-segment {
              height: 100%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.6rem;
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .segment-up {
              background: linear-gradient(90deg, #10b981, #059669);
              color: white;
              flex: 99.99;
            }
            .segment-down {
              background: linear-gradient(90deg, #ef4444, #dc2626);
              color: white;
              flex: 0.01;
              min-width: 3px;
            }
            .timeline-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .uptime-calc {
              margin-top: 16px;
              padding: 12px;
              background: rgba(16, 185, 129, 0.1);
              border-radius: 8px;
              text-align: center;
              font-family: 'JetBrains Mono', monospace;
              font-size: 0.85rem;
              color: #10b981;
            }
            
            /* Nines Table */
            .nines-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .nines-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .nines-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .nines-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 10px;
            }
            @media (max-width: 700px) {
              .nines-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .nine-card {
              background: rgba(30, 35, 50, 0.8);
              border-radius: 12px;
              padding: 16px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
              transition: all 0.3s ease;
            }
            .nine-card:hover {
              transform: translateY(-4px);
              border-color: rgba(245, 158, 11, 0.3);
            }
            .nine-card.highlight {
              border-color: rgba(16, 185, 129, 0.5);
              background: rgba(16, 185, 129, 0.1);
            }
            .nine-percent {
              font-size: 1.4rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .nine-card:nth-child(1) .nine-percent { color: #ef4444; }
            .nine-card:nth-child(2) .nine-percent { color: #f59e0b; }
            .nine-card:nth-child(3) .nine-percent { color: #3b82f6; }
            .nine-card:nth-child(4) .nine-percent { color: #10b981; }
            .nine-name {
              font-size: 0.7rem;
              color: #6b7280;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              margin-bottom: 10px;
            }
            .nine-downtime {
              font-size: 0.75rem;
              color: #e5e5e5;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .nine-context {
              font-size: 0.65rem;
              color: #888;
              line-height: 1.4;
            }
            .nine-bar {
              height: 4px;
              background: #1a1f2e;
              border-radius: 2px;
              margin-top: 10px;
              overflow: hidden;
            }
            .nine-bar-fill {
              height: 100%;
              border-radius: 2px;
              transition: width 1s ease;
            }
            .nine-card:nth-child(1) .nine-bar-fill { width: 99%; background: #ef4444; }
            .nine-card:nth-child(2) .nine-bar-fill { width: 99.9%; background: #f59e0b; }
            .nine-card:nth-child(3) .nine-bar-fill { width: 99.99%; background: #3b82f6; }
            .nine-card:nth-child(4) .nine-bar-fill { width: 100%; background: #10b981; }
          </style>
          
          <div class="availability-viz">
            <!-- Top Row: Server Cluster + Uptime Timeline -->
            <div class="avail-section">
              <!-- Server Redundancy Visualization -->
              <div class="server-cluster">
                <div class="cluster-title">High Availability Cluster</div>
                <div class="servers-row">
                  <div class="server-box primary">
                    <div class="server-status"></div>
                    <div class="server-icon">üñ•Ô∏è</div>
                    <div class="server-label">Primary</div>
                  </div>
                  <div class="server-box primary">
                    <div class="server-status"></div>
                    <div class="server-icon">üñ•Ô∏è</div>
                    <div class="server-label">Primary</div>
                  </div>
                  <div class="server-box failed">
                    <div class="server-status failed-status"></div>
                    <div class="server-icon">üí•</div>
                    <div class="server-label">Failed</div>
                  </div>
                  <div class="server-box standby">
                    <div class="server-status standby-status"></div>
                    <div class="server-icon">üîÑ</div>
                    <div class="server-label">Standby</div>
                  </div>
                </div>
                <div class="failover-arrow">
                  <span>‚Üí</span> Automatic failover activates standby when server fails <span>‚Üí</span>
                </div>
              </div>
              
              <!-- Uptime Timeline -->
              <div class="uptime-timeline">
                <div class="timeline-header">
                  <div class="timeline-title">Annual Uptime (99.99%)</div>
                  <div class="live-badge">LIVE</div>
                </div>
                <div class="timeline-bar">
                  <div class="timeline-segment segment-up">OPERATIONAL</div>
                  <div class="timeline-segment segment-down"></div>
                </div>
                <div class="timeline-labels">
                  <span>Jan 1</span>
                  <span>‚Üë 52 min downtime</span>
                  <span>Dec 31</span>
                </div>
                <div class="uptime-calc">
                  (525,600 min ‚àí 52 min) √∑ 525,600 √ó 100 = 99.99%
                </div>
              </div>
            </div>
            
            <!-- Bottom Row: The Nines -->
            <div class="nines-section">
              <div class="nines-title">"The Nines" ‚Äî Industry Availability Levels</div>
              <div class="nines-grid">
                <div class="nine-card">
                  <div class="nine-percent">99%</div>
                  <div class="nine-name">Two Nines</div>
                  <div class="nine-downtime">3.65 days/year</div>
                  <div class="nine-context">Internal tools, dev environments</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
                <div class="nine-card">
                  <div class="nine-percent">99.9%</div>
                  <div class="nine-name">Three Nines</div>
                  <div class="nine-downtime">8.76 hours/year</div>
                  <div class="nine-context">Business apps, SaaS products</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
                <div class="nine-card highlight">
                  <div class="nine-percent">99.99%</div>
                  <div class="nine-name">Four Nines</div>
                  <div class="nine-downtime">52.6 min/year</div>
                  <div class="nine-context">E-commerce, banking, healthcare</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
                <div class="nine-card">
                  <div class="nine-percent">99.999%</div>
                  <div class="nine-name">Five Nines</div>
                  <div class="nine-downtime">5.26 min/year</div>
                  <div class="nine-context">Telecom, emergency services</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Availability</strong> measures the proportion of time a system is functional and working. It's typically expressed as a percentage of uptime over a given period (e.g., 99.9% availability means ~8.76 hours of downtime per year).</p>
          <p>High availability is crucial for systems where downtime directly impacts business revenue, user trust, or critical operations. It's often measured in "nines" ‚Äì each additional nine represents a 10x reduction in allowed downtime.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Redundancy", desc: "Deploy multiple instances of critical components to eliminate single points of failure.", color: "#3b82f6" },
          { icon: "‚öñÔ∏è", title: "Load Balancing", desc: "Distribute traffic across multiple servers to prevent any single server from becoming overwhelmed.", color: "#8b5cf6" },
          { icon: "üîÄ", title: "Failover Mechanisms", desc: "Automatically switch to backup systems when primary systems fail.", color: "#10b981" },
          { icon: "‚ù§Ô∏è", title: "Health Monitoring", desc: "Continuously monitor system health and detect failures quickly to minimize downtime.", color: "#ef4444" }
        ],
        formula: "Availability = (Total Time - Downtime) / Total Time √ó 100%",
        strategies: [
          { title: "Active-Passive Failover", desc: "Maintain standby replicas that can take over when primary systems fail. The passive system monitors the active one and activates upon failure detection." },
          { title: "Active-Active Configuration", desc: "Run multiple active instances simultaneously, distributing load and providing immediate failover without switchover delay." },
          { title: "Geographic Distribution", desc: "Deploy across multiple data centers or cloud regions to survive regional outages and reduce latency for global users." },
          { title: "Automated Recovery", desc: "Implement self-healing mechanisms that automatically restart failed services, replace unhealthy instances, and restore system state." }
        ],
        metrics: [
          { level: "99%", downtime: "3.65 days/year", useCase: "Internal tools, batch processing" },
          { level: "99.9%", downtime: "8.76 hours/year", useCase: "Business applications" },
          { level: "99.99%", downtime: "52.6 minutes/year", useCase: "E-commerce, banking" },
          { level: "99.999%", downtime: "5.26 minutes/year", useCase: "Critical infrastructure" }
        ]
      },
      reliability: {
        title: "Reliability",
        subtitle: "The probability that a system will perform its intended function without failure for a specified period of time.",
        badge: { text: "Core Principle", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .reliability-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .reliability-row {
              display: flex;
              gap: 24px;
            }
            @media (max-width: 900px) {
              .reliability-row { flex-direction: column; }
            }
            
            /* MTBF/MTTR Timeline */
            .mtbf-section {
              flex: 2;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .mtbf-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .mtbf-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .timeline-track {
              position: relative;
              height: 60px;
              background: linear-gradient(90deg, #10b981 0%, #10b981 30%, #ef4444 30%, #ef4444 35%, #f59e0b 35%, #f59e0b 40%, #10b981 40%, #10b981 75%, #ef4444 75%, #ef4444 80%, #f59e0b 80%, #f59e0b 85%, #10b981 85%, #10b981 100%);
              border-radius: 8px;
              margin-bottom: 16px;
              overflow: hidden;
            }
            .timeline-labels-row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
            }
            .timeline-label {
              display: flex;
              align-items: center;
              gap: 6px;
              font-size: 0.7rem;
              color: #a0a0b0;
            }
            .label-dot {
              width: 10px;
              height: 10px;
              border-radius: 3px;
            }
            .label-dot.operational { background: #10b981; }
            .label-dot.failure { background: #ef4444; }
            .label-dot.recovery { background: #f59e0b; }
            .mtbf-metrics {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 12px;
              margin-top: 16px;
            }
            .mtbf-metric {
              background: rgba(30, 35, 50, 0.8);
              border-radius: 10px;
              padding: 14px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .mtbf-metric-value {
              font-size: 1.3rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .mtbf-metric:nth-child(1) .mtbf-metric-value { color: #10b981; }
            .mtbf-metric:nth-child(2) .mtbf-metric-value { color: #ef4444; }
            .mtbf-metric:nth-child(3) .mtbf-metric-value { color: #f59e0b; }
            .mtbf-metric-label {
              font-size: 0.7rem;
              color: #6b7280;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            
            /* Fault Handling Demo */
            .fault-demo {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .fault-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .fault-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .fault-flow {
              display: flex;
              flex-direction: column;
              gap: 10px;
            }
            .fault-step {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 10px 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 8px;
              border-left: 3px solid;
              font-size: 0.85rem;
            }
            .fault-step:nth-child(1) { border-color: #ef4444; }
            .fault-step:nth-child(2) { border-color: #f59e0b; }
            .fault-step:nth-child(3) { border-color: #3b82f6; }
            .fault-step:nth-child(4) { border-color: #10b981; }
            .fault-step-icon {
              font-size: 1.1rem;
            }
            .fault-step-text {
              color: #e5e5e5;
            }
            .fault-arrow {
              text-align: center;
              color: #4b5563;
              font-size: 0.9rem;
            }
            
            /* Reliability Comparison */
            .reliability-compare {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .compare-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .compare-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .compare-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 16px;
            }
            @media (max-width: 600px) {
              .compare-grid { grid-template-columns: 1fr; }
            }
            .compare-card {
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            }
            .compare-card.brittle {
              background: rgba(239, 68, 68, 0.1);
              border: 1px solid rgba(239, 68, 68, 0.3);
            }
            .compare-card.reliable {
              background: rgba(16, 185, 129, 0.1);
              border: 1px solid rgba(16, 185, 129, 0.3);
            }
            .compare-icon {
              font-size: 2rem;
              margin-bottom: 10px;
            }
            .compare-label {
              font-weight: 600;
              margin-bottom: 12px;
              font-size: 0.95rem;
            }
            .compare-card.brittle .compare-label { color: #ef4444; }
            .compare-card.reliable .compare-label { color: #10b981; }
            .compare-items {
              display: flex;
              flex-direction: column;
              gap: 6px;
              text-align: left;
            }
            .compare-item {
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.8rem;
              color: #a0a0b0;
            }
            .compare-item-icon {
              font-size: 0.75rem;
            }
          </style>
          
          <div class="reliability-viz">
            <div class="reliability-row">
              <!-- MTBF/MTTR Timeline -->
              <div class="mtbf-section">
                <div class="mtbf-title">System Reliability Timeline</div>
                <div class="timeline-labels-row">
                  <div class="timeline-label"><div class="label-dot operational"></div> Operational</div>
                  <div class="timeline-label"><div class="label-dot failure"></div> Failure</div>
                  <div class="timeline-label"><div class="label-dot recovery"></div> Recovery</div>
                </div>
                <div class="timeline-track"></div>
                <div class="mtbf-metrics">
                  <div class="mtbf-metric">
                    <div class="mtbf-metric-value">720h</div>
                    <div class="mtbf-metric-label">MTBF (Mean Time Between Failures)</div>
                  </div>
                  <div class="mtbf-metric">
                    <div class="mtbf-metric-value">2.3h</div>
                    <div class="mtbf-metric-label">MTTF (Mean Time To Failure)</div>
                  </div>
                  <div class="mtbf-metric">
                    <div class="mtbf-metric-value">15min</div>
                    <div class="mtbf-metric-label">MTTR (Mean Time To Recovery)</div>
                  </div>
                </div>
              </div>
              
              <!-- Fault Handling Flow -->
              <div class="fault-demo">
                <div class="fault-title">Fault Handling Flow</div>
                <div class="fault-flow">
                  <div class="fault-step">
                    <span class="fault-step-icon">üí•</span>
                    <span class="fault-step-text">Failure Occurs</span>
                  </div>
                  <div class="fault-arrow">‚Üì</div>
                  <div class="fault-step">
                    <span class="fault-step-icon">üîî</span>
                    <span class="fault-step-text">Detection & Alert</span>
                  </div>
                  <div class="fault-arrow">‚Üì</div>
                  <div class="fault-step">
                    <span class="fault-step-icon">üîÑ</span>
                    <span class="fault-step-text">Automatic Retry/Failover</span>
                  </div>
                  <div class="fault-arrow">‚Üì</div>
                  <div class="fault-step">
                    <span class="fault-step-icon">‚úÖ</span>
                    <span class="fault-step-text">Service Restored</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Brittle vs Reliable Comparison -->
            <div class="reliability-compare">
              <div class="compare-title">Brittle System vs Reliable System</div>
              <div class="compare-grid">
                <div class="compare-card brittle">
                  <div class="compare-icon">üèöÔ∏è</div>
                  <div class="compare-label">Brittle System</div>
                  <div class="compare-items">
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Single point of failure</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Cascading failures</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> No error handling</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Data loss on crash</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Manual recovery only</div>
                  </div>
                </div>
                <div class="compare-card reliable">
                  <div class="compare-icon">üèõÔ∏è</div>
                  <div class="compare-label">Reliable System</div>
                  <div class="compare-items">
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Redundant components</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Bulkhead isolation</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Graceful degradation</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Data durability</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Auto-recovery</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Reliability</strong> refers to a system's ability to consistently perform its intended functions correctly and without failure. Unlike availability which measures uptime, reliability focuses on correctness of operation.</p>
          <p>A reliable system handles hardware faults, software errors, and human mistakes gracefully. It maintains data integrity, provides consistent results, and recovers from failures without data loss.</p>
        `,
        keyPoints: [
          { icon: "üõ°Ô∏è", title: "Fault Tolerance", desc: "Design systems to continue operating properly even when components fail.", color: "#8b5cf6" },
          { icon: "‚úÖ", title: "Data Integrity", desc: "Ensure data remains accurate, consistent, and uncorrupted throughout its lifecycle.", color: "#10b981" },
          { icon: "üîç", title: "Error Detection", desc: "Implement comprehensive monitoring to detect and alert on errors quickly.", color: "#f59e0b" },
          { icon: "üß™", title: "Thorough Testing", desc: "Use extensive testing including chaos engineering to validate reliability.", color: "#ef4444" }
        ],
        formula: "MTBF = Total Operating Time / Number of Failures",
        strategies: [
          { title: "Redundant Components", desc: "Use redundancy at every level - hardware, network, data storage - to ensure no single failure causes system-wide issues." },
          { title: "Graceful Error Handling", desc: "Implement comprehensive error handling that logs issues, notifies operators, and provides meaningful feedback without crashing." },
          { title: "Chaos Engineering", desc: "Regularly inject failures into production systems to test and improve reliability under real-world conditions." },
          { title: "Immutable Infrastructure", desc: "Use infrastructure as code and immutable deployments to ensure consistent, reproducible, and reliable environments." }
        ],
        metrics: [
          { level: "MTBF", downtime: "Mean Time Between Failures", useCase: "Average time system operates before failure" },
          { level: "MTTR", downtime: "Mean Time To Recovery", useCase: "Average time to restore after failure" },
          { level: "Error Rate", downtime: "Errors per request", useCase: "Percentage of failed operations" },
          { level: "Data Loss", downtime: "RPO/RTO metrics", useCase: "Data recovery point/time objectives" }
        ]
      },
      scalability: {
        title: "Scalability",
        subtitle: "The capability of a system to handle growing amounts of work by adding resources to the system.",
        badge: { text: "Core Principle", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .scalability-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .scale-comparison {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
            }
            @media (max-width: 800px) {
              .scale-comparison { grid-template-columns: 1fr; }
            }
            
            /* Scaling Type Cards */
            .scale-type {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .scale-type.vertical { border-color: rgba(59, 130, 246, 0.3); }
            .scale-type.horizontal { border-color: rgba(16, 185, 129, 0.3); }
            .scale-header {
              display: flex;
              align-items: center;
              gap: 12px;
              margin-bottom: 20px;
            }
            .scale-icon {
              width: 44px;
              height: 44px;
              border-radius: 10px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.4rem;
            }
            .vertical .scale-icon { background: rgba(59, 130, 246, 0.2); }
            .horizontal .scale-icon { background: rgba(16, 185, 129, 0.2); }
            .scale-title-text {
              font-weight: 600;
              font-size: 1rem;
            }
            .vertical .scale-title-text { color: #3b82f6; }
            .horizontal .scale-title-text { color: #10b981; }
            .scale-subtitle {
              font-size: 0.75rem;
              color: #6b7280;
            }
            
            /* Vertical Scaling Animation */
            .vertical-demo {
              display: flex;
              justify-content: center;
              gap: 16px;
              align-items: flex-end;
              height: 140px;
              margin-bottom: 16px;
            }
            .server-tower {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 4px;
            }
            .server-tower.before .tower-box {
              width: 50px;
              height: 60px;
              background: rgba(59, 130, 246, 0.2);
              border: 1px solid rgba(59, 130, 246, 0.4);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .server-tower.after .tower-box {
              width: 70px;
              height: 100px;
              background: linear-gradient(180deg, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.15));
              border: 2px solid rgba(59, 130, 246, 0.6);
              border-radius: 8px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 4px;
              animation: growTower 2s ease-in-out infinite alternate;
            }
            @keyframes growTower {
              0% { transform: scaleY(0.85); }
              100% { transform: scaleY(1); }
            }
            .tower-label {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 6px;
            }
            .tower-stats {
              font-size: 0.6rem;
              color: #3b82f6;
            }
            .scale-arrow {
              font-size: 1.2rem;
              color: #4b5563;
              margin-bottom: 40px;
            }
            
            /* Horizontal Scaling Animation */
            .horizontal-demo {
              display: flex;
              flex-direction: column;
              gap: 12px;
              margin-bottom: 16px;
            }
            .servers-line {
              display: flex;
              gap: 8px;
              justify-content: center;
              flex-wrap: wrap;
            }
            .servers-line.before .mini-server {
              width: 40px;
              height: 40px;
              background: rgba(16, 185, 129, 0.2);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.9rem;
            }
            .servers-line.after .mini-server {
              width: 40px;
              height: 40px;
              background: rgba(16, 185, 129, 0.2);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.9rem;
              animation: popIn 0.5s ease-out;
            }
            .servers-line.after .mini-server:nth-child(3),
            .servers-line.after .mini-server:nth-child(4),
            .servers-line.after .mini-server:nth-child(5) {
              border-color: rgba(16, 185, 129, 0.7);
              background: rgba(16, 185, 129, 0.3);
            }
            .servers-line.after .mini-server.new {
              animation: pulse-new 1.5s ease-in-out infinite;
            }
            @keyframes pulse-new {
              0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
              50% { box-shadow: 0 0 0 8px rgba(16, 185, 129, 0); }
            }
            .horiz-arrow {
              text-align: center;
              color: #4b5563;
              font-size: 1rem;
            }
            .horiz-label {
              text-align: center;
              font-size: 0.65rem;
              color: #6b7280;
            }
            
            /* Pros/Cons */
            .scale-pros-cons {
              display: flex;
              gap: 16px;
              font-size: 0.75rem;
            }
            .pro, .con {
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .pro { color: #10b981; }
            .con { color: #ef4444; }
            
            /* Load Graph */
            .load-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .load-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .load-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .load-graph {
              display: flex;
              align-items: flex-end;
              gap: 3px;
              height: 80px;
              padding: 10px;
              background: rgba(15, 20, 30, 0.5);
              border-radius: 8px;
              margin-bottom: 12px;
            }
            .load-bar {
              flex: 1;
              background: linear-gradient(180deg, #10b981, #059669);
              border-radius: 2px 2px 0 0;
              min-height: 8px;
              transition: height 0.3s ease;
            }
            .load-bar:nth-child(1) { height: 20%; }
            .load-bar:nth-child(2) { height: 25%; }
            .load-bar:nth-child(3) { height: 35%; }
            .load-bar:nth-child(4) { height: 45%; }
            .load-bar:nth-child(5) { height: 55%; }
            .load-bar:nth-child(6) { height: 60%; }
            .load-bar:nth-child(7) { height: 70%; }
            .load-bar:nth-child(8) { height: 80%; background: linear-gradient(180deg, #f59e0b, #d97706); }
            .load-bar:nth-child(9) { height: 90%; background: linear-gradient(180deg, #f59e0b, #d97706); }
            .load-bar:nth-child(10) { height: 95%; background: linear-gradient(180deg, #ef4444, #dc2626); animation: loadPulse 1s ease-in-out infinite; }
            .load-bar:nth-child(11) { height: 60%; background: linear-gradient(180deg, #10b981, #059669); }
            .load-bar:nth-child(12) { height: 40%; background: linear-gradient(180deg, #10b981, #059669); }
            .load-bar:nth-child(13) { height: 35%; }
            .load-bar:nth-child(14) { height: 30%; }
            .load-bar:nth-child(15) { height: 25%; }
            @keyframes loadPulse {
              0%, 100% { opacity: 0.8; }
              50% { opacity: 1; }
            }
            .load-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .scale-event {
              display: inline-flex;
              align-items: center;
              gap: 6px;
              padding: 4px 10px;
              background: rgba(16, 185, 129, 0.15);
              border-radius: 20px;
              font-size: 0.7rem;
              color: #10b981;
              margin-top: 10px;
            }
          </style>
          
          <div class="scalability-viz">
            <!-- Horizontal vs Vertical Comparison -->
            <div class="scale-comparison">
              <!-- Vertical Scaling -->
              <div class="scale-type vertical">
                <div class="scale-header">
                  <div class="scale-icon">‚ÜïÔ∏è</div>
                  <div>
                    <div class="scale-title-text">Vertical Scaling</div>
                    <div class="scale-subtitle">Scale Up ‚Äî Add more power</div>
                  </div>
                </div>
                <div class="vertical-demo">
                  <div class="server-tower before">
                    <div class="tower-box">4GB<br>2 CPU</div>
                    <div class="tower-label">Before</div>
                  </div>
                  <div class="scale-arrow">‚Üí</div>
                  <div class="server-tower after">
                    <div class="tower-box">
                      <div class="tower-stats">64GB</div>
                      <div class="tower-stats">16 CPU</div>
                      <div class="tower-stats">SSD</div>
                    </div>
                    <div class="tower-label">After</div>
                  </div>
                </div>
                <div class="scale-pros-cons">
                  <span class="pro">‚úì Simple</span>
                  <span class="con">‚úó Has limits</span>
                  <span class="con">‚úó Single point</span>
                </div>
              </div>
              
              <!-- Horizontal Scaling -->
              <div class="scale-type horizontal">
                <div class="scale-header">
                  <div class="scale-icon">‚ÜîÔ∏è</div>
                  <div>
                    <div class="scale-title-text">Horizontal Scaling</div>
                    <div class="scale-subtitle">Scale Out ‚Äî Add more machines</div>
                  </div>
                </div>
                <div class="horizontal-demo">
                  <div class="horiz-label">2 instances</div>
                  <div class="servers-line before">
                    <div class="mini-server">üñ•Ô∏è</div>
                    <div class="mini-server">üñ•Ô∏è</div>
                  </div>
                  <div class="horiz-arrow">‚Üì Auto-scale triggered ‚Üì</div>
                  <div class="horiz-label">5 instances</div>
                  <div class="servers-line after">
                    <div class="mini-server">üñ•Ô∏è</div>
                    <div class="mini-server">üñ•Ô∏è</div>
                    <div class="mini-server new">üñ•Ô∏è</div>
                    <div class="mini-server new">üñ•Ô∏è</div>
                    <div class="mini-server new">üñ•Ô∏è</div>
                  </div>
                </div>
                <div class="scale-pros-cons">
                  <span class="pro">‚úì No limits</span>
                  <span class="pro">‚úì Redundant</span>
                  <span class="con">‚úó Complex</span>
                </div>
              </div>
            </div>
            
            <!-- Load Graph with Auto-scaling -->
            <div class="load-section">
              <div class="load-title">Traffic Spike & Auto-Scaling Response</div>
              <div class="load-graph">
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
              </div>
              <div class="load-labels">
                <span>Normal load</span>
                <span style="color: #ef4444;">‚Üê Peak (scale up) ‚Üí</span>
                <span>Scale down</span>
              </div>
              <div class="scale-event">
                <span>üìà</span> New instances provisioned in 45 seconds
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Scalability</strong> is the property of a system to handle a growing amount of work by adding resources. A scalable system can accommodate increased load without significant performance degradation.</p>
          <p>There are two primary types: <strong>Vertical Scaling</strong> (scaling up by adding more power to existing machines) and <strong>Horizontal Scaling</strong> (scaling out by adding more machines to the pool).</p>
        `,
        keyPoints: [
          { icon: "‚ÜîÔ∏è", title: "Horizontal Scaling", desc: "Add more machines to distribute load. Better for handling massive scale and provides redundancy.", color: "#10b981" },
          { icon: "‚ÜïÔ∏è", title: "Vertical Scaling", desc: "Upgrade existing hardware with more CPU, RAM, or storage. Simpler but has physical limits.", color: "#3b82f6" },
          { icon: "üìä", title: "Database Sharding", desc: "Partition data across multiple databases to handle larger datasets and higher throughput.", color: "#8b5cf6" },
          { icon: "‚ö°", title: "Caching Layers", desc: "Use in-memory caches to reduce database load and improve response times.", color: "#f59e0b" }
        ],
        formula: "Scalability = Throughput at N nodes / (N √ó Throughput at 1 node)",
        strategies: [
          { title: "Stateless Architecture", desc: "Design services to be stateless so any instance can handle any request, enabling easy horizontal scaling." },
          { title: "Database Read Replicas", desc: "Create read replicas to distribute read queries and reduce load on the primary database." },
          { title: "Microservices Decomposition", desc: "Break monolith into independent services that can be scaled individually based on demand." },
          { title: "Auto-scaling Groups", desc: "Use cloud auto-scaling to automatically add or remove instances based on traffic patterns and metrics." }
        ],
        metrics: [
          { level: "Throughput", downtime: "Requests per second", useCase: "Measure system capacity" },
          { level: "Latency P99", downtime: "99th percentile response time", useCase: "User experience under load" },
          { level: "Linear Scaling", downtime: "Cost grows linearly with load", useCase: "Economic efficiency" },
          { level: "Elasticity", downtime: "Time to scale up/down", useCase: "Response to demand changes" }
        ]
      },
      consistency: {
        title: "Consistency",
        subtitle: "The property that ensures all nodes in a distributed system have the same data at the same time.",
        badge: { text: "Data Management", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .consistency-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .consistency-demo {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
            }
            @media (max-width: 800px) {
              .consistency-demo { grid-template-columns: 1fr; }
            }
            .cons-scenario {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 20px;
              border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .cons-scenario.strong { border-color: rgba(16, 185, 129, 0.3); }
            .cons-scenario.eventual { border-color: rgba(245, 158, 11, 0.3); }
            .cons-header {
              display: flex;
              align-items: center;
              gap: 10px;
              margin-bottom: 16px;
            }
            .cons-icon {
              width: 36px;
              height: 36px;
              border-radius: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.2rem;
            }
            .strong .cons-icon { background: rgba(16, 185, 129, 0.2); }
            .eventual .cons-icon { background: rgba(245, 158, 11, 0.2); }
            .cons-title {
              font-weight: 600;
              font-size: 0.95rem;
            }
            .strong .cons-title { color: #10b981; }
            .eventual .cons-title { color: #f59e0b; }
            .cons-nodes {
              display: flex;
              justify-content: center;
              gap: 12px;
              margin-bottom: 12px;
            }
            .cons-node {
              width: 60px;
              height: 50px;
              border-radius: 8px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              font-size: 0.7rem;
              border: 1px solid;
              transition: all 0.3s ease;
            }
            .cons-node-icon { font-size: 1rem; margin-bottom: 2px; }
            .cons-node.synced {
              background: rgba(16, 185, 129, 0.15);
              border-color: rgba(16, 185, 129, 0.4);
              color: #10b981;
            }
            .cons-node.stale {
              background: rgba(245, 158, 11, 0.15);
              border-color: rgba(245, 158, 11, 0.4);
              color: #f59e0b;
            }
            .cons-node.updating {
              animation: nodePulse 1s ease-in-out infinite;
            }
            @keyframes nodePulse {
              0%, 100% { opacity: 0.6; }
              50% { opacity: 1; }
            }
            .cons-timeline {
              text-align: center;
              font-size: 0.75rem;
              color: #6b7280;
              padding: 8px;
              background: rgba(30, 35, 50, 0.5);
              border-radius: 6px;
            }
            .cons-timeline span {
              font-weight: 500;
            }
            .strong .cons-timeline span { color: #10b981; }
            .eventual .cons-timeline span { color: #f59e0b; }
            
            /* Models Spectrum */
            .models-spectrum {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(236, 72, 153, 0.2);
            }
            .spectrum-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .spectrum-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ec4899;
              border-radius: 50%;
            }
            .spectrum-bar {
              height: 12px;
              background: linear-gradient(90deg, #10b981 0%, #3b82f6 33%, #8b5cf6 66%, #f59e0b 100%);
              border-radius: 6px;
              margin-bottom: 16px;
            }
            .spectrum-labels {
              display: flex;
              justify-content: space-between;
              margin-bottom: 20px;
            }
            .spectrum-label {
              text-align: center;
              font-size: 0.7rem;
            }
            .spectrum-label-name {
              font-weight: 500;
              margin-bottom: 2px;
            }
            .spectrum-label:nth-child(1) .spectrum-label-name { color: #10b981; }
            .spectrum-label:nth-child(2) .spectrum-label-name { color: #3b82f6; }
            .spectrum-label:nth-child(3) .spectrum-label-name { color: #8b5cf6; }
            .spectrum-label:nth-child(4) .spectrum-label-name { color: #f59e0b; }
            .spectrum-label-desc {
              color: #6b7280;
              font-size: 0.65rem;
            }
            .spectrum-tradeoff {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 12px;
              background: rgba(30, 35, 50, 0.5);
              border-radius: 8px;
              font-size: 0.75rem;
            }
            .tradeoff-item {
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .tradeoff-item.perf { color: #10b981; }
            .tradeoff-item.cons { color: #ec4899; }
          </style>
          
          <div class="consistency-viz">
            <!-- Strong vs Eventual Demo -->
            <div class="consistency-demo">
              <div class="cons-scenario strong">
                <div class="cons-header">
                  <div class="cons-icon">üí™</div>
                  <div class="cons-title">Strong Consistency</div>
                </div>
                <div class="cons-nodes">
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                </div>
                <div class="cons-timeline">All nodes show <span>same data instantly</span></div>
              </div>
              
              <div class="cons-scenario eventual">
                <div class="cons-header">
                  <div class="cons-icon">‚è≥</div>
                  <div class="cons-title">Eventual Consistency</div>
                </div>
                <div class="cons-nodes">
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                  <div class="cons-node stale updating">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v4</span>
                  </div>
                  <div class="cons-node stale updating">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v3</span>
                  </div>
                </div>
                <div class="cons-timeline">Nodes <span>converge over time</span></div>
              </div>
            </div>
            
            <!-- Consistency Models Spectrum -->
            <div class="models-spectrum">
              <div class="spectrum-title">Consistency Models Spectrum</div>
              <div class="spectrum-bar"></div>
              <div class="spectrum-labels">
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Linearizable</div>
                  <div class="spectrum-label-desc">Real-time order</div>
                </div>
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Sequential</div>
                  <div class="spectrum-label-desc">Global order</div>
                </div>
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Causal</div>
                  <div class="spectrum-label-desc">Cause ‚Üí Effect</div>
                </div>
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Eventual</div>
                  <div class="spectrum-label-desc">Eventually same</div>
                </div>
              </div>
              <div class="spectrum-tradeoff">
                <div class="tradeoff-item cons">‚Üê Stronger Guarantees</div>
                <div style="color: #6b7280;">Trade-off</div>
                <div class="tradeoff-item perf">Better Performance ‚Üí</div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Consistency</strong> in distributed systems ensures that all clients see the same data at the same time, regardless of which node they connect to. It's about maintaining data correctness across replicas.</p>
          <p>The trade-off between consistency and availability is fundamental in distributed systems (CAP theorem). Different consistency models offer different guarantees based on application requirements.</p>
        `,
        keyPoints: [
          { icon: "üí™", title: "Strong Consistency", desc: "All reads receive the most recent write. Provides simplest programming model but may impact availability.", color: "#ec4899" },
          { icon: "‚è≥", title: "Eventual Consistency", desc: "All replicas will eventually converge to the same state. Higher availability but temporary inconsistency.", color: "#8b5cf6" },
          { icon: "üîÄ", title: "Causal Consistency", desc: "Operations that are causally related are seen in the same order by all nodes.", color: "#10b981" },
          { icon: "üìù", title: "Read-Your-Writes", desc: "A client always sees their own writes immediately, even if other clients don't yet.", color: "#3b82f6" }
        ],
        formula: "Consistency Models: Strong > Sequential > Causal > Eventual",
        strategies: [
          { title: "Consensus Protocols", desc: "Use algorithms like Paxos or Raft to achieve agreement among distributed nodes on data values." },
          { title: "Quorum-based Replication", desc: "Require a majority of nodes to acknowledge writes before confirming, balancing consistency and availability." },
          { title: "Vector Clocks", desc: "Track causality between events to detect and resolve conflicts in eventually consistent systems." },
          { title: "Conflict Resolution", desc: "Define rules for handling concurrent updates - last-write-wins, merge strategies, or application-specific logic." }
        ],
        metrics: [
          { level: "Linearizable", downtime: "Real-time ordering", useCase: "Financial transactions" },
          { level: "Sequential", downtime: "Global order preserved", useCase: "Audit logs" },
          { level: "Causal", downtime: "Cause-effect ordering", useCase: "Social media feeds" },
          { level: "Eventual", downtime: "Converges over time", useCase: "DNS, shopping carts" }
        ]
      },
      "cap-theorem": {
        title: "CAP Theorem",
        subtitle: "In a distributed system, you can only guarantee two of three properties: Consistency, Availability, and Partition Tolerance.",
        badge: { text: "Fundamental Theory", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <div style="display: flex; flex-direction: column; align-items: center; gap: 30px;">
            <svg width="300" height="260" viewBox="0 0 300 260">
              <!-- Triangle -->
              <polygon points="150,20 280,220 20,220" fill="none" stroke="#f59e0b" stroke-width="3"/>
              
              <!-- Vertices -->
              <circle cx="150" cy="20" r="40" fill="rgba(59, 130, 246, 0.2)" stroke="#3b82f6" stroke-width="2"/>
              <text x="150" y="25" text-anchor="middle" fill="#3b82f6" font-weight="bold" font-size="14">C</text>
              
              <circle cx="280" cy="220" r="40" fill="rgba(16, 185, 129, 0.2)" stroke="#10b981" stroke-width="2"/>
              <text x="280" y="225" text-anchor="middle" fill="#10b981" font-weight="bold" font-size="14">A</text>
              
              <circle cx="20" cy="220" r="40" fill="rgba(139, 92, 246, 0.2)" stroke="#8b5cf6" stroke-width="2"/>
              <text x="20" y="225" text-anchor="middle" fill="#8b5cf6" font-weight="bold" font-size="14">P</text>
              
              <!-- Edge Labels -->
              <text x="215" y="100" fill="#a0a0b0" font-size="11">CA</text>
              <text x="75" y="100" fill="#a0a0b0" font-size="11">CP</text>
              <text x="150" y="240" fill="#a0a0b0" font-size="11">AP</text>
            </svg>
            <div style="display: flex; gap: 24px; flex-wrap: wrap; justify-content: center;">
              <div style="text-align: center;">
                <div style="color: #3b82f6; font-weight: 600;">Consistency</div>
                <div style="color: #a0a0b0; font-size: 0.85rem;">Same data everywhere</div>
              </div>
              <div style="text-align: center;">
                <div style="color: #10b981; font-weight: 600;">Availability</div>
                <div style="color: #a0a0b0; font-size: 0.85rem;">Always responds</div>
              </div>
              <div style="text-align: center;">
                <div style="color: #8b5cf6; font-weight: 600;">Partition Tolerance</div>
                <div style="color: #a0a0b0; font-size: 0.85rem;">Survives network splits</div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>The <strong>CAP Theorem</strong> (Brewer's Theorem) states that a distributed data store cannot simultaneously provide more than two of three guarantees: Consistency, Availability, and Partition Tolerance.</p>
          <p>Since network partitions are inevitable in distributed systems, the real choice is between <strong>CP</strong> (consistency over availability during partitions) or <strong>AP</strong> (availability over consistency during partitions).</p>
        `,
        keyPoints: [
          { icon: "üîó", title: "Consistency (C)", desc: "Every read receives the most recent write or an error. All nodes see the same data.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Availability (A)", desc: "Every request receives a response, without guarantee it contains the most recent write.", color: "#10b981" },
          { icon: "üîÄ", title: "Partition Tolerance (P)", desc: "System continues to operate despite network partitions between nodes.", color: "#8b5cf6" },
          { icon: "‚öñÔ∏è", title: "Trade-offs", desc: "Choose CP for banking/inventory; AP for social media/caching. PACELC extends CAP.", color: "#f59e0b" }
        ],
        formula: "Pick 2: Consistency + Availability + Partition Tolerance",
        strategies: [
          { title: "CP Systems (e.g., MongoDB, HBase)", desc: "Prioritize consistency. During partitions, may refuse writes to maintain consistency across nodes." },
          { title: "AP Systems (e.g., Cassandra, DynamoDB)", desc: "Prioritize availability. Accept writes during partitions, resolve conflicts later with eventual consistency." },
          { title: "PACELC Extension", desc: "Extends CAP: if Partition, choose A or C; Else (normal operation), choose Latency or Consistency." },
          { title: "Tunable Consistency", desc: "Some systems allow per-query consistency levels, letting developers choose the right trade-off per operation." }
        ],
        metrics: [
          { level: "CP", downtime: "PostgreSQL, MongoDB", useCase: "Banking, inventory systems" },
          { level: "AP", downtime: "Cassandra, CouchDB", useCase: "Social media, IoT" },
          { level: "CA", downtime: "Single-node RDBMS", useCase: "Small-scale apps (no partitions)" },
          { level: "Tunable", downtime: "Cosmos DB, Cassandra", useCase: "Flexible per-operation choice" }
        ]
      },
      "load-balancing": {
        title: "Load Balancing",
        subtitle: "The process of distributing network traffic across multiple servers to ensure no single server becomes overwhelmed.",
        badge: { text: "Architecture Pattern", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .lb-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .lb-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(6, 182, 212, 0.2);
            }
            .lb-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .lb-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #06b6d4;
              border-radius: 50%;
            }
            .lb-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .lb-users {
              display: flex;
              gap: 8px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .lb-user {
              padding: 8px 12px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.3);
              border-radius: 6px;
              font-size: 0.75rem;
              display: flex;
              align-items: center;
              gap: 4px;
              animation: userFlow 2s ease-in-out infinite;
            }
            .lb-user:nth-child(2) { animation-delay: 0.3s; }
            .lb-user:nth-child(3) { animation-delay: 0.6s; }
            .lb-user:nth-child(4) { animation-delay: 0.9s; }
            .lb-user:nth-child(5) { animation-delay: 1.2s; }
            @keyframes userFlow {
              0%, 100% { transform: translateY(0); opacity: 0.7; }
              50% { transform: translateY(3px); opacity: 1; }
            }
            .lb-arrows-down {
              display: flex;
              gap: 20px;
              color: #06b6d4;
              font-size: 1rem;
            }
            .lb-balancer {
              padding: 20px 50px;
              background: linear-gradient(135deg, #06b6d4, #0891b2);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(6, 182, 212, 0.3);
              position: relative;
            }
            .lb-balancer-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .lb-balancer-text {
              font-weight: 600;
              font-size: 1.1rem;
            }
            .lb-balancer-sub {
              font-size: 0.7rem;
              opacity: 0.8;
              margin-top: 4px;
            }
            .lb-distribution {
              display: flex;
              gap: 8px;
              color: #06b6d4;
              font-size: 0.9rem;
            }
            .lb-dist-arrow {
              animation: distFlow 1s ease-in-out infinite;
            }
            .lb-dist-arrow:nth-child(1) { animation-delay: 0s; }
            .lb-dist-arrow:nth-child(2) { animation-delay: 0.2s; }
            .lb-dist-arrow:nth-child(3) { animation-delay: 0.4s; }
            @keyframes distFlow {
              0%, 100% { opacity: 0.5; }
              50% { opacity: 1; }
            }
            .lb-servers {
              display: flex;
              gap: 16px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .lb-server {
              padding: 14px 20px;
              background: rgba(30, 35, 50, 0.8);
              border: 1px solid rgba(255, 255, 255, 0.1);
              border-radius: 10px;
              text-align: center;
              min-width: 90px;
            }
            .lb-server-icon {
              font-size: 1.4rem;
              margin-bottom: 4px;
            }
            .lb-server-name {
              font-size: 0.8rem;
              color: #e5e5e5;
              margin-bottom: 6px;
            }
            .lb-server-load {
              height: 6px;
              background: rgba(255, 255, 255, 0.1);
              border-radius: 3px;
              overflow: hidden;
            }
            .lb-server-load-fill {
              height: 100%;
              border-radius: 3px;
            }
            .lb-server:nth-child(1) .lb-server-load-fill { width: 65%; background: #10b981; }
            .lb-server:nth-child(2) .lb-server-load-fill { width: 72%; background: #10b981; }
            .lb-server:nth-child(3) .lb-server-load-fill { width: 58%; background: #10b981; }
            .lb-server:nth-child(4) .lb-server-load-fill { width: 70%; background: #10b981; }
            .lb-server-percent {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Algorithms */
            .lb-algorithms {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .lb-algo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .lb-algo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .lb-algo-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .lb-algo-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .lb-algo {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .lb-algo-icon {
              font-size: 1.3rem;
              margin-bottom: 6px;
            }
            .lb-algo-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .lb-algo-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="lb-viz">
            <!-- Traffic Flow -->
            <div class="lb-flow">
              <div class="lb-flow-title">Traffic Distribution Flow</div>
              <div class="lb-diagram">
                <div class="lb-users">
                  <div class="lb-user">üë§ User 1</div>
                  <div class="lb-user">üë§ User 2</div>
                  <div class="lb-user">üë§ User 3</div>
                  <div class="lb-user">üë§ User 4</div>
                  <div class="lb-user">üë§ User 5</div>
                </div>
                <div class="lb-arrows-down">‚Üì ‚Üì ‚Üì ‚Üì ‚Üì</div>
                <div class="lb-balancer">
                  <div class="lb-balancer-icon">‚öñÔ∏è</div>
                  <div class="lb-balancer-text">Load Balancer</div>
                  <div class="lb-balancer-sub">Health checks ‚Ä¢ Routing ‚Ä¢ SSL termination</div>
                </div>
                <div class="lb-distribution">
                  <span class="lb-dist-arrow">‚ÜôÔ∏è</span>
                  <span class="lb-dist-arrow">‚Üì</span>
                  <span class="lb-dist-arrow">‚Üì</span>
                  <span class="lb-dist-arrow">‚ÜòÔ∏è</span>
                </div>
                <div class="lb-servers">
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 1</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">65% load</div>
                  </div>
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 2</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">72% load</div>
                  </div>
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 3</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">58% load</div>
                  </div>
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 4</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">70% load</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Algorithms -->
            <div class="lb-algorithms">
              <div class="lb-algo-title">Load Balancing Algorithms</div>
              <div class="lb-algo-grid">
                <div class="lb-algo">
                  <div class="lb-algo-icon">üîÑ</div>
                  <div class="lb-algo-name">Round Robin</div>
                  <div class="lb-algo-desc">Sequential rotation</div>
                </div>
                <div class="lb-algo">
                  <div class="lb-algo-icon">üìä</div>
                  <div class="lb-algo-name">Least Connections</div>
                  <div class="lb-algo-desc">Fewest active</div>
                </div>
                <div class="lb-algo">
                  <div class="lb-algo-icon">‚ö°</div>
                  <div class="lb-algo-name">Weighted</div>
                  <div class="lb-algo-desc">By server capacity</div>
                </div>
                <div class="lb-algo">
                  <div class="lb-algo-icon">üìç</div>
                  <div class="lb-algo-name">IP Hash</div>
                  <div class="lb-algo-desc">Session stickiness</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Load Balancing</strong> distributes incoming network traffic across multiple backend servers to ensure optimal resource utilization, minimize response time, and avoid overloading any single server.</p>
          <p>Load balancers act as a reverse proxy, sitting between clients and servers. They improve application availability and responsiveness while enabling horizontal scaling.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Round Robin", desc: "Distributes requests sequentially to each server in turn. Simple but doesn't consider server load.", color: "#06b6d4" },
          { icon: "üìä", title: "Least Connections", desc: "Routes to the server with fewest active connections. Better for varying request durations.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Weighted Distribution", desc: "Assigns more traffic to more powerful servers based on capacity weights.", color: "#10b981" },
          { icon: "üìç", title: "IP Hash", desc: "Routes based on client IP for session persistence. Same client always reaches same server.", color: "#8b5cf6" }
        ],
        formula: "Response Time = Request Time + (Queue Time √ó Server Load)",
        strategies: [
          { title: "Layer 4 (Transport)", desc: "Balance based on IP and TCP/UDP ports. Fast but limited visibility into application data." },
          { title: "Layer 7 (Application)", desc: "Route based on HTTP headers, URLs, cookies. More intelligent but higher overhead." },
          { title: "Health Checks", desc: "Continuously probe backend servers and remove unhealthy ones from rotation automatically." },
          { title: "Session Persistence", desc: "Use sticky sessions or external session storage to maintain user state across requests." }
        ],
        metrics: [
          { level: "Hardware LB", downtime: "F5, Citrix", useCase: "High performance, enterprise" },
          { level: "Software LB", downtime: "NGINX, HAProxy", useCase: "Flexible, cost-effective" },
          { level: "Cloud LB", downtime: "AWS ALB/NLB, GCP LB", useCase: "Managed, auto-scaling" },
          { level: "DNS LB", downtime: "Route 53, Cloudflare", useCase: "Global distribution" }
        ]
      },
      caching: {
        title: "Caching",
        subtitle: "Storing copies of frequently accessed data in a faster storage layer to reduce latency and backend load.",
        badge: { text: "Performance", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .cache-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cache-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .cache-row { flex-direction: column; }
            }
            
            /* Cache Flow */
            .cache-flow {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .cache-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cache-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .cache-diagram {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 16px;
              flex-wrap: wrap;
            }
            .cache-component {
              padding: 20px;
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
            }
            .cache-app {
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.3);
            }
            .cache-cache {
              background: rgba(245, 158, 11, 0.15);
              border: 2px solid rgba(245, 158, 11, 0.5);
              position: relative;
            }
            .cache-db {
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.3);
            }
            .cache-comp-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .cache-comp-name {
              font-weight: 500;
              font-size: 0.9rem;
              margin-bottom: 4px;
            }
            .cache-comp-time {
              font-size: 0.75rem;
              color: #6b7280;
            }
            .cache-cache .cache-comp-time { color: #f59e0b; }
            .cache-arrow {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 4px;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .cache-arrow-icon {
              font-size: 1.2rem;
            }
            .cache-arrow.hit .cache-arrow-icon { color: #10b981; }
            .cache-arrow.miss .cache-arrow-icon { color: #ef4444; }
            
            /* Hit Rate */
            .hit-rate {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .hit-rate-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .hit-rate-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .hit-rate-gauge {
              text-align: center;
              margin-bottom: 16px;
            }
            .hit-rate-value {
              font-size: 3rem;
              font-weight: 700;
              color: #10b981;
            }
            .hit-rate-label {
              font-size: 0.8rem;
              color: #6b7280;
            }
            .hit-miss-bar {
              height: 16px;
              background: rgba(239, 68, 68, 0.3);
              border-radius: 8px;
              overflow: hidden;
              margin-bottom: 8px;
            }
            .hit-bar {
              height: 100%;
              width: 95%;
              background: linear-gradient(90deg, #10b981, #059669);
              border-radius: 8px;
            }
            .hit-miss-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
            }
            .hit-label { color: #10b981; }
            .miss-label { color: #ef4444; }
            
            /* Cache Layers */
            .cache-layers {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .cache-layers-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cache-layers-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .layers-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .layers-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .layer-card {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
              transition: all 0.3s ease;
            }
            .layer-card:hover {
              transform: translateY(-2px);
            }
            .layer-card:nth-child(1) { border-color: rgba(59, 130, 246, 0.3); }
            .layer-card:nth-child(2) { border-color: rgba(16, 185, 129, 0.3); }
            .layer-card:nth-child(3) { border-color: rgba(245, 158, 11, 0.3); }
            .layer-card:nth-child(4) { border-color: rgba(139, 92, 246, 0.3); }
            .layer-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .layer-name {
              font-size: 0.85rem;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .layer-card:nth-child(1) .layer-name { color: #3b82f6; }
            .layer-card:nth-child(2) .layer-name { color: #10b981; }
            .layer-card:nth-child(3) .layer-name { color: #f59e0b; }
            .layer-card:nth-child(4) .layer-name { color: #8b5cf6; }
            .layer-speed {
              font-size: 0.7rem;
              color: #6b7280;
            }
          </style>
          
          <div class="cache-viz">
            <div class="cache-row">
              <!-- Cache Flow Diagram -->
              <div class="cache-flow">
                <div class="cache-flow-title">Cache-Aside Pattern (Read-Through)</div>
                <div class="cache-diagram">
                  <div class="cache-component cache-app">
                    <div class="cache-comp-icon">üì±</div>
                    <div class="cache-comp-name">Application</div>
                    <div class="cache-comp-time">Request</div>
                  </div>
                  <div class="cache-arrow hit">
                    <span class="cache-arrow-icon">‚Üí</span>
                    <span>1. Check</span>
                  </div>
                  <div class="cache-component cache-cache">
                    <div class="cache-comp-icon">‚ö°</div>
                    <div class="cache-comp-name">Cache</div>
                    <div class="cache-comp-time">~1ms</div>
                  </div>
                  <div class="cache-arrow miss">
                    <span class="cache-arrow-icon">‚Üí</span>
                    <span>2. Miss?</span>
                  </div>
                  <div class="cache-component cache-db">
                    <div class="cache-comp-icon">üíæ</div>
                    <div class="cache-comp-name">Database</div>
                    <div class="cache-comp-time">~100ms</div>
                  </div>
                </div>
              </div>
              
              <!-- Hit Rate -->
              <div class="hit-rate">
                <div class="hit-rate-title">Cache Hit Rate</div>
                <div class="hit-rate-gauge">
                  <div class="hit-rate-value">95%</div>
                  <div class="hit-rate-label">Excellent Performance</div>
                </div>
                <div class="hit-miss-bar">
                  <div class="hit-bar"></div>
                </div>
                <div class="hit-miss-labels">
                  <span class="hit-label">‚úì Hits: 950/1000</span>
                  <span class="miss-label">‚úó Misses: 50</span>
                </div>
              </div>
            </div>
            
            <!-- Cache Layers -->
            <div class="cache-layers">
              <div class="cache-layers-title">Multi-Level Cache Architecture</div>
              <div class="layers-grid">
                <div class="layer-card">
                  <div class="layer-icon">üåê</div>
                  <div class="layer-name">Browser</div>
                  <div class="layer-speed">0ms (local)</div>
                </div>
                <div class="layer-card">
                  <div class="layer-icon">üåç</div>
                  <div class="layer-name">CDN Edge</div>
                  <div class="layer-speed">10-50ms</div>
                </div>
                <div class="layer-card">
                  <div class="layer-icon">‚ö°</div>
                  <div class="layer-name">Redis/Memcached</div>
                  <div class="layer-speed">1-5ms</div>
                </div>
                <div class="layer-card">
                  <div class="layer-icon">üíæ</div>
                  <div class="layer-name">DB Query Cache</div>
                  <div class="layer-speed">10-50ms</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Caching</strong> is the practice of storing copies of data in a high-speed storage layer so future requests for that data can be served faster. It's one of the most effective techniques for improving system performance.</p>
          <p>Caches exist at multiple levels: browser cache, CDN, application cache (Redis/Memcached), and database query cache. Each level serves different purposes and has different characteristics.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Cache-Aside (Lazy Loading)", desc: "Application checks cache first; on miss, loads from DB and populates cache.", color: "#f59e0b" },
          { icon: "‚úçÔ∏è", title: "Write-Through", desc: "Write to cache and DB simultaneously. Consistent but slower writes.", color: "#3b82f6" },
          { icon: "üìù", title: "Write-Behind", desc: "Write to cache immediately, async write to DB. Fast but risk of data loss.", color: "#8b5cf6" },
          { icon: "‚è∞", title: "TTL (Time-To-Live)", desc: "Automatically expire cached data after a set duration to ensure freshness.", color: "#10b981" }
        ],
        formula: "Hit Rate = Cache Hits / (Cache Hits + Cache Misses) √ó 100%",
        strategies: [
          { title: "Cache Invalidation", desc: "Proactively remove or update cached data when source data changes. 'The two hardest problems in CS...'" },
          { title: "Cache Warming", desc: "Pre-populate cache with frequently accessed data before traffic hits, avoiding cold-start issues." },
          { title: "Distributed Caching", desc: "Use clustered cache (Redis Cluster) for high availability and to handle larger datasets." },
          { title: "Multi-tier Caching", desc: "Combine local in-memory cache (L1) with distributed cache (L2) for optimal performance." }
        ],
        metrics: [
          { level: "Redis", downtime: "In-memory, persistent", useCase: "Session store, real-time data" },
          { level: "Memcached", downtime: "Simple, distributed", useCase: "Simple key-value caching" },
          { level: "CDN", downtime: "Edge caching", useCase: "Static assets, global distribution" },
          { level: "Browser", downtime: "Client-side", useCase: "Assets, API responses" }
        ]
      },
      maintainability: {
        title: "Maintainability",
        subtitle: "The ease with which a system can be modified, updated, extended, and operated over time.",
        badge: { text: "Core Principle", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .maintainability-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .maintain-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .maintain-row { flex-direction: column; }
            }
            
            /* Code Health Dashboard */
            .code-health {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(6, 182, 212, 0.2);
            }
            .health-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .health-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #06b6d4;
              border-radius: 50%;
            }
            .health-metrics {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 12px;
            }
            @media (max-width: 500px) {
              .health-metrics { grid-template-columns: 1fr; }
            }
            .health-metric {
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              padding: 14px;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .health-metric-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 8px;
            }
            .health-metric-name {
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            .health-metric-value {
              font-size: 0.9rem;
              font-weight: 600;
            }
            .health-metric:nth-child(1) .health-metric-value { color: #10b981; }
            .health-metric:nth-child(2) .health-metric-value { color: #3b82f6; }
            .health-metric:nth-child(3) .health-metric-value { color: #8b5cf6; }
            .health-metric:nth-child(4) .health-metric-value { color: #f59e0b; }
            .health-bar {
              height: 6px;
              background: rgba(255, 255, 255, 0.1);
              border-radius: 3px;
              overflow: hidden;
            }
            .health-bar-fill {
              height: 100%;
              border-radius: 3px;
              transition: width 1s ease;
            }
            .health-metric:nth-child(1) .health-bar-fill { width: 87%; background: #10b981; }
            .health-metric:nth-child(2) .health-bar-fill { width: 92%; background: #3b82f6; }
            .health-metric:nth-child(3) .health-bar-fill { width: 78%; background: #8b5cf6; }
            .health-metric:nth-child(4) .health-bar-fill { width: 95%; background: #f59e0b; }
            
            /* Three Pillars */
            .pillars-section {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .pillars-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .pillars-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .pillar-stack {
              display: flex;
              flex-direction: column;
              gap: 10px;
            }
            .pillar-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 8px;
              border-left: 3px solid;
            }
            .pillar-item:nth-child(1) { border-color: #06b6d4; }
            .pillar-item:nth-child(2) { border-color: #8b5cf6; }
            .pillar-item:nth-child(3) { border-color: #10b981; }
            .pillar-icon {
              font-size: 1.3rem;
            }
            .pillar-content {
              flex: 1;
            }
            .pillar-name {
              font-weight: 500;
              font-size: 0.9rem;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .pillar-desc {
              font-size: 0.7rem;
              color: #6b7280;
            }
            
            /* Tech Debt Visualization */
            .debt-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .debt-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .debt-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .debt-comparison {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 16px;
            }
            @media (max-width: 600px) {
              .debt-comparison { grid-template-columns: 1fr; }
            }
            .debt-card {
              padding: 16px;
              border-radius: 10px;
              text-align: center;
            }
            .debt-card.neglected {
              background: rgba(239, 68, 68, 0.1);
              border: 1px solid rgba(239, 68, 68, 0.3);
            }
            .debt-card.maintained {
              background: rgba(16, 185, 129, 0.1);
              border: 1px solid rgba(16, 185, 129, 0.3);
            }
            .debt-header {
              font-size: 0.75rem;
              font-weight: 500;
              margin-bottom: 12px;
            }
            .debt-card.neglected .debt-header { color: #ef4444; }
            .debt-card.maintained .debt-header { color: #10b981; }
            .debt-graph {
              display: flex;
              align-items: flex-end;
              justify-content: center;
              gap: 4px;
              height: 60px;
              margin-bottom: 10px;
            }
            .debt-bar {
              width: 16px;
              border-radius: 2px 2px 0 0;
              transition: height 0.5s ease;
            }
            .debt-card.neglected .debt-bar { background: #ef4444; }
            .debt-card.maintained .debt-bar { background: #10b981; }
            .debt-card.neglected .debt-bar:nth-child(1) { height: 20%; }
            .debt-card.neglected .debt-bar:nth-child(2) { height: 35%; }
            .debt-card.neglected .debt-bar:nth-child(3) { height: 50%; }
            .debt-card.neglected .debt-bar:nth-child(4) { height: 70%; }
            .debt-card.neglected .debt-bar:nth-child(5) { height: 95%; animation: debtPulse 1s ease-in-out infinite; }
            .debt-card.maintained .debt-bar:nth-child(1) { height: 30%; }
            .debt-card.maintained .debt-bar:nth-child(2) { height: 25%; }
            .debt-card.maintained .debt-bar:nth-child(3) { height: 20%; }
            .debt-card.maintained .debt-bar:nth-child(4) { height: 15%; }
            .debt-card.maintained .debt-bar:nth-child(5) { height: 10%; }
            @keyframes debtPulse {
              0%, 100% { opacity: 0.7; }
              50% { opacity: 1; }
            }
            .debt-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .debt-impact {
              margin-top: 8px;
              font-size: 0.75rem;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 6px;
            }
            .debt-card.neglected .debt-impact { color: #ef4444; }
            .debt-card.maintained .debt-impact { color: #10b981; }
          </style>
          
          <div class="maintainability-viz">
            <div class="maintain-row">
              <!-- Code Health Dashboard -->
              <div class="code-health">
                <div class="health-title">Codebase Health Score</div>
                <div class="health-metrics">
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Test Coverage</span>
                      <span class="health-metric-value">87%</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Documentation</span>
                      <span class="health-metric-value">92%</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Code Complexity</span>
                      <span class="health-metric-value">Low</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Modularity</span>
                      <span class="health-metric-value">95%</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                </div>
              </div>
              
              <!-- Three Pillars -->
              <div class="pillars-section">
                <div class="pillars-title">Three Pillars</div>
                <div class="pillar-stack">
                  <div class="pillar-item">
                    <span class="pillar-icon">‚öôÔ∏è</span>
                    <div class="pillar-content">
                      <div class="pillar-name">Operability</div>
                      <div class="pillar-desc">Easy to keep running smoothly</div>
                    </div>
                  </div>
                  <div class="pillar-item">
                    <span class="pillar-icon">üß©</span>
                    <div class="pillar-content">
                      <div class="pillar-name">Simplicity</div>
                      <div class="pillar-desc">Easy to understand the codebase</div>
                    </div>
                  </div>
                  <div class="pillar-item">
                    <span class="pillar-icon">üå±</span>
                    <div class="pillar-content">
                      <div class="pillar-name">Evolvability</div>
                      <div class="pillar-desc">Easy to add new features</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Technical Debt Over Time -->
            <div class="debt-section">
              <div class="debt-title">Technical Debt Over Time</div>
              <div class="debt-comparison">
                <div class="debt-card neglected">
                  <div class="debt-header">üö® Neglected Codebase</div>
                  <div class="debt-graph">
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                  </div>
                  <div class="debt-label">Year 1 ‚Üí Year 5</div>
                  <div class="debt-impact">‚¨ÜÔ∏è Debt compounds exponentially</div>
                </div>
                <div class="debt-card maintained">
                  <div class="debt-header">‚ú® Well-Maintained Codebase</div>
                  <div class="debt-graph">
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                  </div>
                  <div class="debt-label">Year 1 ‚Üí Year 5</div>
                  <div class="debt-impact">‚¨áÔ∏è Continuous refactoring pays off</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Maintainability</strong> refers to how easily a system can be modified to fix bugs, improve performance, add features, or adapt to changes. It's critical for long-term system health.</p>
          <p>A maintainable system reduces technical debt, enables faster development cycles, and makes it easier for new team members to contribute effectively.</p>
        `,
        keyPoints: [
          { icon: "üìù", title: "Clean Code", desc: "Write readable, well-structured code with clear naming conventions and consistent style.", color: "#06b6d4" },
          { icon: "üìö", title: "Documentation", desc: "Maintain up-to-date documentation for architecture, APIs, and operational procedures.", color: "#3b82f6" },
          { icon: "üß©", title: "Modularity", desc: "Design loosely coupled components that can be modified independently.", color: "#8b5cf6" },
          { icon: "üîç", title: "Observability", desc: "Implement logging, metrics, and tracing to understand system behavior.", color: "#10b981" }
        ],
        formula: "Maintainability = Operability + Simplicity + Evolvability",
        strategies: [
          { title: "Code Reviews", desc: "Enforce peer reviews to catch issues early, share knowledge, and maintain code quality standards." },
          { title: "Automated Testing", desc: "Build comprehensive test suites (unit, integration, e2e) to enable confident refactoring." },
          { title: "Infrastructure as Code", desc: "Version control infrastructure configurations for reproducibility and change tracking." },
          { title: "Continuous Refactoring", desc: "Regularly improve code structure without changing behavior to prevent technical debt accumulation." }
        ],
        metrics: [
          { level: "MTTR", downtime: "Mean Time To Repair", useCase: "How quickly bugs are fixed" },
          { level: "Code Coverage", downtime: "% of tested code", useCase: "Confidence in changes" },
          { level: "Cyclomatic Complexity", downtime: "Code complexity score", useCase: "Readability indicator" },
          { level: "Deploy Frequency", downtime: "Deploys per day/week", useCase: "Development velocity" }
        ]
      },
      performance: {
        title: "Performance",
        subtitle: "The responsiveness and efficiency of a system in processing requests and utilizing resources.",
        badge: { text: "Core Principle", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .performance-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .perf-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .perf-row { flex-direction: column; }
            }
            
            /* Latency Gauge */
            .latency-gauge {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(239, 68, 68, 0.2);
              text-align: center;
            }
            .gauge-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 8px;
            }
            .gauge-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ef4444;
              border-radius: 50%;
            }
            .gauge-container {
              position: relative;
              width: 180px;
              height: 100px;
              margin: 0 auto 16px;
            }
            .gauge-bg {
              position: absolute;
              width: 180px;
              height: 90px;
              border-radius: 90px 90px 0 0;
              background: conic-gradient(from 180deg at 50% 100%, 
                #10b981 0deg, 
                #10b981 60deg, 
                #f59e0b 60deg, 
                #f59e0b 120deg, 
                #ef4444 120deg, 
                #ef4444 180deg);
              opacity: 0.3;
            }
            .gauge-fill {
              position: absolute;
              bottom: 0;
              left: 50%;
              width: 4px;
              height: 70px;
              background: linear-gradient(to top, #ef4444, #fff);
              transform-origin: bottom center;
              transform: translateX(-50%) rotate(-60deg);
              border-radius: 2px;
              animation: gaugeSwing 3s ease-in-out infinite;
            }
            @keyframes gaugeSwing {
              0%, 100% { transform: translateX(-50%) rotate(-60deg); }
              50% { transform: translateX(-50%) rotate(-45deg); }
            }
            .gauge-center {
              position: absolute;
              bottom: -5px;
              left: 50%;
              transform: translateX(-50%);
              width: 16px;
              height: 16px;
              background: #1a1f2e;
              border: 3px solid #ef4444;
              border-radius: 50%;
            }
            .gauge-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 8px;
            }
            .gauge-value {
              font-size: 2rem;
              font-weight: 700;
              color: #10b981;
            }
            .gauge-unit {
              font-size: 0.9rem;
              color: #6b7280;
            }
            .gauge-status {
              font-size: 0.75rem;
              color: #10b981;
              margin-top: 4px;
            }
            
            /* Percentile Distribution */
            .percentile-section {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .percentile-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .percentile-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .percentile-bars {
              display: flex;
              flex-direction: column;
              gap: 12px;
            }
            .percentile-row {
              display: flex;
              align-items: center;
              gap: 12px;
            }
            .percentile-label {
              width: 50px;
              font-size: 0.8rem;
              font-weight: 500;
              text-align: right;
            }
            .p50-label { color: #10b981; }
            .p90-label { color: #3b82f6; }
            .p95-label { color: #8b5cf6; }
            .p99-label { color: #f59e0b; }
            .p999-label { color: #ef4444; }
            .percentile-bar-bg {
              flex: 1;
              height: 24px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 4px;
              overflow: hidden;
              position: relative;
            }
            .percentile-bar-fill {
              height: 100%;
              border-radius: 4px;
              display: flex;
              align-items: center;
              padding-left: 10px;
              font-size: 0.7rem;
              font-weight: 500;
              color: rgba(255,255,255,0.9);
              transition: width 1s ease;
            }
            .p50-bar { width: 15%; background: linear-gradient(90deg, #10b981, #059669); }
            .p90-bar { width: 35%; background: linear-gradient(90deg, #3b82f6, #2563eb); }
            .p95-bar { width: 50%; background: linear-gradient(90deg, #8b5cf6, #7c3aed); }
            .p99-bar { width: 75%; background: linear-gradient(90deg, #f59e0b, #d97706); }
            .p999-bar { width: 100%; background: linear-gradient(90deg, #ef4444, #dc2626); }
            .percentile-value {
              width: 60px;
              font-size: 0.8rem;
              color: #a0a0b0;
            }
            
            /* Throughput Stats */
            .throughput-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .throughput-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .throughput-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .throughput-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 16px;
            }
            @media (max-width: 700px) {
              .throughput-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .throughput-stat {
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              padding: 16px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .throughput-value {
              font-size: 1.5rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .throughput-stat:nth-child(1) .throughput-value { color: #10b981; }
            .throughput-stat:nth-child(2) .throughput-value { color: #3b82f6; }
            .throughput-stat:nth-child(3) .throughput-value { color: #8b5cf6; }
            .throughput-stat:nth-child(4) .throughput-value { color: #f59e0b; }
            .throughput-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .throughput-trend {
              font-size: 0.65rem;
              margin-top: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 4px;
            }
            .trend-up { color: #10b981; }
            .trend-stable { color: #6b7280; }
          </style>
          
          <div class="performance-viz">
            <div class="perf-row">
              <!-- Response Time Gauge -->
              <div class="latency-gauge">
                <div class="gauge-title">Response Time</div>
                <div class="gauge-container">
                  <div class="gauge-bg"></div>
                  <div class="gauge-fill"></div>
                  <div class="gauge-center"></div>
                </div>
                <div class="gauge-labels">
                  <span style="color: #10b981;">Fast</span>
                  <span style="color: #f59e0b;">Medium</span>
                  <span style="color: #ef4444;">Slow</span>
                </div>
                <div class="gauge-value">42<span class="gauge-unit">ms</span></div>
                <div class="gauge-status">‚úì Excellent Performance</div>
              </div>
              
              <!-- Latency Percentiles -->
              <div class="percentile-section">
                <div class="percentile-title">Latency Distribution (Percentiles)</div>
                <div class="percentile-bars">
                  <div class="percentile-row">
                    <span class="percentile-label p50-label">P50</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p50-bar">12ms</div>
                    </div>
                    <span class="percentile-value">Median</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p90-label">P90</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p90-bar">45ms</div>
                    </div>
                    <span class="percentile-value">Most users</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p95-label">P95</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p95-bar">78ms</div>
                    </div>
                    <span class="percentile-value">Typical SLA</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p99-label">P99</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p99-bar">156ms</div>
                    </div>
                    <span class="percentile-value">Outliers</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p999-label">P99.9</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p999-bar">420ms</div>
                    </div>
                    <span class="percentile-value">Worst case</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Throughput Metrics -->
            <div class="throughput-section">
              <div class="throughput-title">Real-Time Throughput Metrics</div>
              <div class="throughput-grid">
                <div class="throughput-stat">
                  <div class="throughput-value">12.5K</div>
                  <div class="throughput-label">Requests/sec</div>
                  <div class="throughput-trend trend-up">‚Üë 8% from avg</div>
                </div>
                <div class="throughput-stat">
                  <div class="throughput-value">99.2%</div>
                  <div class="throughput-label">Success Rate</div>
                  <div class="throughput-trend trend-stable">‚Üí Stable</div>
                </div>
                <div class="throughput-stat">
                  <div class="throughput-value">2.1</div>
                  <div class="throughput-label">Apdex Score</div>
                  <div class="throughput-trend trend-up">‚Üë Excellent</div>
                </div>
                <div class="throughput-stat">
                  <div class="throughput-value">34%</div>
                  <div class="throughput-label">CPU Usage</div>
                  <div class="throughput-trend trend-stable">‚Üí Optimal</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Performance</strong> measures how well a system utilizes resources to respond to requests. Key metrics include latency (response time) and throughput (requests per second).</p>
          <p>Good performance is essential for user experience, SEO rankings, and operational costs. Even small improvements in response time can significantly impact conversion rates.</p>
        `,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "Latency", desc: "Time taken to respond to a request. Aim for P99 latency, not just average.", color: "#ef4444" },
          { icon: "üìä", title: "Throughput", desc: "Number of requests processed per unit time. Balance with latency.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Resource Efficiency", desc: "Optimize CPU, memory, and I/O usage to reduce costs and improve speed.", color: "#10b981" },
          { icon: "üìà", title: "Scalable Performance", desc: "Maintain performance characteristics as load increases.", color: "#8b5cf6" }
        ],
        formula: "Latency Percentiles: P50 < P90 < P95 < P99 < P99.9",
        strategies: [
          { title: "Database Optimization", desc: "Use proper indexes, query optimization, connection pooling, and read replicas." },
          { title: "Caching Strategy", desc: "Cache at multiple levels - CDN, application, database query cache." },
          { title: "Async Processing", desc: "Offload heavy operations to background jobs and message queues." },
          { title: "Performance Testing", desc: "Regular load testing and profiling to identify bottlenecks before production." }
        ],
        metrics: [
          { level: "P50", downtime: "Median latency", useCase: "Typical user experience" },
          { level: "P99", downtime: "99th percentile", useCase: "Worst-case scenarios" },
          { level: "RPS", downtime: "Requests per second", useCase: "System capacity" },
          { level: "Apdex", downtime: "Application Performance Index", useCase: "User satisfaction score" }
        ]
      },
      security: {
        title: "Security",
        subtitle: "Protecting system data and resources from unauthorized access, breaches, and attacks.",
        badge: { text: "Core Principle", color: "#dc2626", bg: "rgba(220, 38, 38, 0.15)" },
        color: "#dc2626",
        diagram: `
          <style>
            .security-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .security-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .security-row { flex-direction: column; }
            }
            
            /* Defense in Depth */
            .defense-layers {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(220, 38, 38, 0.2);
            }
            .defense-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .defense-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #dc2626;
              border-radius: 50%;
            }
            .layers-container {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 6px;
            }
            .defense-layer {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 10px;
              padding: 10px 20px;
              border-radius: 30px;
              font-size: 0.8rem;
              font-weight: 500;
              transition: all 0.3s ease;
              border: 1px solid;
            }
            .defense-layer:hover {
              transform: scale(1.02);
            }
            .layer-1 {
              width: 95%;
              background: rgba(239, 68, 68, 0.1);
              border-color: rgba(239, 68, 68, 0.3);
              color: #f87171;
            }
            .layer-2 {
              width: 82%;
              background: rgba(245, 158, 11, 0.1);
              border-color: rgba(245, 158, 11, 0.3);
              color: #fbbf24;
            }
            .layer-3 {
              width: 69%;
              background: rgba(139, 92, 246, 0.1);
              border-color: rgba(139, 92, 246, 0.3);
              color: #a78bfa;
            }
            .layer-4 {
              width: 56%;
              background: rgba(59, 130, 246, 0.1);
              border-color: rgba(59, 130, 246, 0.3);
              color: #60a5fa;
            }
            .layer-5 {
              width: 43%;
              background: rgba(16, 185, 129, 0.1);
              border-color: rgba(16, 185, 129, 0.3);
              color: #34d399;
            }
            .layer-core {
              width: 30%;
              background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(6, 182, 212, 0.3));
              border-color: rgba(16, 185, 129, 0.5);
              color: #10b981;
              font-weight: 600;
            }
            .layer-icon {
              font-size: 1rem;
            }
            .attacker-label {
              font-size: 0.65rem;
              color: #ef4444;
              text-align: center;
              margin-top: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 6px;
            }
            
            /* CIA Triad */
            .cia-section {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .cia-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cia-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .cia-triangle {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 12px;
            }
            .cia-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px 16px;
              border-radius: 10px;
              width: 100%;
              border: 1px solid;
            }
            .cia-c {
              background: rgba(59, 130, 246, 0.1);
              border-color: rgba(59, 130, 246, 0.3);
            }
            .cia-i {
              background: rgba(16, 185, 129, 0.1);
              border-color: rgba(16, 185, 129, 0.3);
            }
            .cia-a {
              background: rgba(139, 92, 246, 0.1);
              border-color: rgba(139, 92, 246, 0.3);
            }
            .cia-icon {
              font-size: 1.5rem;
            }
            .cia-content {
              flex: 1;
            }
            .cia-name {
              font-weight: 600;
              font-size: 0.9rem;
              margin-bottom: 2px;
            }
            .cia-c .cia-name { color: #3b82f6; }
            .cia-i .cia-name { color: #10b981; }
            .cia-a .cia-name { color: #8b5cf6; }
            .cia-desc {
              font-size: 0.7rem;
              color: #6b7280;
            }
            
            /* Threat Landscape */
            .threat-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .threat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .threat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .threat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .threat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .threat-card {
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              padding: 14px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
              transition: all 0.3s ease;
            }
            .threat-card:hover {
              border-color: rgba(239, 68, 68, 0.3);
              transform: translateY(-2px);
            }
            .threat-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .threat-name {
              font-size: 0.75rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .threat-severity {
              font-size: 0.65rem;
              padding: 2px 8px;
              border-radius: 10px;
              display: inline-block;
            }
            .severity-critical {
              background: rgba(239, 68, 68, 0.2);
              color: #f87171;
            }
            .severity-high {
              background: rgba(245, 158, 11, 0.2);
              color: #fbbf24;
            }
            .severity-medium {
              background: rgba(59, 130, 246, 0.2);
              color: #60a5fa;
            }
          </style>
          
          <div class="security-viz">
            <div class="security-row">
              <!-- Defense in Depth Layers -->
              <div class="defense-layers">
                <div class="defense-title">Defense in Depth</div>
                <div class="layers-container">
                  <div class="defense-layer layer-1">
                    <span class="layer-icon">üåê</span>
                    <span>Perimeter Security (Firewall, WAF, DDoS Protection)</span>
                  </div>
                  <div class="defense-layer layer-2">
                    <span class="layer-icon">üîê</span>
                    <span>Network Security (VPN, Segmentation)</span>
                  </div>
                  <div class="defense-layer layer-3">
                    <span class="layer-icon">üîë</span>
                    <span>Authentication & Authorization</span>
                  </div>
                  <div class="defense-layer layer-4">
                    <span class="layer-icon">üõ°Ô∏è</span>
                    <span>Application Security</span>
                  </div>
                  <div class="defense-layer layer-5">
                    <span class="layer-icon">üîí</span>
                    <span>Data Encryption</span>
                  </div>
                  <div class="defense-layer layer-core">
                    <span class="layer-icon">üíé</span>
                    <span>Protected Data</span>
                  </div>
                </div>
                <div class="attacker-label">
                  <span>‚ò†Ô∏è</span> Attackers must breach multiple layers
                </div>
              </div>
              
              <!-- CIA Triad -->
              <div class="cia-section">
                <div class="cia-title">CIA Triad</div>
                <div class="cia-triangle">
                  <div class="cia-item cia-c">
                    <span class="cia-icon">üîè</span>
                    <div class="cia-content">
                      <div class="cia-name">Confidentiality</div>
                      <div class="cia-desc">Data accessible only to authorized users</div>
                    </div>
                  </div>
                  <div class="cia-item cia-i">
                    <span class="cia-icon">‚úÖ</span>
                    <div class="cia-content">
                      <div class="cia-name">Integrity</div>
                      <div class="cia-desc">Data is accurate and unaltered</div>
                    </div>
                  </div>
                  <div class="cia-item cia-a">
                    <span class="cia-icon">‚ö°</span>
                    <div class="cia-content">
                      <div class="cia-name">Availability</div>
                      <div class="cia-desc">Systems accessible when needed</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Common Threats -->
            <div class="threat-section">
              <div class="threat-title">Common Security Threats (OWASP)</div>
              <div class="threat-grid">
                <div class="threat-card">
                  <div class="threat-icon">üíâ</div>
                  <div class="threat-name">Injection</div>
                  <div class="threat-severity severity-critical">Critical</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üîì</div>
                  <div class="threat-name">Broken Auth</div>
                  <div class="threat-severity severity-critical">Critical</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üìã</div>
                  <div class="threat-name">Data Exposure</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üï∑Ô∏è</div>
                  <div class="threat-name">XSS Attack</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">‚öôÔ∏è</div>
                  <div class="threat-name">Misconfig</div>
                  <div class="threat-severity severity-medium">Medium</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üì¶</div>
                  <div class="threat-name">Vuln. Components</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üìù</div>
                  <div class="threat-name">Logging Gaps</div>
                  <div class="threat-severity severity-medium">Medium</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üîó</div>
                  <div class="threat-name">SSRF</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Security</strong> encompasses all measures taken to protect a system from threats, vulnerabilities, and unauthorized access. It follows the CIA triad: Confidentiality, Integrity, and Availability.</p>
          <p>Security must be built into the system from the ground up (security by design), not added as an afterthought. It requires continuous monitoring and updates.</p>
        `,
        keyPoints: [
          { icon: "üîë", title: "Authentication", desc: "Verify user identity using passwords, MFA, OAuth, or certificates.", color: "#dc2626" },
          { icon: "üõ°Ô∏è", title: "Authorization", desc: "Control what authenticated users can access using RBAC or ABAC.", color: "#8b5cf6" },
          { icon: "üîê", title: "Encryption", desc: "Protect data at rest and in transit using TLS, AES, and proper key management.", color: "#3b82f6" },
          { icon: "üîç", title: "Audit Logging", desc: "Track all security-relevant events for detection and forensics.", color: "#10b981" }
        ],
        formula: "Security = Prevention + Detection + Response + Recovery",
        strategies: [
          { title: "Defense in Depth", desc: "Layer multiple security controls so breach of one doesn't compromise everything." },
          { title: "Least Privilege", desc: "Grant minimum permissions necessary for each user, service, or process." },
          { title: "Security Testing", desc: "Regular penetration testing, vulnerability scanning, and security audits." },
          { title: "Incident Response", desc: "Have documented procedures for detecting, responding to, and recovering from breaches." }
        ],
        metrics: [
          { level: "OWASP Top 10", downtime: "Common vulnerabilities", useCase: "Web application security" },
          { level: "SOC 2", downtime: "Security compliance", useCase: "Enterprise requirements" },
          { level: "MTTR (Security)", downtime: "Time to remediate", useCase: "Vulnerability response" },
          { level: "CVE Count", downtime: "Known vulnerabilities", useCase: "Dependency security" }
        ]
      },
      partitioning: {
        title: "Partitioning",
        subtitle: "Dividing data across multiple nodes to distribute load and improve performance.",
        badge: { text: "Data Management", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .part-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .part-demo {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .part-demo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .part-demo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .part-flow {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .part-source {
              padding: 16px 40px;
              background: linear-gradient(135deg, #f59e0b, #d97706);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            }
            .part-source-icon {
              font-size: 2rem;
              margin-bottom: 4px;
            }
            .part-source-text {
              font-weight: 600;
            }
            .part-source-size {
              font-size: 0.75rem;
              opacity: 0.8;
            }
            .part-arrow {
              color: #6b7280;
              font-size: 1rem;
            }
            .part-key {
              padding: 10px 20px;
              background: rgba(139, 92, 246, 0.15);
              border: 1px dashed rgba(139, 92, 246, 0.4);
              border-radius: 8px;
              font-size: 0.8rem;
              color: #a78bfa;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .part-shards {
              display: flex;
              gap: 14px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .part-shard {
              padding: 16px 20px;
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
              transition: all 0.3s ease;
            }
            .part-shard:hover {
              transform: translateY(-3px);
            }
            .part-shard:nth-child(1) { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4); }
            .part-shard:nth-child(2) { background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4); }
            .part-shard:nth-child(3) { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.4); }
            .part-shard:nth-child(4) { background: rgba(236, 72, 153, 0.15); border: 1px solid rgba(236, 72, 153, 0.4); }
            .part-shard-icon {
              font-size: 1.5rem;
              margin-bottom: 6px;
            }
            .part-shard-name {
              font-size: 0.85rem;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .part-shard:nth-child(1) .part-shard-name { color: #3b82f6; }
            .part-shard:nth-child(2) .part-shard-name { color: #10b981; }
            .part-shard:nth-child(3) .part-shard-name { color: #8b5cf6; }
            .part-shard:nth-child(4) .part-shard-name { color: #ec4899; }
            .part-shard-range {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .part-shard-count {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Strategies */
            .part-strategies {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .part-strat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .part-strat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .part-strat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .part-strat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .part-strat {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .part-strat-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .part-strat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 3px;
            }
            .part-strat-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="part-viz">
            <!-- Partitioning Demo -->
            <div class="part-demo">
              <div class="part-demo-title">Data Partitioning (Sharding)</div>
              <div class="part-flow">
                <div class="part-source">
                  <div class="part-source-icon">üì¶</div>
                  <div class="part-source-text">Full Dataset</div>
                  <div class="part-source-size">10TB ‚Ä¢ 100M records</div>
                </div>
                <div class="part-arrow">‚¨áÔ∏è Partition by user_id ‚¨áÔ∏è</div>
                <div class="part-key">üîë hash(user_id) % 4 ‚Üí Shard Assignment</div>
                <div class="part-shards">
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 0</div>
                    <div class="part-shard-range">hash = 0</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 1</div>
                    <div class="part-shard-range">hash = 1</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 2</div>
                    <div class="part-shard-range">hash = 2</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 3</div>
                    <div class="part-shard-range">hash = 3</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Strategies -->
            <div class="part-strategies">
              <div class="part-strat-title">Partitioning Strategies</div>
              <div class="part-strat-grid">
                <div class="part-strat">
                  <div class="part-strat-icon">üìè</div>
                  <div class="part-strat-name">Range</div>
                  <div class="part-strat-desc">By date or ID range</div>
                </div>
                <div class="part-strat">
                  <div class="part-strat-icon">#Ô∏è‚É£</div>
                  <div class="part-strat-name">Hash</div>
                  <div class="part-strat-desc">Even distribution</div>
                </div>
                <div class="part-strat">
                  <div class="part-strat-icon">üìã</div>
                  <div class="part-strat-name">List</div>
                  <div class="part-strat-desc">By category/region</div>
                </div>
                <div class="part-strat">
                  <div class="part-strat-icon">üîÄ</div>
                  <div class="part-strat-name">Composite</div>
                  <div class="part-strat-desc">Combined approach</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Partitioning</strong> (also called sharding) divides a database into smaller, more manageable pieces called partitions. Each partition holds a subset of the data.</p>
          <p>This enables horizontal scaling by distributing data across multiple nodes, improving query performance and allowing the system to handle larger datasets.</p>
        `,
        keyPoints: [
          { icon: "üî§", title: "Range Partitioning", desc: "Divide data by ranges of a key (e.g., dates, alphabetical). Simple but can create hotspots.", color: "#f59e0b" },
          { icon: "#Ô∏è‚É£", title: "Hash Partitioning", desc: "Use hash function on key to distribute evenly. Good balance but harder range queries.", color: "#3b82f6" },
          { icon: "üìã", title: "List Partitioning", desc: "Assign partitions based on predefined lists (e.g., by country or category).", color: "#8b5cf6" },
          { icon: "üîÄ", title: "Composite Partitioning", desc: "Combine strategies (e.g., hash then range) for complex requirements.", color: "#10b981" }
        ],
        formula: "Partition Key ‚Üí Hash Function ‚Üí Partition Assignment",
        strategies: [
          { title: "Choose Good Partition Key", desc: "Select a key with high cardinality and even distribution to avoid hotspots." },
          { title: "Consistent Hashing", desc: "Use consistent hashing to minimize data movement when adding/removing nodes." },
          { title: "Secondary Indexes", desc: "Handle secondary indexes carefully - local (per-partition) or global (distributed)." },
          { title: "Cross-Partition Queries", desc: "Design to minimize queries that span multiple partitions for better performance." }
        ],
        metrics: [
          { level: "Shard Count", downtime: "Number of partitions", useCase: "Scale and management" },
          { level: "Hotspot Ratio", downtime: "Load imbalance", useCase: "Partition key effectiveness" },
          { level: "Rebalance Time", downtime: "Data migration duration", useCase: "Scaling operations" },
          { level: "Cross-shard %", downtime: "Multi-partition queries", useCase: "Query efficiency" }
        ]
      },
      replication: {
        title: "Replication",
        subtitle: "Copying data across multiple nodes to improve availability, durability, and read performance.",
        badge: { text: "Data Management", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .rep-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .rep-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .rep-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rep-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .rep-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .rep-primary {
              padding: 20px 40px;
              background: linear-gradient(135deg, #10b981, #059669);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
              position: relative;
            }
            .rep-primary-icon {
              font-size: 2rem;
              margin-bottom: 4px;
            }
            .rep-primary-name {
              font-weight: 600;
              font-size: 1rem;
            }
            .rep-primary-role {
              font-size: 0.75rem;
              opacity: 0.8;
            }
            .rep-arrows {
              display: flex;
              gap: 30px;
              color: #10b981;
            }
            .rep-arrow {
              display: flex;
              flex-direction: column;
              align-items: center;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .rep-arrow-icon {
              font-size: 1.2rem;
              color: #10b981;
              animation: repSync 1s ease-in-out infinite;
            }
            .rep-arrow:nth-child(2) .rep-arrow-icon { animation-delay: 0.3s; }
            .rep-arrow:nth-child(3) .rep-arrow-icon { animation-delay: 0.6s; }
            @keyframes repSync {
              0%, 100% { opacity: 0.5; transform: translateY(0); }
              50% { opacity: 1; transform: translateY(3px); }
            }
            .rep-replicas {
              display: flex;
              gap: 16px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .rep-replica {
              padding: 16px 24px;
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
            }
            .rep-replica-icon {
              font-size: 1.4rem;
              margin-bottom: 4px;
            }
            .rep-replica-name {
              font-size: 0.85rem;
              font-weight: 500;
              color: #10b981;
            }
            .rep-replica-role {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .rep-replica-lag {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Replication Types */
            .rep-types {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .rep-types-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rep-types-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .rep-types-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 12px;
            }
            @media (max-width: 600px) {
              .rep-types-grid { grid-template-columns: 1fr; }
            }
            .rep-type {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .rep-type-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .rep-type-name {
              font-size: 0.85rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .rep-type-desc {
              font-size: 0.7rem;
              color: #6b7280;
            }
          </style>
          
          <div class="rep-viz">
            <!-- Replication Flow -->
            <div class="rep-flow">
              <div class="rep-flow-title">Leader-Follower Replication</div>
              <div class="rep-diagram">
                <div class="rep-primary">
                  <div class="rep-primary-icon">üëë</div>
                  <div class="rep-primary-name">Primary (Leader)</div>
                  <div class="rep-primary-role">Handles all Writes</div>
                </div>
                <div class="rep-arrows">
                  <div class="rep-arrow">
                    <span class="rep-arrow-icon">‚Üì</span>
                    <span>sync</span>
                  </div>
                  <div class="rep-arrow">
                    <span class="rep-arrow-icon">‚Üì</span>
                    <span>async</span>
                  </div>
                  <div class="rep-arrow">
                    <span class="rep-arrow-icon">‚Üì</span>
                    <span>async</span>
                  </div>
                </div>
                <div class="rep-replicas">
                  <div class="rep-replica">
                    <div class="rep-replica-icon">üìã</div>
                    <div class="rep-replica-name">Replica 1</div>
                    <div class="rep-replica-role">Read-only</div>
                    <div class="rep-replica-lag">Lag: 0ms</div>
                  </div>
                  <div class="rep-replica">
                    <div class="rep-replica-icon">üìã</div>
                    <div class="rep-replica-name">Replica 2</div>
                    <div class="rep-replica-role">Read-only</div>
                    <div class="rep-replica-lag">Lag: 120ms</div>
                  </div>
                  <div class="rep-replica">
                    <div class="rep-replica-icon">üìã</div>
                    <div class="rep-replica-name">Replica 3</div>
                    <div class="rep-replica-role">Read-only</div>
                    <div class="rep-replica-lag">Lag: 85ms</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Replication Types -->
            <div class="rep-types">
              <div class="rep-types-title">Replication Topologies</div>
              <div class="rep-types-grid">
                <div class="rep-type">
                  <div class="rep-type-icon">üëë</div>
                  <div class="rep-type-name">Leader-Follower</div>
                  <div class="rep-type-desc">One leader, many followers</div>
                </div>
                <div class="rep-type">
                  <div class="rep-type-icon">üë•</div>
                  <div class="rep-type-name">Multi-Leader</div>
                  <div class="rep-type-desc">Multiple write nodes</div>
                </div>
                <div class="rep-type">
                  <div class="rep-type-icon">üîÑ</div>
                  <div class="rep-type-name">Leaderless</div>
                  <div class="rep-type-desc">Any node accepts writes</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Replication</strong> maintains copies of data on multiple machines to provide redundancy, improve availability, and enable geographic distribution.</p>
          <p>The main challenge is keeping replicas consistent as data changes. Different replication strategies offer different trade-offs between consistency, performance, and availability.</p>
        `,
        keyPoints: [
          { icon: "üëë", title: "Leader-Follower", desc: "One leader handles writes, followers replicate and serve reads. Simple but leader is bottleneck.", color: "#10b981" },
          { icon: "üë•", title: "Multi-Leader", desc: "Multiple nodes accept writes. Better availability but complex conflict resolution.", color: "#8b5cf6" },
          { icon: "üîÑ", title: "Leaderless", desc: "Any node accepts reads/writes. High availability, uses quorums for consistency.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Sync vs Async", desc: "Synchronous ensures consistency; asynchronous improves performance but risks data loss.", color: "#f59e0b" }
        ],
        formula: "Quorum: W + R > N (Write nodes + Read nodes > Total nodes)",
        strategies: [
          { title: "Read Replicas", desc: "Add read-only replicas to scale read-heavy workloads without impacting write performance." },
          { title: "Geographic Replication", desc: "Place replicas in different regions for disaster recovery and reduced latency." },
          { title: "Conflict Resolution", desc: "Define strategies for handling concurrent updates - last-write-wins, merge, or custom logic." },
          { title: "Replication Lag Monitoring", desc: "Track and alert on replication delay to prevent stale reads in critical paths." }
        ],
        metrics: [
          { level: "Replication Lag", downtime: "Seconds behind primary", useCase: "Data freshness" },
          { level: "RPO", downtime: "Recovery Point Objective", useCase: "Max data loss tolerance" },
          { level: "Replica Count", downtime: "Number of copies", useCase: "Durability level" },
          { level: "Failover Time", downtime: "Promotion duration", useCase: "Availability during failures" }
        ]
      },
      acid: {
        title: "ACID Properties",
        subtitle: "Database transaction guarantees ensuring reliable processing of database transactions.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .acid-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .acid-props {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .acid-props-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .acid-props-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .acid-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 16px;
            }
            @media (max-width: 700px) {
              .acid-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .acid-prop {
              padding: 20px;
              border-radius: 14px;
              text-align: center;
              transition: all 0.3s ease;
            }
            .acid-prop:hover {
              transform: translateY(-4px);
            }
            .acid-prop.a {
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.4);
            }
            .acid-prop.c {
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
            }
            .acid-prop.i {
              background: rgba(139, 92, 246, 0.15);
              border: 1px solid rgba(139, 92, 246, 0.4);
            }
            .acid-prop.d {
              background: rgba(245, 158, 11, 0.15);
              border: 1px solid rgba(245, 158, 11, 0.4);
            }
            .acid-prop-icon {
              font-size: 2rem;
              margin-bottom: 10px;
            }
            .acid-prop-name {
              font-weight: 700;
              font-size: 1rem;
              margin-bottom: 6px;
            }
            .acid-prop.a .acid-prop-name { color: #3b82f6; }
            .acid-prop.c .acid-prop-name { color: #10b981; }
            .acid-prop.i .acid-prop-name { color: #8b5cf6; }
            .acid-prop.d .acid-prop-name { color: #f59e0b; }
            .acid-prop-desc {
              font-size: 0.75rem;
              color: #a0a0b0;
              margin-bottom: 8px;
            }
            .acid-prop-example {
              font-size: 0.65rem;
              color: #6b7280;
              padding: 4px 8px;
              background: rgba(0, 0, 0, 0.2);
              border-radius: 6px;
            }
            
            /* ACID vs BASE */
            .acid-compare {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .acid-compare-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .acid-compare-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .acid-compare-row {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 16px;
            }
            @media (max-width: 600px) {
              .acid-compare-row { grid-template-columns: 1fr; }
            }
            .acid-model {
              padding: 16px;
              border-radius: 12px;
              text-align: center;
            }
            .acid-model.acid-m {
              background: rgba(139, 92, 246, 0.1);
              border: 1px solid rgba(139, 92, 246, 0.3);
            }
            .acid-model.base {
              background: rgba(245, 158, 11, 0.1);
              border: 1px solid rgba(245, 158, 11, 0.3);
            }
            .acid-model-name {
              font-weight: 600;
              font-size: 1rem;
              margin-bottom: 8px;
            }
            .acid-model.acid-m .acid-model-name { color: #8b5cf6; }
            .acid-model.base .acid-model-name { color: #f59e0b; }
            .acid-model-features {
              display: flex;
              flex-direction: column;
              gap: 4px;
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            .acid-model-use {
              margin-top: 10px;
              font-size: 0.7rem;
              padding: 4px 10px;
              border-radius: 10px;
              display: inline-block;
            }
            .acid-model.acid-m .acid-model-use { background: rgba(139, 92, 246, 0.2); color: #a78bfa; }
            .acid-model.base .acid-model-use { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
          </style>
          
          <div class="acid-viz">
            <!-- ACID Properties -->
            <div class="acid-props">
              <div class="acid-props-title">The Four ACID Guarantees</div>
              <div class="acid-grid">
                <div class="acid-prop a">
                  <div class="acid-prop-icon">‚öõÔ∏è</div>
                  <div class="acid-prop-name">Atomicity</div>
                  <div class="acid-prop-desc">All or Nothing</div>
                  <div class="acid-prop-example">Rollback on failure</div>
                </div>
                <div class="acid-prop c">
                  <div class="acid-prop-icon">‚úÖ</div>
                  <div class="acid-prop-name">Consistency</div>
                  <div class="acid-prop-desc">Valid State Only</div>
                  <div class="acid-prop-example">Constraints enforced</div>
                </div>
                <div class="acid-prop i">
                  <div class="acid-prop-icon">üîí</div>
                  <div class="acid-prop-name">Isolation</div>
                  <div class="acid-prop-desc">No Interference</div>
                  <div class="acid-prop-example">Concurrent safety</div>
                </div>
                <div class="acid-prop d">
                  <div class="acid-prop-icon">üíæ</div>
                  <div class="acid-prop-name">Durability</div>
                  <div class="acid-prop-desc">Permanent</div>
                  <div class="acid-prop-example">Survives crashes</div>
                </div>
              </div>
            </div>
            
            <!-- ACID vs BASE -->
            <div class="acid-compare">
              <div class="acid-compare-title">ACID vs BASE Models</div>
              <div class="acid-compare-row">
                <div class="acid-model acid-m">
                  <div class="acid-model-name">ACID</div>
                  <div class="acid-model-features">
                    <span>‚úì Strong consistency</span>
                    <span>‚úì Immediate correctness</span>
                    <span>‚úì Transaction safety</span>
                  </div>
                  <div class="acid-model-use">PostgreSQL, MySQL</div>
                </div>
                <div class="acid-model base">
                  <div class="acid-model-name">BASE</div>
                  <div class="acid-model-features">
                    <span>‚úì Basically Available</span>
                    <span>‚úì Soft state</span>
                    <span>‚úì Eventually consistent</span>
                  </div>
                  <div class="acid-model-use">Cassandra, DynamoDB</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>ACID</strong> is a set of properties that guarantee database transactions are processed reliably. These properties are essential for systems that require data integrity.</p>
          <p>ACID compliance is standard in traditional relational databases but often relaxed in distributed NoSQL systems for better scalability and availability (BASE model).</p>
        `,
        keyPoints: [
          { icon: "‚öõÔ∏è", title: "Atomicity", desc: "Transaction is all-or-nothing. If any part fails, entire transaction is rolled back.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Consistency", desc: "Transaction brings database from one valid state to another, respecting all constraints.", color: "#10b981" },
          { icon: "üîí", title: "Isolation", desc: "Concurrent transactions don't interfere with each other, as if run sequentially.", color: "#8b5cf6" },
          { icon: "üíæ", title: "Durability", desc: "Once committed, data survives system failures through persistent storage and logs.", color: "#f59e0b" }
        ],
        formula: "ACID (Strong Consistency) vs BASE (Eventual Consistency)",
        strategies: [
          { title: "Transaction Logging", desc: "Use write-ahead logging (WAL) to ensure durability and enable recovery after crashes." },
          { title: "Isolation Levels", desc: "Choose appropriate level (Read Uncommitted ‚Üí Serializable) based on consistency vs performance needs." },
          { title: "Two-Phase Commit", desc: "Coordinate distributed transactions across multiple databases with 2PC protocol." },
          { title: "Saga Pattern", desc: "For microservices, use sagas with compensating transactions instead of distributed ACID." }
        ],
        metrics: [
          { level: "Serializable", downtime: "Strongest isolation", useCase: "Financial transactions" },
          { level: "Repeatable Read", downtime: "Prevents non-repeatable reads", useCase: "Reporting queries" },
          { level: "Read Committed", downtime: "Default in most DBs", useCase: "General applications" },
          { level: "Read Uncommitted", downtime: "Weakest, dirty reads", useCase: "Analytics (rare)" }
        ]
      },
      microservices: {
        title: "Microservices",
        subtitle: "Architectural style that structures an application as a collection of loosely coupled, independently deployable services.",
        badge: { text: "Architecture Pattern", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .ms-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .ms-architecture {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(236, 72, 153, 0.2);
            }
            .ms-arch-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ms-arch-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ec4899;
              border-radius: 50%;
            }
            .ms-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .ms-clients {
              display: flex;
              gap: 12px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .ms-client {
              padding: 10px 16px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.3);
              border-radius: 8px;
              font-size: 0.8rem;
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .ms-gateway {
              padding: 16px 40px;
              background: linear-gradient(135deg, #ec4899, #db2777);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(236, 72, 153, 0.3);
            }
            .ms-gateway-icon {
              font-size: 1.5rem;
              margin-bottom: 4px;
            }
            .ms-gateway-text {
              font-weight: 600;
            }
            .ms-gateway-sub {
              font-size: 0.7rem;
              opacity: 0.8;
            }
            .ms-arrow {
              color: #6b7280;
              font-size: 0.9rem;
            }
            .ms-services {
              display: flex;
              gap: 12px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .ms-service {
              padding: 14px 18px;
              border-radius: 10px;
              text-align: center;
              min-width: 90px;
              border: 1px solid;
              transition: all 0.3s ease;
            }
            .ms-service:hover {
              transform: translateY(-3px);
            }
            .ms-service:nth-child(1) { background: rgba(59, 130, 246, 0.15); border-color: rgba(59, 130, 246, 0.4); }
            .ms-service:nth-child(2) { background: rgba(16, 185, 129, 0.15); border-color: rgba(16, 185, 129, 0.4); }
            .ms-service:nth-child(3) { background: rgba(245, 158, 11, 0.15); border-color: rgba(245, 158, 11, 0.4); }
            .ms-service:nth-child(4) { background: rgba(139, 92, 246, 0.15); border-color: rgba(139, 92, 246, 0.4); }
            .ms-service:nth-child(5) { background: rgba(239, 68, 68, 0.15); border-color: rgba(239, 68, 68, 0.4); }
            .ms-svc-icon {
              font-size: 1.5rem;
              margin-bottom: 6px;
            }
            .ms-svc-name {
              font-size: 0.8rem;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .ms-svc-db {
              font-size: 0.65rem;
              color: #6b7280;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
            }
            .ms-queue-layer {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px 20px;
              background: rgba(139, 92, 246, 0.1);
              border: 1px dashed rgba(139, 92, 246, 0.3);
              border-radius: 10px;
            }
            .ms-queue-icon {
              font-size: 1.2rem;
            }
            .ms-queue-text {
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            
            /* Benefits */
            .ms-benefits {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .ms-ben-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ms-ben-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .ms-ben-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .ms-ben-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .ms-ben {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .ms-ben-icon {
              font-size: 1.3rem;
              margin-bottom: 6px;
            }
            .ms-ben-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .ms-ben-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="ms-viz">
            <!-- Architecture Diagram -->
            <div class="ms-architecture">
              <div class="ms-arch-title">Microservices Architecture</div>
              <div class="ms-diagram">
                <div class="ms-clients">
                  <div class="ms-client">üì± Mobile</div>
                  <div class="ms-client">üíª Web</div>
                  <div class="ms-client">üîå Partners</div>
                </div>
                <div class="ms-arrow">‚Üì</div>
                <div class="ms-gateway">
                  <div class="ms-gateway-icon">üö™</div>
                  <div class="ms-gateway-text">API Gateway</div>
                  <div class="ms-gateway-sub">Auth ‚Ä¢ Rate Limit ‚Ä¢ Route</div>
                </div>
                <div class="ms-arrow">‚Üì</div>
                <div class="ms-services">
                  <div class="ms-service">
                    <div class="ms-svc-icon">üë§</div>
                    <div class="ms-svc-name">Users</div>
                    <div class="ms-svc-db">üíæ PostgreSQL</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üì¶</div>
                    <div class="ms-svc-name">Orders</div>
                    <div class="ms-svc-db">üíæ MongoDB</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üí≥</div>
                    <div class="ms-svc-name">Payments</div>
                    <div class="ms-svc-db">üíæ PostgreSQL</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üì¶</div>
                    <div class="ms-svc-name">Inventory</div>
                    <div class="ms-svc-db">üíæ Redis</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üìß</div>
                    <div class="ms-svc-name">Notifications</div>
                    <div class="ms-svc-db">üíæ DynamoDB</div>
                  </div>
                </div>
                <div class="ms-arrow">‚Üë‚Üì</div>
                <div class="ms-queue-layer">
                  <span class="ms-queue-icon">üì¨</span>
                  <span class="ms-queue-text">Event Bus (Kafka/RabbitMQ) ‚Äî Async Communication</span>
                </div>
              </div>
            </div>
            
            <!-- Benefits -->
            <div class="ms-benefits">
              <div class="ms-ben-title">Key Benefits</div>
              <div class="ms-ben-grid">
                <div class="ms-ben">
                  <div class="ms-ben-icon">üöÄ</div>
                  <div class="ms-ben-name">Independent Deploy</div>
                  <div class="ms-ben-desc">Update without downtime</div>
                </div>
                <div class="ms-ben">
                  <div class="ms-ben-icon">üìà</div>
                  <div class="ms-ben-name">Scale Individually</div>
                  <div class="ms-ben-desc">Scale what's needed</div>
                </div>
                <div class="ms-ben">
                  <div class="ms-ben-icon">üîß</div>
                  <div class="ms-ben-name">Tech Flexibility</div>
                  <div class="ms-ben-desc">Best tool per job</div>
                </div>
                <div class="ms-ben">
                  <div class="ms-ben-icon">üë•</div>
                  <div class="ms-ben-name">Team Ownership</div>
                  <div class="ms-ben-desc">Autonomous teams</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Microservices</strong> architecture breaks down applications into small, independent services that communicate over well-defined APIs. Each service is owned by a small team and can be deployed independently.</p>
          <p>This approach enables scalability, technology diversity, and faster development cycles, but introduces complexity in service communication, data consistency, and operations.</p>
        `,
        keyPoints: [
          { icon: "üéØ", title: "Single Responsibility", desc: "Each service does one thing well, with clear boundaries and ownership.", color: "#ec4899" },
          { icon: "üöÄ", title: "Independent Deployment", desc: "Deploy, scale, and update services without affecting others.", color: "#3b82f6" },
          { icon: "üí¨", title: "API Communication", desc: "Services communicate via REST, gRPC, or async messaging.", color: "#10b981" },
          { icon: "üìä", title: "Decentralized Data", desc: "Each service manages its own database, avoiding shared state.", color: "#f59e0b" }
        ],
        formula: "Microservices = Small Services + Smart Endpoints + Dumb Pipes",
        strategies: [
          { title: "Domain-Driven Design", desc: "Use bounded contexts to identify service boundaries based on business domains." },
          { title: "API Gateway Pattern", desc: "Single entry point handles routing, authentication, rate limiting, and aggregation." },
          { title: "Service Mesh", desc: "Use Istio/Linkerd for service-to-service communication, observability, and security." },
          { title: "Event-Driven Architecture", desc: "Use events for loose coupling and eventual consistency between services." }
        ],
        metrics: [
          { level: "Service Count", downtime: "Number of services", useCase: "Complexity indicator" },
          { level: "Deploy Frequency", downtime: "Releases per day", useCase: "Development velocity" },
          { level: "Service Latency", downtime: "Inter-service calls", useCase: "Performance overhead" },
          { level: "Failure Rate", downtime: "Per-service errors", useCase: "Reliability monitoring" }
        ]
      },
      "message-queues": {
        title: "Message Queues",
        subtitle: "Asynchronous communication mechanism that decouples producers and consumers of messages.",
        badge: { text: "Architecture Pattern", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .mq-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .mq-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .mq-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .mq-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .mq-diagram {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 16px;
              flex-wrap: wrap;
            }
            .mq-producers {
              display: flex;
              flex-direction: column;
              gap: 8px;
            }
            .mq-producer {
              padding: 12px 18px;
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.4);
              border-radius: 10px;
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.85rem;
              animation: produceMsg 2s ease-in-out infinite;
            }
            .mq-producer:nth-child(2) { animation-delay: 0.7s; }
            .mq-producer:nth-child(3) { animation-delay: 1.4s; }
            @keyframes produceMsg {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(5px); }
            }
            .mq-arrows {
              display: flex;
              flex-direction: column;
              gap: 8px;
              color: #6b7280;
            }
            .mq-arrow {
              animation: arrowFlow 1s ease-in-out infinite;
            }
            .mq-arrow:nth-child(2) { animation-delay: 0.3s; }
            .mq-arrow:nth-child(3) { animation-delay: 0.6s; }
            @keyframes arrowFlow {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 1; }
            }
            .mq-queue {
              padding: 20px 30px;
              background: linear-gradient(135deg, #8b5cf6, #6d28d9);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(139, 92, 246, 0.3);
            }
            .mq-queue-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .mq-queue-name {
              font-weight: 600;
              margin-bottom: 8px;
            }
            .mq-messages {
              display: flex;
              gap: 4px;
              justify-content: center;
            }
            .mq-msg {
              padding: 4px 10px;
              background: rgba(255, 255, 255, 0.25);
              border-radius: 4px;
              font-size: 0.7rem;
              animation: msgPulse 1.5s ease-in-out infinite;
            }
            .mq-msg:nth-child(1) { animation-delay: 0s; }
            .mq-msg:nth-child(2) { animation-delay: 0.3s; }
            .mq-msg:nth-child(3) { animation-delay: 0.6s; }
            .mq-msg:nth-child(4) { animation-delay: 0.9s; }
            @keyframes msgPulse {
              0%, 100% { opacity: 0.6; }
              50% { opacity: 1; }
            }
            .mq-queue-count {
              font-size: 0.7rem;
              opacity: 0.8;
              margin-top: 8px;
            }
            .mq-consumers {
              display: flex;
              flex-direction: column;
              gap: 8px;
            }
            .mq-consumer {
              padding: 12px 18px;
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 10px;
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.85rem;
            }
            
            /* Patterns */
            .mq-patterns {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .mq-pat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .mq-pat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .mq-pat-grid {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 16px;
            }
            @media (max-width: 600px) {
              .mq-pat-grid { grid-template-columns: 1fr; }
            }
            .mq-pattern {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              display: flex;
              align-items: flex-start;
              gap: 12px;
            }
            .mq-pat-icon {
              font-size: 1.5rem;
            }
            .mq-pat-content {
              flex: 1;
            }
            .mq-pat-name {
              font-weight: 500;
              font-size: 0.9rem;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .mq-pat-desc {
              font-size: 0.75rem;
              color: #6b7280;
            }
          </style>
          
          <div class="mq-viz">
            <!-- Message Flow -->
            <div class="mq-flow">
              <div class="mq-flow-title">Asynchronous Message Flow</div>
              <div class="mq-diagram">
                <div class="mq-producers">
                  <div class="mq-producer">üì§ Order Service</div>
                  <div class="mq-producer">üì§ Payment Service</div>
                  <div class="mq-producer">üì§ User Service</div>
                </div>
                <div class="mq-arrows">
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                </div>
                <div class="mq-queue">
                  <div class="mq-queue-icon">üì¨</div>
                  <div class="mq-queue-name">Message Queue</div>
                  <div class="mq-messages">
                    <span class="mq-msg">msg</span>
                    <span class="mq-msg">msg</span>
                    <span class="mq-msg">msg</span>
                    <span class="mq-msg">msg</span>
                  </div>
                  <div class="mq-queue-count">4 pending messages</div>
                </div>
                <div class="mq-arrows">
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                </div>
                <div class="mq-consumers">
                  <div class="mq-consumer">üì• Email Worker</div>
                  <div class="mq-consumer">üì• Analytics Worker</div>
                  <div class="mq-consumer">üì• Notification Worker</div>
                </div>
              </div>
            </div>
            
            <!-- Patterns -->
            <div class="mq-patterns">
              <div class="mq-pat-title">Messaging Patterns</div>
              <div class="mq-pat-grid">
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üì§</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Point-to-Point</div>
                    <div class="mq-pat-desc">One producer, one consumer. Each message processed once.</div>
                  </div>
                </div>
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üì¢</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Pub/Sub</div>
                    <div class="mq-pat-desc">Publish to topic, multiple subscribers receive copies.</div>
                  </div>
                </div>
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üîÑ</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Request/Reply</div>
                    <div class="mq-pat-desc">Async RPC with correlation IDs for response matching.</div>
                  </div>
                </div>
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üíÄ</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Dead Letter Queue</div>
                    <div class="mq-pat-desc">Failed messages stored for later analysis/retry.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Message Queues</strong> enable asynchronous communication by allowing components to send messages without waiting for immediate processing. Messages are stored until consumers are ready.</p>
          <p>This pattern improves resilience (producers don't fail if consumers are down), enables load leveling, and allows independent scaling of components.</p>
        `,
        keyPoints: [
          { icon: "üì§", title: "Decoupling", desc: "Producers and consumers operate independently, improving system resilience.", color: "#8b5cf6" },
          { icon: "üìä", title: "Load Leveling", desc: "Buffer traffic spikes, processing messages at sustainable rates.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Guaranteed Delivery", desc: "Messages persist until acknowledged, surviving failures.", color: "#10b981" },
          { icon: "üì¢", title: "Pub/Sub", desc: "Publish to topics, multiple subscribers receive copies.", color: "#f59e0b" }
        ],
        formula: "Throughput = Messages Produced ‚â§ Queue Capacity ‚â• Messages Consumed",
        strategies: [
          { title: "Dead Letter Queues", desc: "Route failed messages to a separate queue for analysis and reprocessing." },
          { title: "Idempotent Consumers", desc: "Design consumers to handle duplicate messages safely (at-least-once delivery)." },
          { title: "Message Ordering", desc: "Use partitioned queues when order matters; distribute for parallelism otherwise." },
          { title: "Backpressure Handling", desc: "Implement flow control when consumers can't keep up with producers." }
        ],
        metrics: [
          { level: "Kafka", downtime: "High throughput, distributed", useCase: "Event streaming, logs" },
          { level: "RabbitMQ", downtime: "Feature-rich, AMQP", useCase: "Complex routing, RPC" },
          { level: "SQS", downtime: "Managed, serverless", useCase: "AWS-native workloads" },
          { level: "Redis Streams", downtime: "In-memory, fast", useCase: "Real-time messaging" }
        ]
      },
      "api-gateway": {
        title: "API Gateway",
        subtitle: "A single entry point for all client requests that handles cross-cutting concerns and routes to appropriate services.",
        badge: { text: "Architecture Pattern", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .apigw-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .apigw-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(6, 182, 212, 0.2);
            }
            .apigw-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .apigw-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #06b6d4;
              border-radius: 50%;
            }
            .apigw-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 12px;
            }
            .apigw-clients {
              display: flex;
              gap: 10px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .apigw-client {
              padding: 10px 16px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.4);
              border-radius: 8px;
              font-size: 0.8rem;
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .apigw-arrow {
              color: #06b6d4;
              font-size: 1rem;
            }
            .apigw-gateway {
              padding: 20px 50px;
              background: linear-gradient(135deg, #06b6d4, #0891b2);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(6, 182, 212, 0.3);
            }
            .apigw-gw-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .apigw-gw-name {
              font-weight: 700;
              font-size: 1.1rem;
            }
            .apigw-features {
              display: flex;
              gap: 8px;
              margin-top: 10px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .apigw-feature {
              padding: 4px 10px;
              background: rgba(255, 255, 255, 0.2);
              border-radius: 12px;
              font-size: 0.65rem;
            }
            .apigw-services {
              display: flex;
              gap: 12px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .apigw-service {
              padding: 14px 20px;
              border-radius: 10px;
              text-align: center;
              min-width: 100px;
            }
            .apigw-service:nth-child(1) { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4); }
            .apigw-service:nth-child(2) { background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4); }
            .apigw-service:nth-child(3) { background: rgba(245, 158, 11, 0.15); border: 1px solid rgba(245, 158, 11, 0.4); }
            .apigw-service:nth-child(4) { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.4); }
            .apigw-svc-icon {
              font-size: 1.3rem;
              margin-bottom: 4px;
            }
            .apigw-svc-name {
              font-size: 0.8rem;
              font-weight: 500;
            }
            .apigw-service:nth-child(1) .apigw-svc-name { color: #3b82f6; }
            .apigw-service:nth-child(2) .apigw-svc-name { color: #10b981; }
            .apigw-service:nth-child(3) .apigw-svc-name { color: #f59e0b; }
            .apigw-service:nth-child(4) .apigw-svc-name { color: #8b5cf6; }
            
            /* Responsibilities */
            .apigw-resp {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .apigw-resp-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .apigw-resp-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .apigw-resp-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .apigw-resp-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .apigw-resp-item {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .apigw-resp-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .apigw-resp-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
            }
          </style>
          
          <div class="apigw-viz">
            <!-- API Flow -->
            <div class="apigw-flow">
              <div class="apigw-flow-title">API Gateway Architecture</div>
              <div class="apigw-diagram">
                <div class="apigw-clients">
                  <div class="apigw-client">üì± Mobile App</div>
                  <div class="apigw-client">üíª Web App</div>
                  <div class="apigw-client">üîå Third Party</div>
                  <div class="apigw-client">üñ•Ô∏è Internal</div>
                </div>
                <div class="apigw-arrow">‚Üì</div>
                <div class="apigw-gateway">
                  <div class="apigw-gw-icon">üö™</div>
                  <div class="apigw-gw-name">API Gateway</div>
                  <div class="apigw-features">
                    <span class="apigw-feature">üîê Auth</span>
                    <span class="apigw-feature">üö¶ Rate Limit</span>
                    <span class="apigw-feature">üîÄ Route</span>
                    <span class="apigw-feature">üìä Analytics</span>
                  </div>
                </div>
                <div class="apigw-arrow">‚Üì</div>
                <div class="apigw-services">
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üë§</div>
                    <div class="apigw-svc-name">Users</div>
                  </div>
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üì¶</div>
                    <div class="apigw-svc-name">Orders</div>
                  </div>
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üí≥</div>
                    <div class="apigw-svc-name">Payments</div>
                  </div>
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üìß</div>
                    <div class="apigw-svc-name">Notifications</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Responsibilities -->
            <div class="apigw-resp">
              <div class="apigw-resp-title">Gateway Responsibilities</div>
              <div class="apigw-resp-grid">
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">üîê</div>
                  <div class="apigw-resp-name">Authentication</div>
                </div>
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">üö¶</div>
                  <div class="apigw-resp-name">Rate Limiting</div>
                </div>
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">üîÑ</div>
                  <div class="apigw-resp-name">Request Transform</div>
                </div>
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">‚öñÔ∏è</div>
                  <div class="apigw-resp-name">Load Balancing</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>An <strong>API Gateway</strong> sits between clients and backend services, providing a unified interface. It handles authentication, rate limiting, request routing, load balancing, and response aggregation.</p>
          <p>This centralizes cross-cutting concerns, simplifies client code, and allows backend services to focus on business logic rather than common infrastructure concerns.</p>
        `,
        keyPoints: [
          { icon: "üîê", title: "Authentication", desc: "Validate tokens, API keys, and enforce security policies at the edge.", color: "#06b6d4" },
          { icon: "üö¶", title: "Rate Limiting", desc: "Protect services from abuse by limiting requests per client.", color: "#ef4444" },
          { icon: "üîÄ", title: "Request Routing", desc: "Route requests to appropriate backend services based on path, headers.", color: "#3b82f6" },
          { icon: "üìä", title: "Response Aggregation", desc: "Combine responses from multiple services into a single response.", color: "#10b981" }
        ],
        formula: "Client ‚Üí Gateway ‚Üí [Auth + Rate Limit + Transform] ‚Üí Service",
        strategies: [
          { title: "Backend for Frontend (BFF)", desc: "Create specialized gateways for each client type (mobile, web) with tailored APIs." },
          { title: "Request/Response Transformation", desc: "Adapt request/response formats between clients and services." },
          { title: "Circuit Breaker Integration", desc: "Fail fast and return cached/fallback responses when services are down." },
          { title: "API Versioning", desc: "Manage multiple API versions, routing to appropriate service versions." }
        ],
        metrics: [
          { level: "Kong", downtime: "Open source, plugins", useCase: "Flexible, self-hosted" },
          { level: "AWS API Gateway", downtime: "Serverless, managed", useCase: "AWS Lambda integration" },
          { level: "Apigee", downtime: "Enterprise features", useCase: "API management platform" },
          { level: "NGINX", downtime: "High performance", useCase: "Custom gateway builds" }
        ]
      },
      cdn: {
        title: "CDN",
        subtitle: "Content Delivery Network - A distributed network of servers that delivers content to users from geographically close locations.",
        badge: { text: "Architecture Pattern", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .cdn-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cdn-network {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .cdn-network-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cdn-network-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .cdn-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .cdn-origin {
              padding: 18px 40px;
              background: linear-gradient(135deg, #10b981, #059669);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
            }
            .cdn-origin-icon {
              font-size: 1.8rem;
              margin-bottom: 4px;
            }
            .cdn-origin-text {
              font-weight: 600;
            }
            .cdn-arrows {
              display: flex;
              gap: 30px;
              color: #10b981;
            }
            .cdn-arrow {
              animation: cdnPush 1.5s ease-in-out infinite;
            }
            .cdn-arrow:nth-child(2) { animation-delay: 0.5s; }
            .cdn-arrow:nth-child(3) { animation-delay: 1s; }
            @keyframes cdnPush {
              0%, 100% { transform: translateY(0); opacity: 0.5; }
              50% { transform: translateY(4px); opacity: 1; }
            }
            .cdn-edges {
              display: flex;
              gap: 24px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .cdn-edge {
              text-align: center;
              transition: all 0.3s ease;
            }
            .cdn-edge:hover {
              transform: translateY(-3px);
            }
            .cdn-edge-globe {
              width: 70px;
              height: 70px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 0 auto 8px;
              font-size: 2rem;
              animation: globePulse 2s ease-in-out infinite;
            }
            .cdn-edge:nth-child(1) .cdn-edge-globe { background: rgba(59, 130, 246, 0.2); border: 2px solid rgba(59, 130, 246, 0.5); animation-delay: 0s; }
            .cdn-edge:nth-child(2) .cdn-edge-globe { background: rgba(139, 92, 246, 0.2); border: 2px solid rgba(139, 92, 246, 0.5); animation-delay: 0.7s; }
            .cdn-edge:nth-child(3) .cdn-edge-globe { background: rgba(245, 158, 11, 0.2); border: 2px solid rgba(245, 158, 11, 0.5); animation-delay: 1.4s; }
            @keyframes globePulse {
              0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.3); }
              50% { box-shadow: 0 0 0 8px rgba(16, 185, 129, 0); }
            }
            .cdn-edge-name {
              font-size: 0.85rem;
              font-weight: 500;
              margin-bottom: 2px;
            }
            .cdn-edge:nth-child(1) .cdn-edge-name { color: #3b82f6; }
            .cdn-edge:nth-child(2) .cdn-edge-name { color: #8b5cf6; }
            .cdn-edge:nth-child(3) .cdn-edge-name { color: #f59e0b; }
            .cdn-edge-latency {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .cdn-users {
              display: flex;
              gap: 20px;
              flex-wrap: wrap;
              justify-content: center;
              margin-top: 12px;
            }
            .cdn-user {
              display: flex;
              align-items: center;
              gap: 4px;
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            
            /* Benefits */
            .cdn-benefits {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .cdn-ben-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cdn-ben-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .cdn-ben-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .cdn-ben-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .cdn-ben {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .cdn-ben-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .cdn-ben-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .cdn-ben-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="cdn-viz">
            <!-- CDN Network -->
            <div class="cdn-network">
              <div class="cdn-network-title">Global Content Distribution</div>
              <div class="cdn-diagram">
                <div class="cdn-origin">
                  <div class="cdn-origin-icon">üè¢</div>
                  <div class="cdn-origin-text">Origin Server</div>
                </div>
                <div class="cdn-arrows">
                  <span class="cdn-arrow">‚ÜôÔ∏è</span>
                  <span class="cdn-arrow">‚¨áÔ∏è</span>
                  <span class="cdn-arrow">‚ÜòÔ∏è</span>
                </div>
                <div class="cdn-edges">
                  <div class="cdn-edge">
                    <div class="cdn-edge-globe">üåç</div>
                    <div class="cdn-edge-name">Europe</div>
                    <div class="cdn-edge-latency">~20ms</div>
                  </div>
                  <div class="cdn-edge">
                    <div class="cdn-edge-globe">üåé</div>
                    <div class="cdn-edge-name">Americas</div>
                    <div class="cdn-edge-latency">~15ms</div>
                  </div>
                  <div class="cdn-edge">
                    <div class="cdn-edge-globe">üåè</div>
                    <div class="cdn-edge-name">Asia Pacific</div>
                    <div class="cdn-edge-latency">~25ms</div>
                  </div>
                </div>
                <div class="cdn-users">
                  <span class="cdn-user">üë§ User ‚Üí Nearest Edge</span>
                  <span class="cdn-user">‚ö° Low Latency</span>
                  <span class="cdn-user">üíæ Cached Content</span>
                </div>
              </div>
            </div>
            
            <!-- Benefits -->
            <div class="cdn-benefits">
              <div class="cdn-ben-title">CDN Benefits</div>
              <div class="cdn-ben-grid">
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">‚ö°</div>
                  <div class="cdn-ben-name">Speed</div>
                  <div class="cdn-ben-desc">Reduced latency</div>
                </div>
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">üõ°Ô∏è</div>
                  <div class="cdn-ben-name">DDoS Protection</div>
                  <div class="cdn-ben-desc">Absorb attacks</div>
                </div>
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">üìà</div>
                  <div class="cdn-ben-name">Scalability</div>
                  <div class="cdn-ben-desc">Handle traffic spikes</div>
                </div>
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">üí∞</div>
                  <div class="cdn-ben-name">Cost Savings</div>
                  <div class="cdn-ben-desc">Reduce origin load</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>A <strong>CDN</strong> caches content at edge locations worldwide, serving users from the geographically closest server. This dramatically reduces latency and offloads traffic from origin servers.</p>
          <p>CDNs are essential for delivering static assets (images, CSS, JS), streaming media, and even dynamic content through edge computing capabilities.</p>
        `,
        keyPoints: [
          { icon: "üåç", title: "Geographic Distribution", desc: "Edge servers in 100+ locations ensure content is always nearby.", color: "#10b981" },
          { icon: "‚ö°", title: "Reduced Latency", desc: "Serve from edge instead of distant origin - milliseconds vs seconds.", color: "#3b82f6" },
          { icon: "üõ°Ô∏è", title: "DDoS Protection", desc: "Absorb attack traffic at the edge before it reaches origin.", color: "#ef4444" },
          { icon: "üí∞", title: "Bandwidth Savings", desc: "Reduce origin bandwidth costs by serving cached content.", color: "#f59e0b" }
        ],
        formula: "Latency = Round Trip Time to Nearest Edge ‚â™ RTT to Origin",
        strategies: [
          { title: "Cache-Control Headers", desc: "Set appropriate TTLs and cache directives for different content types." },
          { title: "Cache Invalidation", desc: "Purge or refresh cached content when origin content changes." },
          { title: "Edge Computing", desc: "Run logic at the edge for personalization and dynamic content." },
          { title: "Origin Shield", desc: "Add intermediate cache layer to protect origin from edge cache misses." }
        ],
        metrics: [
          { level: "Cloudflare", downtime: "Global, security focus", useCase: "Web apps, DDoS protection" },
          { level: "AWS CloudFront", downtime: "AWS integrated", useCase: "S3, Lambda@Edge" },
          { level: "Fastly", downtime: "Real-time purge", useCase: "Dynamic content, streaming" },
          { level: "Akamai", downtime: "Enterprise, largest", useCase: "Media, enterprise" }
        ]
      },
      "database-sharding": {
        title: "Database Sharding",
        subtitle: "Horizontal partitioning of data across multiple database instances to handle larger datasets and higher throughput.",
        badge: { text: "Architecture Pattern", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .shard-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .shard-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .shard-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .shard-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .shard-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 14px;
            }
            .shard-query {
              padding: 12px 24px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.4);
              border-radius: 8px;
              font-size: 0.8rem;
              font-family: 'JetBrains Mono', monospace;
              color: #06b6d4;
            }
            .shard-arrow {
              color: #6b7280;
              font-size: 0.9rem;
            }
            .shard-router {
              padding: 18px 50px;
              background: linear-gradient(135deg, #f59e0b, #d97706);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            }
            .shard-router-icon {
              font-size: 1.8rem;
              margin-bottom: 4px;
            }
            .shard-router-text {
              font-weight: 600;
            }
            .shard-router-logic {
              font-size: 0.7rem;
              opacity: 0.9;
              margin-top: 4px;
              font-family: 'JetBrains Mono', monospace;
            }
            .shard-arrows {
              display: flex;
              gap: 50px;
              color: #f59e0b;
            }
            .shard-arr {
              animation: shardRoute 1s ease-in-out infinite;
            }
            .shard-arr:nth-child(2) { animation-delay: 0.3s; }
            .shard-arr:nth-child(3) { animation-delay: 0.6s; }
            @keyframes shardRoute {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 1; }
            }
            .shard-nodes {
              display: flex;
              gap: 16px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .shard-node {
              padding: 18px 24px;
              border-radius: 12px;
              text-align: center;
              min-width: 110px;
              transition: all 0.3s ease;
            }
            .shard-node:hover {
              transform: translateY(-3px);
            }
            .shard-node:nth-child(1) { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4); }
            .shard-node:nth-child(2) { background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4); }
            .shard-node:nth-child(3) { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.4); }
            .shard-node-icon {
              font-size: 1.8rem;
              margin-bottom: 6px;
            }
            .shard-node-name {
              font-weight: 600;
              font-size: 0.9rem;
              margin-bottom: 4px;
            }
            .shard-node:nth-child(1) .shard-node-name { color: #3b82f6; }
            .shard-node:nth-child(2) .shard-node-name { color: #10b981; }
            .shard-node:nth-child(3) .shard-node-name { color: #8b5cf6; }
            .shard-node-key {
              font-size: 0.7rem;
              color: #6b7280;
              font-family: 'JetBrains Mono', monospace;
            }
            .shard-node-size {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Considerations */
            .shard-consider {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(239, 68, 68, 0.2);
            }
            .shard-consider-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .shard-consider-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ef4444;
              border-radius: 50%;
            }
            .shard-consider-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .shard-consider-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .shard-cons {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .shard-cons-icon {
              font-size: 1.3rem;
              margin-bottom: 6px;
            }
            .shard-cons-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .shard-cons-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="shard-viz">
            <!-- Sharding Flow -->
            <div class="shard-flow">
              <div class="shard-flow-title">Database Sharding Architecture</div>
              <div class="shard-diagram">
                <div class="shard-query">SELECT * FROM users WHERE user_id = 12345</div>
                <div class="shard-arrow">‚Üì</div>
                <div class="shard-router">
                  <div class="shard-router-icon">üóÑÔ∏è</div>
                  <div class="shard-router-text">Shard Router</div>
                  <div class="shard-router-logic">12345 % 3 = 0 ‚Üí Shard 0</div>
                </div>
                <div class="shard-arrows">
                  <span class="shard-arr">‚ÜôÔ∏è</span>
                  <span class="shard-arr">‚¨áÔ∏è</span>
                  <span class="shard-arr">‚ÜòÔ∏è</span>
                </div>
                <div class="shard-nodes">
                  <div class="shard-node">
                    <div class="shard-node-icon">üíæ</div>
                    <div class="shard-node-name">Shard 0</div>
                    <div class="shard-node-key">id % 3 = 0</div>
                    <div class="shard-node-size">~33% of data</div>
                  </div>
                  <div class="shard-node">
                    <div class="shard-node-icon">üíæ</div>
                    <div class="shard-node-name">Shard 1</div>
                    <div class="shard-node-key">id % 3 = 1</div>
                    <div class="shard-node-size">~33% of data</div>
                  </div>
                  <div class="shard-node">
                    <div class="shard-node-icon">üíæ</div>
                    <div class="shard-node-name">Shard 2</div>
                    <div class="shard-node-key">id % 3 = 2</div>
                    <div class="shard-node-size">~33% of data</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Considerations -->
            <div class="shard-consider">
              <div class="shard-consider-title">Sharding Challenges</div>
              <div class="shard-consider-grid">
                <div class="shard-cons">
                  <div class="shard-cons-icon">üîÄ</div>
                  <div class="shard-cons-name">Cross-Shard Joins</div>
                  <div class="shard-cons-desc">Complex queries</div>
                </div>
                <div class="shard-cons">
                  <div class="shard-cons-icon">‚öñÔ∏è</div>
                  <div class="shard-cons-name">Rebalancing</div>
                  <div class="shard-cons-desc">Data migration</div>
                </div>
                <div class="shard-cons">
                  <div class="shard-cons-icon">üî•</div>
                  <div class="shard-cons-name">Hotspots</div>
                  <div class="shard-cons-desc">Uneven load</div>
                </div>
                <div class="shard-cons">
                  <div class="shard-cons-icon">üîë</div>
                  <div class="shard-cons-name">Key Selection</div>
                  <div class="shard-cons-desc">Critical choice</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Database Sharding</strong> distributes data across multiple database instances (shards), with each shard containing a subset of the data. This enables horizontal scaling beyond single-node limits.</p>
          <p>Sharding is essential when a single database can't handle the data volume or query load, but it adds complexity in query routing, joins, and data rebalancing.</p>
        `,
        keyPoints: [
          { icon: "üîë", title: "Shard Key Selection", desc: "Choose a key that distributes data evenly and matches query patterns.", color: "#f59e0b" },
          { icon: "üîÄ", title: "Shard Routing", desc: "Application or proxy layer routes queries to correct shard.", color: "#3b82f6" },
          { icon: "‚öñÔ∏è", title: "Rebalancing", desc: "Redistribute data when adding shards or fixing hotspots.", color: "#8b5cf6" },
          { icon: "üîó", title: "Cross-Shard Queries", desc: "Joins and aggregations across shards are complex and slow.", color: "#ef4444" }
        ],
        formula: "Shard = hash(shard_key) % number_of_shards",
        strategies: [
          { title: "Consistent Hashing", desc: "Minimize data movement when adding/removing shards using hash ring." },
          { title: "Shard-Nothing Architecture", desc: "Design so queries only need data from one shard when possible." },
          { title: "Global Tables", desc: "Replicate small, frequently-joined tables to all shards." },
          { title: "Vitess/ProxySQL", desc: "Use sharding middleware to abstract complexity from applications." }
        ],
        metrics: [
          { level: "Horizontal Scale", downtime: "Add more shards", useCase: "Linear capacity growth" },
          { level: "Shard Skew", downtime: "Data distribution", useCase: "Balance monitoring" },
          { level: "Cross-Shard %", downtime: "Multi-shard queries", useCase: "Design effectiveness" },
          { level: "Rebalance Time", downtime: "Migration duration", useCase: "Operational overhead" }
        ]
      },
      "fault-tolerance": {
        title: "Fault Tolerance",
        subtitle: "The ability of a system to continue operating correctly even when some components fail.",
        badge: { text: "Resilience", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .ft-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .ft-demo {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(239, 68, 68, 0.2);
            }
            .ft-demo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ft-demo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ef4444;
              border-radius: 50%;
            }
            .ft-servers {
              display: flex;
              justify-content: center;
              gap: 16px;
              margin-bottom: 20px;
              flex-wrap: wrap;
            }
            .ft-server {
              padding: 18px 24px;
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
              border: 2px solid;
              transition: all 0.3s ease;
            }
            .ft-server.healthy {
              background: rgba(16, 185, 129, 0.15);
              border-color: rgba(16, 185, 129, 0.5);
            }
            .ft-server.failed {
              background: rgba(239, 68, 68, 0.15);
              border-color: rgba(239, 68, 68, 0.5);
              opacity: 0.6;
              animation: ftFailPulse 2s ease-in-out infinite;
            }
            @keyframes ftFailPulse {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 0.7; }
            }
            .ft-server-icon {
              font-size: 1.8rem;
              margin-bottom: 6px;
            }
            .ft-server-name {
              font-size: 0.85rem;
              font-weight: 500;
            }
            .ft-server.healthy .ft-server-name { color: #10b981; }
            .ft-server.failed .ft-server-name { color: #ef4444; }
            .ft-server-status {
              font-size: 0.7rem;
              margin-top: 4px;
            }
            .ft-server.healthy .ft-server-status { color: #059669; }
            .ft-server.failed .ft-server-status { color: #dc2626; }
            .ft-result {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 12px;
              padding: 16px 24px;
              background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 182, 212, 0.2));
              border: 1px solid rgba(16, 185, 129, 0.3);
              border-radius: 12px;
            }
            .ft-result-icon {
              font-size: 1.5rem;
            }
            .ft-result-text {
              font-weight: 600;
              color: #10b981;
            }
            .ft-result-sub {
              font-size: 0.8rem;
              color: #6b7280;
            }
            
            /* Patterns */
            .ft-patterns {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .ft-pat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ft-pat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .ft-pat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .ft-pat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .ft-pattern {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .ft-pat-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .ft-pat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .ft-pat-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="ft-viz">
            <!-- Failure Demo -->
            <div class="ft-demo">
              <div class="ft-demo-title">System Continues Despite Failures</div>
              <div class="ft-servers">
                <div class="ft-server healthy">
                  <div class="ft-server-icon">‚úÖ</div>
                  <div class="ft-server-name">Server 1</div>
                  <div class="ft-server-status">Healthy</div>
                </div>
                <div class="ft-server failed">
                  <div class="ft-server-icon">üí•</div>
                  <div class="ft-server-name">Server 2</div>
                  <div class="ft-server-status">Failed</div>
                </div>
                <div class="ft-server healthy">
                  <div class="ft-server-icon">‚úÖ</div>
                  <div class="ft-server-name">Server 3</div>
                  <div class="ft-server-status">Healthy</div>
                </div>
                <div class="ft-server healthy">
                  <div class="ft-server-icon">‚úÖ</div>
                  <div class="ft-server-name">Server 4</div>
                  <div class="ft-server-status">Healthy</div>
                </div>
              </div>
              <div class="ft-result">
                <span class="ft-result-icon">üõ°Ô∏è</span>
                <div>
                  <div class="ft-result-text">System Still Operational</div>
                  <div class="ft-result-sub">75% capacity ‚Ä¢ Traffic rerouted automatically</div>
                </div>
              </div>
            </div>
            
            <!-- Patterns -->
            <div class="ft-patterns">
              <div class="ft-pat-title">Fault Tolerance Patterns</div>
              <div class="ft-pat-grid">
                <div class="ft-pattern">
                  <div class="ft-pat-icon">üîÑ</div>
                  <div class="ft-pat-name">Redundancy</div>
                  <div class="ft-pat-desc">Multiple instances</div>
                </div>
                <div class="ft-pattern">
                  <div class="ft-pat-icon">üß±</div>
                  <div class="ft-pat-name">Bulkhead</div>
                  <div class="ft-pat-desc">Isolate failures</div>
                </div>
                <div class="ft-pattern">
                  <div class="ft-pat-icon">‚è±Ô∏è</div>
                  <div class="ft-pat-name">Timeout</div>
                  <div class="ft-pat-desc">Fail fast</div>
                </div>
                <div class="ft-pattern">
                  <div class="ft-pat-icon">üîÅ</div>
                  <div class="ft-pat-name">Retry</div>
                  <div class="ft-pat-desc">Exponential backoff</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Fault Tolerance</strong> is the property that enables a system to continue operating properly in the event of failure of some of its components.</p>
          <p>Fault-tolerant systems anticipate failures and are designed to handle them gracefully, often transparently to users. This requires redundancy, failure detection, and automatic recovery mechanisms.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Redundancy", desc: "Run multiple instances so failure of one doesn't cause system failure.", color: "#ef4444" },
          { icon: "‚ù§Ô∏è", title: "Health Checks", desc: "Continuously monitor component health to detect failures quickly.", color: "#3b82f6" },
          { icon: "üîÄ", title: "Failover", desc: "Automatically route traffic away from failed components.", color: "#10b981" },
          { icon: "üîô", title: "Recovery", desc: "Restart failed components and restore state from backups.", color: "#8b5cf6" }
        ],
        formula: "System Availability = 1 - (Component Failure Rate)^Redundancy",
        strategies: [
          { title: "N+1 Redundancy", desc: "Run one more instance than needed so one can fail without impact." },
          { title: "Bulkhead Pattern", desc: "Isolate components so failure in one doesn't cascade to others." },
          { title: "Timeout & Retry", desc: "Set timeouts on calls and retry with exponential backoff." },
          { title: "Chaos Engineering", desc: "Intentionally inject failures to test and improve fault tolerance." }
        ],
        metrics: [
          { level: "MTBF", downtime: "Mean Time Between Failures", useCase: "Component reliability" },
          { level: "MTTR", downtime: "Mean Time To Recovery", useCase: "Recovery speed" },
          { level: "Blast Radius", downtime: "Failure impact scope", useCase: "Isolation effectiveness" },
          { level: "Recovery Success", downtime: "Auto-recovery rate", useCase: "Self-healing ability" }
        ]
      },
      "circuit-breaker": {
        title: "Circuit Breaker",
        subtitle: "A pattern that prevents cascading failures by stopping calls to a failing service.",
        badge: { text: "Resilience", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .cb-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cb-states {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .cb-states-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 24px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cb-states-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .cb-state-machine {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 16px;
              flex-wrap: wrap;
            }
            .cb-state {
              text-align: center;
              padding: 20px;
              border-radius: 16px;
              min-width: 120px;
              transition: all 0.3s ease;
            }
            .cb-state:hover {
              transform: scale(1.05);
            }
            .cb-state.closed {
              background: rgba(16, 185, 129, 0.15);
              border: 2px solid rgba(16, 185, 129, 0.5);
            }
            .cb-state.open {
              background: rgba(239, 68, 68, 0.15);
              border: 2px solid rgba(239, 68, 68, 0.5);
            }
            .cb-state.half-open {
              background: rgba(245, 158, 11, 0.15);
              border: 2px solid rgba(245, 158, 11, 0.5);
            }
            .cb-state-circle {
              width: 60px;
              height: 60px;
              border-radius: 50%;
              margin: 0 auto 12px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.8rem;
            }
            .cb-state.closed .cb-state-circle { background: rgba(16, 185, 129, 0.3); }
            .cb-state.open .cb-state-circle { background: rgba(239, 68, 68, 0.3); animation: openPulse 1s ease-in-out infinite; }
            .cb-state.half-open .cb-state-circle { background: rgba(245, 158, 11, 0.3); animation: testPulse 1.5s ease-in-out infinite; }
            @keyframes openPulse {
              0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
              50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            }
            @keyframes testPulse {
              0%, 100% { opacity: 0.7; }
              50% { opacity: 1; }
            }
            .cb-state-name {
              font-weight: 600;
              font-size: 1rem;
              margin-bottom: 4px;
            }
            .cb-state.closed .cb-state-name { color: #10b981; }
            .cb-state.open .cb-state-name { color: #ef4444; }
            .cb-state.half-open .cb-state-name { color: #f59e0b; }
            .cb-state-desc {
              font-size: 0.75rem;
              color: #6b7280;
              margin-bottom: 8px;
            }
            .cb-state-action {
              font-size: 0.7rem;
              padding: 4px 10px;
              border-radius: 12px;
              display: inline-block;
            }
            .cb-state.closed .cb-state-action { background: rgba(16, 185, 129, 0.2); color: #10b981; }
            .cb-state.open .cb-state-action { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
            .cb-state.half-open .cb-state-action { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
            .cb-arrow {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 4px;
              color: #6b7280;
            }
            .cb-arrow-icon {
              font-size: 1.5rem;
              color: #8b5cf6;
            }
            .cb-arrow-label {
              font-size: 0.65rem;
              text-align: center;
              max-width: 80px;
            }
            
            /* Timeline */
            .cb-timeline {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .cb-timeline-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cb-timeline-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .cb-timeline-bar {
              display: flex;
              height: 40px;
              border-radius: 8px;
              overflow: hidden;
              margin-bottom: 12px;
            }
            .cb-tl-segment {
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.7rem;
              font-weight: 500;
            }
            .cb-tl-closed { flex: 4; background: linear-gradient(90deg, #10b981, #059669); color: white; }
            .cb-tl-open { flex: 2; background: linear-gradient(90deg, #ef4444, #dc2626); color: white; }
            .cb-tl-half { flex: 1; background: linear-gradient(90deg, #f59e0b, #d97706); color: white; }
            .cb-tl-closed2 { flex: 3; background: linear-gradient(90deg, #059669, #10b981); color: white; }
            .cb-timeline-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
              color: #6b7280;
            }
          </style>
          
          <div class="cb-viz">
            <!-- State Machine -->
            <div class="cb-states">
              <div class="cb-states-title">Circuit Breaker State Machine</div>
              <div class="cb-state-machine">
                <div class="cb-state closed">
                  <div class="cb-state-circle">üü¢</div>
                  <div class="cb-state-name">CLOSED</div>
                  <div class="cb-state-desc">Normal operation</div>
                  <div class="cb-state-action">‚úì Requests pass through</div>
                </div>
                <div class="cb-arrow">
                  <span class="cb-arrow-icon">‚Üí</span>
                  <span class="cb-arrow-label">Failures exceed threshold</span>
                </div>
                <div class="cb-state open">
                  <div class="cb-state-circle">üî¥</div>
                  <div class="cb-state-name">OPEN</div>
                  <div class="cb-state-desc">Circuit tripped</div>
                  <div class="cb-state-action">‚úó Fail fast immediately</div>
                </div>
                <div class="cb-arrow">
                  <span class="cb-arrow-icon">‚Üí</span>
                  <span class="cb-arrow-label">Timeout expires</span>
                </div>
                <div class="cb-state half-open">
                  <div class="cb-state-circle">üü°</div>
                  <div class="cb-state-name">HALF-OPEN</div>
                  <div class="cb-state-desc">Testing recovery</div>
                  <div class="cb-state-action">‚ö° Limited requests</div>
                </div>
              </div>
            </div>
            
            <!-- Timeline -->
            <div class="cb-timeline">
              <div class="cb-timeline-title">Circuit Breaker Timeline Example</div>
              <div class="cb-timeline-bar">
                <div class="cb-tl-segment cb-tl-closed">CLOSED</div>
                <div class="cb-tl-segment cb-tl-open">OPEN</div>
                <div class="cb-tl-segment cb-tl-half">TEST</div>
                <div class="cb-tl-segment cb-tl-closed2">CLOSED</div>
              </div>
              <div class="cb-timeline-labels">
                <span>Normal</span>
                <span>‚Üê Service fails</span>
                <span>Recovery test ‚Üí</span>
                <span>Healthy</span>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>The <strong>Circuit Breaker</strong> pattern prevents an application from repeatedly trying to execute an operation that's likely to fail, allowing it to fail fast and recover gracefully.</p>
          <p>Like an electrical circuit breaker, it "trips" when failures exceed a threshold, preventing cascading failures and giving the failing service time to recover.</p>
        `,
        keyPoints: [
          { icon: "üü¢", title: "Closed State", desc: "Normal operation - requests pass through, failures are counted.", color: "#10b981" },
          { icon: "üî¥", title: "Open State", desc: "Circuit tripped - requests fail immediately without calling service.", color: "#ef4444" },
          { icon: "üü°", title: "Half-Open State", desc: "Testing recovery - limited requests allowed to check if service recovered.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Fail Fast", desc: "Return errors immediately instead of waiting for timeouts.", color: "#8b5cf6" }
        ],
        formula: "Open when: Failure Rate > Threshold within Time Window",
        strategies: [
          { title: "Threshold Configuration", desc: "Set failure rate and time window thresholds appropriate to service SLAs." },
          { title: "Fallback Responses", desc: "Return cached data, default values, or degraded functionality when open." },
          { title: "Health Check Endpoints", desc: "Use dedicated health endpoints to test service recovery." },
          { title: "Monitoring & Alerts", desc: "Alert when circuits open to trigger investigation and response." }
        ],
        metrics: [
          { level: "Hystrix", downtime: "Netflix, Java", useCase: "Original implementation" },
          { level: "Resilience4j", downtime: "Lightweight, Java", useCase: "Modern alternative" },
          { level: "Polly", downtime: ".NET library", useCase: "C# applications" },
          { level: "Istio", downtime: "Service mesh", useCase: "Infrastructure-level" }
        ]
      },
      "rate-limiting": {
        title: "Rate Limiting",
        subtitle: "Controlling the rate of requests to protect services from overload and abuse.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .rl-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .rl-bucket {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .rl-bucket-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rl-bucket-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .rl-flow {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 20px;
              flex-wrap: wrap;
            }
            .rl-requests {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 8px;
            }
            .rl-req-row {
              display: flex;
              gap: 4px;
            }
            .rl-req {
              width: 24px;
              height: 24px;
              background: rgba(59, 130, 246, 0.3);
              border: 1px solid rgba(59, 130, 246, 0.5);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.65rem;
              animation: reqFlow 1.5s ease-in-out infinite;
            }
            .rl-req:nth-child(2) { animation-delay: 0.2s; }
            .rl-req:nth-child(3) { animation-delay: 0.4s; }
            .rl-req:nth-child(4) { animation-delay: 0.6s; }
            .rl-req:nth-child(5) { animation-delay: 0.8s; }
            @keyframes reqFlow {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(3px); }
            }
            .rl-req-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .rl-arrow {
              color: #6b7280;
              font-size: 1.2rem;
            }
            .rl-limiter {
              position: relative;
              padding: 24px 32px;
              background: linear-gradient(135deg, #f59e0b, #d97706);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            }
            .rl-limiter-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .rl-limiter-name {
              font-weight: 600;
              font-size: 1rem;
            }
            .rl-limiter-config {
              font-size: 0.75rem;
              opacity: 0.9;
              margin-top: 4px;
            }
            .rl-bucket-visual {
              margin-top: 12px;
              padding: 8px 12px;
              background: rgba(0, 0, 0, 0.2);
              border-radius: 8px;
            }
            .rl-tokens {
              display: flex;
              gap: 4px;
              justify-content: center;
            }
            .rl-token {
              width: 16px;
              height: 16px;
              background: #fff;
              border-radius: 50%;
              opacity: 0.9;
            }
            .rl-token.used {
              opacity: 0.2;
            }
            .rl-token-label {
              font-size: 0.6rem;
              text-align: center;
              margin-top: 4px;
              opacity: 0.8;
            }
            .rl-output {
              display: flex;
              flex-direction: column;
              gap: 12px;
            }
            .rl-allowed {
              padding: 14px 20px;
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 10px;
              text-align: center;
            }
            .rl-allowed-icon {
              font-size: 1.3rem;
              margin-bottom: 4px;
            }
            .rl-allowed-text {
              font-size: 0.8rem;
              color: #10b981;
              font-weight: 500;
            }
            .rl-rejected {
              padding: 14px 20px;
              background: rgba(239, 68, 68, 0.15);
              border: 1px solid rgba(239, 68, 68, 0.4);
              border-radius: 10px;
              text-align: center;
            }
            .rl-rejected-icon {
              font-size: 1.3rem;
              margin-bottom: 4px;
            }
            .rl-rejected-text {
              font-size: 0.8rem;
              color: #ef4444;
              font-weight: 500;
            }
            .rl-rejected-code {
              font-size: 0.65rem;
              color: #6b7280;
            }
            
            /* Algorithms */
            .rl-algorithms {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .rl-algo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rl-algo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .rl-algo-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .rl-algo-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .rl-algo {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .rl-algo-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .rl-algo-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .rl-algo-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="rl-viz">
            <!-- Token Bucket Flow -->
            <div class="rl-bucket">
              <div class="rl-bucket-title">Token Bucket Rate Limiting</div>
              <div class="rl-flow">
                <div class="rl-requests">
                  <div class="rl-req-row">
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                  </div>
                  <div class="rl-req-label">Incoming Requests</div>
                </div>
                <div class="rl-arrow">‚Üí</div>
                <div class="rl-limiter">
                  <div class="rl-limiter-icon">üö¶</div>
                  <div class="rl-limiter-name">Rate Limiter</div>
                  <div class="rl-limiter-config">100 req/min</div>
                  <div class="rl-bucket-visual">
                    <div class="rl-tokens">
                      <div class="rl-token"></div>
                      <div class="rl-token"></div>
                      <div class="rl-token"></div>
                      <div class="rl-token used"></div>
                      <div class="rl-token used"></div>
                    </div>
                    <div class="rl-token-label">3/5 tokens available</div>
                  </div>
                </div>
                <div class="rl-arrow">‚Üí</div>
                <div class="rl-output">
                  <div class="rl-allowed">
                    <div class="rl-allowed-icon">‚úÖ</div>
                    <div class="rl-allowed-text">3 Allowed</div>
                  </div>
                  <div class="rl-rejected">
                    <div class="rl-rejected-icon">‚ùå</div>
                    <div class="rl-rejected-text">2 Rejected</div>
                    <div class="rl-rejected-code">HTTP 429</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Algorithms -->
            <div class="rl-algorithms">
              <div class="rl-algo-title">Rate Limiting Algorithms</div>
              <div class="rl-algo-grid">
                <div class="rl-algo">
                  <div class="rl-algo-icon">ü™£</div>
                  <div class="rl-algo-name">Token Bucket</div>
                  <div class="rl-algo-desc">Allows bursts, smooth average</div>
                </div>
                <div class="rl-algo">
                  <div class="rl-algo-icon">üíß</div>
                  <div class="rl-algo-name">Leaky Bucket</div>
                  <div class="rl-algo-desc">Fixed output rate</div>
                </div>
                <div class="rl-algo">
                  <div class="rl-algo-icon">ü™ü</div>
                  <div class="rl-algo-name">Fixed Window</div>
                  <div class="rl-algo-desc">Reset each interval</div>
                </div>
                <div class="rl-algo">
                  <div class="rl-algo-icon">üìä</div>
                  <div class="rl-algo-name">Sliding Window</div>
                  <div class="rl-algo-desc">Smooth rolling limit</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Rate Limiting</strong> restricts the number of requests a client can make in a given time period. It protects services from being overwhelmed and ensures fair resource allocation.</p>
          <p>Rate limits can be applied per user, per API key, per IP address, or globally. They're essential for API security, cost control, and maintaining service quality.</p>
        `,
        keyPoints: [
          { icon: "ü™£", title: "Token Bucket", desc: "Tokens added at fixed rate; requests consume tokens. Allows bursts up to bucket size.", color: "#f59e0b" },
          { icon: "üíß", title: "Leaky Bucket", desc: "Requests queue and process at fixed rate. Smooths traffic, no bursts.", color: "#3b82f6" },
          { icon: "ü™ü", title: "Fixed Window", desc: "Count requests in fixed time windows. Simple but allows edge bursts.", color: "#8b5cf6" },
          { icon: "üîÑ", title: "Sliding Window", desc: "Rolling time window for smoother limiting. More accurate but complex.", color: "#10b981" }
        ],
        formula: "Rate Limit = Max Requests / Time Window (e.g., 100/minute)",
        strategies: [
          { title: "Tiered Limits", desc: "Different limits for different user tiers (free vs premium) or endpoints." },
          { title: "Distributed Rate Limiting", desc: "Use Redis or similar for consistent limits across multiple servers." },
          { title: "Graceful Rejection", desc: "Return 429 with Retry-After header telling client when to retry." },
          { title: "Request Prioritization", desc: "Allow critical requests through even when rate limited." }
        ],
        metrics: [
          { level: "Per-User", downtime: "By API key/user ID", useCase: "Fair usage per account" },
          { level: "Per-IP", downtime: "By client IP", useCase: "DDoS protection" },
          { level: "Global", downtime: "All requests", useCase: "Overall capacity protection" },
          { level: "Per-Endpoint", downtime: "By API route", useCase: "Protect expensive operations" }
        ]
      },
      "graceful-degradation": {
        title: "Graceful Degradation",
        subtitle: "Maintaining partial functionality when some components fail rather than complete system failure.",
        badge: { text: "Resilience", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .gd-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .gd-levels {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .gd-levels-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .gd-levels-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .gd-bars {
              display: flex;
              align-items: flex-end;
              justify-content: center;
              gap: 20px;
              height: 180px;
              margin-bottom: 16px;
            }
            .gd-bar {
              display: flex;
              flex-direction: column;
              align-items: center;
              text-align: center;
            }
            .gd-bar-fill {
              width: 80px;
              border-radius: 10px 10px 0 0;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: flex-end;
              padding-bottom: 12px;
              color: white;
              transition: all 0.3s ease;
            }
            .gd-bar.full .gd-bar-fill {
              height: 160px;
              background: linear-gradient(180deg, #10b981, #059669);
            }
            .gd-bar.degraded .gd-bar-fill {
              height: 112px;
              background: linear-gradient(180deg, #f59e0b, #d97706);
            }
            .gd-bar.minimal .gd-bar-fill {
              height: 64px;
              background: linear-gradient(180deg, #ef4444, #dc2626);
            }
            .gd-bar-percent {
              font-size: 1.3rem;
              font-weight: 700;
            }
            .gd-bar-label {
              font-size: 0.85rem;
              font-weight: 500;
              margin-top: 8px;
            }
            .gd-bar.full .gd-bar-label { color: #10b981; }
            .gd-bar.degraded .gd-bar-label { color: #f59e0b; }
            .gd-bar.minimal .gd-bar-label { color: #ef4444; }
            .gd-bar-features {
              font-size: 0.7rem;
              color: #6b7280;
              margin-top: 4px;
            }
            .gd-message {
              text-align: center;
              padding: 12px 20px;
              background: rgba(16, 185, 129, 0.1);
              border: 1px dashed rgba(16, 185, 129, 0.3);
              border-radius: 10px;
              color: #10b981;
              font-size: 0.85rem;
            }
            
            /* Fallback strategies */
            .gd-strategies {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .gd-strat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .gd-strat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .gd-strat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .gd-strat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .gd-strat {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .gd-strat-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .gd-strat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 3px;
            }
            .gd-strat-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="gd-viz">
            <!-- Service Levels -->
            <div class="gd-levels">
              <div class="gd-levels-title">Service Level Degradation</div>
              <div class="gd-bars">
                <div class="gd-bar full">
                  <div class="gd-bar-fill">
                    <span class="gd-bar-percent">100%</span>
                  </div>
                  <div class="gd-bar-label">Full Service</div>
                  <div class="gd-bar-features">All features enabled</div>
                </div>
                <div class="gd-bar degraded">
                  <div class="gd-bar-fill">
                    <span class="gd-bar-percent">70%</span>
                  </div>
                  <div class="gd-bar-label">Degraded</div>
                  <div class="gd-bar-features">Core features only</div>
                </div>
                <div class="gd-bar minimal">
                  <div class="gd-bar-fill">
                    <span class="gd-bar-percent">30%</span>
                  </div>
                  <div class="gd-bar-label">Minimal</div>
                  <div class="gd-bar-features">Read-only mode</div>
                </div>
              </div>
              <div class="gd-message">
                üí° Better to serve limited features than none at all
              </div>
            </div>
            
            <!-- Fallback Strategies -->
            <div class="gd-strategies">
              <div class="gd-strat-title">Fallback Strategies</div>
              <div class="gd-strat-grid">
                <div class="gd-strat">
                  <div class="gd-strat-icon">üö©</div>
                  <div class="gd-strat-name">Feature Flags</div>
                  <div class="gd-strat-desc">Disable failing features</div>
                </div>
                <div class="gd-strat">
                  <div class="gd-strat-icon">üíæ</div>
                  <div class="gd-strat-name">Cached Data</div>
                  <div class="gd-strat-desc">Serve stale content</div>
                </div>
                <div class="gd-strat">
                  <div class="gd-strat-icon">üìÑ</div>
                  <div class="gd-strat-name">Static Fallback</div>
                  <div class="gd-strat-desc">Pre-generated pages</div>
                </div>
                <div class="gd-strat">
                  <div class="gd-strat-icon">üì¢</div>
                  <div class="gd-strat-name">User Notice</div>
                  <div class="gd-strat-desc">Inform about status</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Graceful Degradation</strong> is a design principle where a system continues to provide service at a reduced level of functionality when some components fail.</p>
          <p>Rather than complete failure, the system falls back to simpler functionality, cached data, or reduced features. Users may experience degraded service, but the core experience remains available.</p>
        `,
        keyPoints: [
          { icon: "üìâ", title: "Reduced Functionality", desc: "Disable non-critical features to maintain core functionality.", color: "#10b981" },
          { icon: "üíæ", title: "Cached Fallbacks", desc: "Serve stale cached data when fresh data is unavailable.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Default Values", desc: "Return sensible defaults when personalization services fail.", color: "#8b5cf6" },
          { icon: "üì¢", title: "User Communication", desc: "Inform users about degraded state and expected recovery.", color: "#f59e0b" }
        ],
        formula: "Availability = Core Features Always + Optional Features When Possible",
        strategies: [
          { title: "Feature Flags", desc: "Quickly disable features that depend on failing services." },
          { title: "Static Fallbacks", desc: "Pre-generate static versions of dynamic content for emergencies." },
          { title: "Read-Only Mode", desc: "Disable writes but allow reads when database is overloaded." },
          { title: "Priority Queues", desc: "Process critical requests first, delay non-critical during overload." }
        ],
        metrics: [
          { level: "Feature Toggle", downtime: "LaunchDarkly, Flagsmith", useCase: "Runtime feature control" },
          { level: "Fallback Cache", downtime: "Stale-while-revalidate", useCase: "Content availability" },
          { level: "Load Shedding", downtime: "Drop low-priority", useCase: "Protect critical paths" },
          { level: "Async Processing", downtime: "Queue for later", useCase: "Handle burst traffic" }
        ]
      },
      "disaster-recovery": {
        title: "Disaster Recovery",
        subtitle: "Strategies and procedures for recovering systems and data after catastrophic failures.",
        badge: { text: "Resilience", color: "#dc2626", bg: "rgba(220, 38, 38, 0.15)" },
        color: "#dc2626",
        diagram: `
          <style>
            .dr-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .dr-failover {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(220, 38, 38, 0.2);
            }
            .dr-failover-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .dr-failover-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #dc2626;
              border-radius: 50%;
            }
            .dr-sites {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 30px;
              flex-wrap: wrap;
              margin-bottom: 20px;
            }
            .dr-site {
              padding: 20px 30px;
              border-radius: 14px;
              text-align: center;
              min-width: 140px;
            }
            .dr-site.primary {
              background: rgba(239, 68, 68, 0.15);
              border: 2px dashed rgba(239, 68, 68, 0.5);
              animation: drFail 2s ease-in-out infinite;
            }
            @keyframes drFail {
              0%, 100% { opacity: 0.5; }
              50% { opacity: 0.8; }
            }
            .dr-site.dr {
              background: rgba(16, 185, 129, 0.15);
              border: 2px solid rgba(16, 185, 129, 0.5);
            }
            .dr-site-icon {
              font-size: 2.5rem;
              margin-bottom: 8px;
            }
            .dr-site-name {
              font-weight: 600;
              font-size: 1rem;
              margin-bottom: 4px;
            }
            .dr-site.primary .dr-site-name { color: #ef4444; }
            .dr-site.dr .dr-site-name { color: #10b981; }
            .dr-site-status {
              font-size: 0.75rem;
              padding: 3px 10px;
              border-radius: 10px;
              display: inline-block;
            }
            .dr-site.primary .dr-site-status { background: rgba(239, 68, 68, 0.2); color: #f87171; }
            .dr-site.dr .dr-site-status { background: rgba(16, 185, 129, 0.2); color: #34d399; }
            .dr-arrow {
              font-size: 2rem;
              color: #10b981;
              animation: drArrow 1s ease-in-out infinite;
            }
            @keyframes drArrow {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(5px); }
            }
            .dr-metrics {
              display: flex;
              justify-content: center;
              gap: 20px;
            }
            .dr-metric {
              padding: 14px 24px;
              background: linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(139, 92, 246, 0.2));
              border-radius: 10px;
              text-align: center;
            }
            .dr-metric-value {
              font-size: 1.3rem;
              font-weight: 700;
              color: #e5e5e5;
            }
            .dr-metric-label {
              font-size: 0.7rem;
              color: #6b7280;
              margin-top: 2px;
            }
            
            /* DR Strategies */
            .dr-strategies {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .dr-strat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .dr-strat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .dr-strat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .dr-strat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .dr-strat {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .dr-strat-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .dr-strat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .dr-strat-rto {
              font-size: 0.65rem;
              color: #6b7280;
              margin-bottom: 6px;
            }
            .dr-strat-cost {
              font-size: 0.6rem;
              padding: 2px 8px;
              border-radius: 8px;
              display: inline-block;
            }
            .dr-strat:nth-child(1) .dr-strat-cost { background: rgba(16, 185, 129, 0.2); color: #10b981; }
            .dr-strat:nth-child(2) .dr-strat-cost { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
            .dr-strat:nth-child(3) .dr-strat-cost { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
            .dr-strat:nth-child(4) .dr-strat-cost { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
          </style>
          
          <div class="dr-viz">
            <!-- Failover Demo -->
            <div class="dr-failover">
              <div class="dr-failover-title">Disaster Recovery Failover</div>
              <div class="dr-sites">
                <div class="dr-site primary">
                  <div class="dr-site-icon">üí•</div>
                  <div class="dr-site-name">Primary Site</div>
                  <div class="dr-site-status">FAILED</div>
                </div>
                <div class="dr-arrow">‚û°Ô∏è</div>
                <div class="dr-site dr">
                  <div class="dr-site-icon">üè¢</div>
                  <div class="dr-site-name">DR Site</div>
                  <div class="dr-site-status">ACTIVE</div>
                </div>
              </div>
              <div class="dr-metrics">
                <div class="dr-metric">
                  <div class="dr-metric-value">4h</div>
                  <div class="dr-metric-label">RTO (Recovery Time)</div>
                </div>
                <div class="dr-metric">
                  <div class="dr-metric-value">1h</div>
                  <div class="dr-metric-label">RPO (Data Loss)</div>
                </div>
              </div>
            </div>
            
            <!-- DR Strategies -->
            <div class="dr-strategies">
              <div class="dr-strat-title">DR Strategy Tiers</div>
              <div class="dr-strat-grid">
                <div class="dr-strat">
                  <div class="dr-strat-icon">üíæ</div>
                  <div class="dr-strat-name">Backup & Restore</div>
                  <div class="dr-strat-rto">RTO: Hours-Days</div>
                  <div class="dr-strat-cost">$ Low Cost</div>
                </div>
                <div class="dr-strat">
                  <div class="dr-strat-icon">üî•</div>
                  <div class="dr-strat-name">Pilot Light</div>
                  <div class="dr-strat-rto">RTO: 10s of min</div>
                  <div class="dr-strat-cost">$$ Medium</div>
                </div>
                <div class="dr-strat">
                  <div class="dr-strat-icon">üå°Ô∏è</div>
                  <div class="dr-strat-name">Warm Standby</div>
                  <div class="dr-strat-rto">RTO: Minutes</div>
                  <div class="dr-strat-cost">$$$ Higher</div>
                </div>
                <div class="dr-strat">
                  <div class="dr-strat-icon">üîÑ</div>
                  <div class="dr-strat-name">Active-Active</div>
                  <div class="dr-strat-rto">RTO: Near-Zero</div>
                  <div class="dr-strat-cost">$$$$ Highest</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Disaster Recovery</strong> encompasses the policies, tools, and procedures to enable recovery of critical systems and data after a disaster - whether natural, hardware failure, or human error.</p>
          <p>DR planning defines Recovery Time Objective (RTO - how quickly to recover) and Recovery Point Objective (RPO - how much data loss is acceptable).</p>
        `,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "RTO", desc: "Recovery Time Objective - maximum acceptable downtime after disaster.", color: "#dc2626" },
          { icon: "üíæ", title: "RPO", desc: "Recovery Point Objective - maximum acceptable data loss (time-based).", color: "#3b82f6" },
          { icon: "üåç", title: "Geographic Redundancy", desc: "DR site in different region to survive regional disasters.", color: "#10b981" },
          { icon: "üîÑ", title: "Failover Testing", desc: "Regularly test DR procedures to ensure they work when needed.", color: "#8b5cf6" }
        ],
        formula: "DR Cost ‚àù 1/(RTO √ó RPO) ‚Äî Lower objectives = Higher cost",
        strategies: [
          { title: "Backup & Restore", desc: "Cheapest option - restore from backups. Highest RTO/RPO." },
          { title: "Pilot Light", desc: "Core systems running at DR site, scale up when needed." },
          { title: "Warm Standby", desc: "Scaled-down copy running, quickly scales to full capacity." },
          { title: "Multi-Site Active-Active", desc: "Full capacity at both sites. Lowest RTO/RPO, highest cost." }
        ],
        metrics: [
          { level: "Backup & Restore", downtime: "Hours to days", useCase: "Non-critical, cost-sensitive" },
          { level: "Pilot Light", downtime: "10s of minutes", useCase: "Core business systems" },
          { level: "Warm Standby", downtime: "Minutes", useCase: "Production workloads" },
          { level: "Active-Active", downtime: "Near-zero", useCase: "Mission-critical systems" }
        ]
      }
    };

    // Toggle category expansion
    function toggleCategory(category) {
      category.classList.toggle('expanded');
    }

    // Show concept detail
    function showConcept(conceptId) {
      const concept = concepts[conceptId];
      if (!concept) return;

      // Update active states
      document.querySelectorAll('.concept-item').forEach(item => item.classList.remove('active'));
      document.querySelector(`[data-concept="${conceptId}"]`).classList.add('active');

      // Hide welcome state
      document.getElementById('welcomeState').style.display = 'none';

      // Generate content
      const container = document.getElementById('conceptContainer');
      container.innerHTML = `
        <div class="concept-detail active">
          <div class="concept-header">
            <div class="concept-badge" style="background: ${concept.badge.bg}; color: ${concept.badge.color};">
              <span>‚óè</span> ${concept.badge.text}
            </div>
            <h1 class="concept-title" style="background: linear-gradient(135deg, ${concept.color}, #ffffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">${concept.title}</h1>
            <p class="concept-subtitle">${concept.subtitle}</p>
          </div>

          <div class="visual-diagram">
            <div class="diagram-title">Visual Overview</div>
            <div class="diagram-content">
              ${concept.diagram}
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, ${concept.color}, ${concept.color}88);">üìñ</span>
              Definition
            </h3>
            <div class="section-content">
              ${concept.definition}
            </div>
          </div>

          <div class="formula-box">
            <div class="formula-label">Key Formula / Concept</div>
            <div class="formula">${concept.formula}</div>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, #10b981, #059669);">üí°</span>
              Key Characteristics
            </h3>
            <div class="key-points">
              ${concept.keyPoints.map(point => `
                <div class="key-point">
                  <div class="key-point-icon" style="background: ${point.color}22; color: ${point.color};">${point.icon}</div>
                  <h4>${point.title}</h4>
                  <p>${point.desc}</p>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">üéØ</span>
              How to Achieve It
            </h3>
            <ul class="strategies-list">
              ${concept.strategies.map((strategy, i) => `
                <li class="strategy-item">
                  <div class="strategy-number">${i + 1}</div>
                  <div class="strategy-content">
                    <h4>${strategy.title}</h4>
                    <p>${strategy.desc}</p>
                  </div>
                </li>
              `).join('')}
            </ul>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üìä</span>
              Reference Table
            </h3>
            <table class="metrics-table">
              <thead>
                <tr>
                  <th>Level / Type</th>
                  <th>Details</th>
                  <th>Use Case</th>
                </tr>
              </thead>
              <tbody>
                ${concept.metrics.map(metric => `
                  <tr>
                    <td><span class="metric-value">${metric.level}</span></td>
                    <td>${metric.downtime}</td>
                    <td>${metric.useCase}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>
        </div>
      `;
    }

    // Filter concepts
    function filterConcepts() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      document.querySelectorAll('.concept-item').forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(query) ? 'flex' : 'none';
      });
      
      // Expand categories with matching items
      document.querySelectorAll('.category').forEach(cat => {
        const hasVisible = Array.from(cat.querySelectorAll('.concept-item')).some(item => item.style.display !== 'none');
        if (query && hasVisible) {
          cat.classList.add('expanded');
        }
      });
    }

    // Initialize - show first concept on load
    document.addEventListener('DOMContentLoaded', () => {
      // Optional: show first concept by default
      // showConcept('availability');
    });
  </script>
</body>
</html>

