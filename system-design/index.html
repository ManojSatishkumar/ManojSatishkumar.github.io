<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>System design - Manoj Satishkumar</title>
  <meta name="description" content="Interactive visual guide to system design concepts including Availability, Reliability, Scalability, and more.">
  <link rel="icon" href="/images/favicon.png" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
  <link href="/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <style>
    :root {
      --bg-primary: #0a0a0f;
      --bg-secondary: #12121a;
      --bg-tertiary: #1a1a25;
      --bg-card: #16161f;
      --text-primary: #ffffff;
      --text-secondary: #a0a0b0;
      --text-muted: #606070;
      --accent-blue: #3b82f6;
      --accent-purple: #8b5cf6;
      --accent-pink: #ec4899;
      --accent-green: #10b981;
      --accent-orange: #f59e0b;
      --accent-red: #ef4444;
      --accent-cyan: #06b6d4;
      --border-color: rgba(255,255,255,0.08);
      --glow-blue: rgba(59, 130, 246, 0.3);
      --glow-purple: rgba(139, 92, 246, 0.3);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
      background: var(--bg-primary);
      color: var(--text-primary);
      min-height: 100vh;
      overflow-x: hidden;
    }

    /* Animated Background */
    .bg-pattern {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: 
        radial-gradient(circle at 20% 20%, rgba(59, 130, 246, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.08) 0%, transparent 50%),
        radial-gradient(circle at 50% 50%, rgba(16, 185, 129, 0.05) 0%, transparent 50%);
      pointer-events: none;
      z-index: 0;
    }

    .grid-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-image: 
        linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
      background-size: 60px 60px;
      pointer-events: none;
      z-index: 0;
    }

    /* Header */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: rgba(10, 10, 15, 0.9);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      padding: 0 24px;
      z-index: 1000;
    }

    .header-logo {
      display: flex;
      align-items: center;
      text-decoration: none;
    }

    .header-logo .header-title {
      font-size: 1.2rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .header-nav {
      display: flex;
      gap: 16px;
      margin-left: auto;
    }

    .header-author {
      display: flex;
      align-items: center;
      gap: 10px;
      text-decoration: none;
      color: var(--text-secondary);
      margin-left: 24px;
      transition: color 0.2s;
    }

    .header-author:hover {
      color: var(--text-primary);
    }

    .header-author span {
      font-weight: 500;
      font-size: 0.9rem;
    }

    .header-author img {
      width: 32px;
      height: 32px;
      border-radius: 50%;
    }

    .header-nav a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.2s;
    }

    .header-nav a:hover {
      color: var(--text-primary);
    }

    /* Hamburger Menu */
    .hamburger-menu {
      display: none;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      width: 40px;
      height: 40px;
      cursor: pointer;
      border-radius: 8px;
      transition: background 0.2s;
      margin-right: 12px;
    }

    .hamburger-menu:hover {
      background: var(--bg-tertiary);
    }

    .hamburger-menu span {
      display: block;
      width: 22px;
      height: 2px;
      background: var(--text-primary);
      border-radius: 2px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .hamburger-menu span:nth-child(1) {
      margin-bottom: 5px;
    }

    .hamburger-menu span:nth-child(3) {
      margin-top: 5px;
    }

    .hamburger-menu.active span:nth-child(1) {
      transform: translateY(7px) rotate(45deg);
    }

    .hamburger-menu.active span:nth-child(2) {
      opacity: 0;
    }

    .hamburger-menu.active span:nth-child(3) {
      transform: translateY(-7px) rotate(-45deg);
    }

    /* Main Layout */
    .main-container {
      display: flex;
      padding-top: 60px;
      min-height: 100vh;
      position: relative;
      z-index: 1;
    }

    /* Sidebar - Master View */
    .sidebar {
      width: 320px;
      height: calc(100vh - 60px);
      position: fixed;
      left: 0;
      top: 60px;
      background: var(--bg-secondary);
      border-right: 1px solid var(--border-color);
      overflow-y: auto;
      padding: 20px 0;
      z-index: 100;
    }

    .sidebar::-webkit-scrollbar {
      width: 6px;
    }

    .sidebar::-webkit-scrollbar-track {
      background: transparent;
    }

    .sidebar::-webkit-scrollbar-thumb {
      background: var(--border-color);
      border-radius: 3px;
    }

    .sidebar-header {
      padding: 0 20px 20px;
      border-bottom: 1px solid var(--border-color);
      margin-bottom: 16px;
    }

    .sidebar-header h2 {
      font-size: 0.75rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--text-muted);
      margin-bottom: 8px;
    }

    .sidebar-search {
      width: 100%;
      padding: 10px 14px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-primary);
      font-size: 0.9rem;
      outline: none;
      transition: border-color 0.2s, box-shadow 0.2s;
    }

    .sidebar-search:focus {
      border-color: var(--accent-blue);
      box-shadow: 0 0 0 3px var(--glow-blue);
    }

    .sidebar-search::placeholder {
      color: var(--text-muted);
    }

    /* Concept Categories */
    .category {
      margin-bottom: 8px;
    }

    .category-header {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 12px 20px;
      cursor: pointer;
      transition: background 0.2s;
    }

    .category-header:hover {
      background: var(--bg-tertiary);
    }

    .category-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1rem;
    }

    .category-name {
      flex: 1;
      font-weight: 500;
      font-size: 0.95rem;
    }

    .category-count {
      font-size: 0.75rem;
      color: var(--text-muted);
      background: var(--bg-tertiary);
      padding: 2px 8px;
      border-radius: 10px;
    }

    .category-arrow {
      color: var(--text-muted);
      transition: transform 0.2s;
    }

    .category.expanded .category-arrow {
      transform: rotate(90deg);
    }

    .category-items {
      display: none;
      padding-left: 20px;
    }

    .category.expanded .category-items {
      display: block;
    }

    /* Concept Items */
    .concept-item {
      display: flex;
      align-items: center;
      gap: 10px;
      padding: 10px 20px 10px 32px;
      cursor: pointer;
      transition: all 0.2s;
      border-left: 2px solid transparent;
      position: relative;
    }

    .concept-item::before {
      content: '';
      position: absolute;
      left: 20px;
      top: 50%;
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: var(--text-muted);
      transform: translateY(-50%);
      transition: all 0.2s;
    }

    .concept-item:hover {
      background: var(--bg-tertiary);
    }

    .concept-item:hover::before {
      background: var(--accent-blue);
    }

    .concept-item.active {
      background: rgba(59, 130, 246, 0.1);
      border-left-color: var(--accent-blue);
    }

    .concept-item.active::before {
      background: var(--accent-blue);
      box-shadow: 0 0 8px var(--accent-blue);
    }

    .concept-item span {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .concept-item.active span {
      color: var(--text-primary);
      font-weight: 500;
    }

    /* Detail View */
    .detail-view {
      flex: 1;
      margin-left: 320px;
      padding: 40px;
      min-height: calc(100vh - 60px);
    }

    .detail-container {
      max-width: 1000px;
      margin: 0 auto;
    }

    /* Welcome State */
    .welcome-state {
      display: flex;
      flex-direction: column;
      padding: 40px 20px;
      max-width: 900px;
      margin: 0 auto;
    }

    .welcome-hero {
      display: flex;
      align-items: center;
      gap: 32px;
      margin-bottom: 48px;
      padding: 32px;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.08), rgba(139, 92, 246, 0.08));
      border-radius: 24px;
      border: 1px solid var(--border-color);
    }

    .welcome-author-photo {
      width: 100px;
      height: 100px;
      border-radius: 50%;
      border: 3px solid var(--accent-blue);
      flex-shrink: 0;
      animation: pulse-glow 3s ease-in-out infinite;
    }

    @keyframes pulse-glow {
      0%, 100% { box-shadow: 0 0 20px rgba(59, 130, 246, 0.3); }
      50% { box-shadow: 0 0 30px rgba(139, 92, 246, 0.5); }
    }

    .welcome-intro {
      flex: 1;
    }

    .welcome-intro h1 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 8px;
      background: linear-gradient(135deg, var(--text-primary), var(--accent-blue));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .welcome-intro .tagline {
      font-size: 1rem;
      color: var(--accent-purple);
      margin-bottom: 12px;
      font-weight: 500;
    }

    .welcome-intro p {
      font-size: 0.95rem;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    .portfolio-link {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      margin-top: 16px;
      font-size: 0.9rem;
      color: var(--accent-blue);
      text-decoration: none;
      font-weight: 500;
      transition: all 0.2s ease;
    }

    .portfolio-link:hover {
      color: var(--accent-purple);
      transform: translateX(4px);
    }

    .welcome-section-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 20px;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .welcome-section-title::after {
      content: '';
      flex: 1;
      height: 1px;
      background: var(--border-color);
    }

    .welcome-categories {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 24px;
      margin-bottom: 40px;
    }

    .welcome-category-group {
      background: var(--bg-card);
      border-radius: 16px;
      padding: 24px;
      border: 1px solid var(--border-color);
    }

    .welcome-category-group h3 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 16px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .welcome-category-group h3 .badge {
      font-size: 0.7rem;
      padding: 4px 8px;
      border-radius: 6px;
      font-weight: 500;
    }

    .backend-group h3 {
      color: var(--accent-blue);
    }

    .backend-group h3 .badge {
      background: rgba(59, 130, 246, 0.15);
      color: var(--accent-blue);
    }

    .frontend-group h3 {
      color: var(--accent-purple);
    }

    .frontend-group h3 .badge {
      background: rgba(139, 92, 246, 0.15);
      color: var(--accent-purple);
    }

    .category-card-description {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.7;
      margin-bottom: 24px;
    }

    .category-cta-btn {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 14px 28px;
      border-radius: 12px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .category-cta-btn.backend-btn {
      background: linear-gradient(135deg, var(--accent-blue), #6366f1);
      color: #fff;
      box-shadow: 0 4px 20px rgba(59, 130, 246, 0.3);
    }

    .category-cta-btn.backend-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 30px rgba(59, 130, 246, 0.4);
    }

    .category-cta-btn.frontend-btn {
      background: linear-gradient(135deg, var(--accent-purple), #ec4899);
      color: #fff;
      box-shadow: 0 4px 20px rgba(139, 92, 246, 0.3);
    }

    .category-cta-btn.frontend-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 8px 30px rgba(139, 92, 246, 0.4);
    }

    .category-cta-btn .arrow-icon {
      transition: transform 0.3s ease;
    }

    .category-cta-btn:hover .arrow-icon {
      transform: translateX(5px);
    }

    .category-card-icon {
      font-size: 3rem;
      margin-bottom: 16px;
    }

    .welcome-stats {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      margin-bottom: 40px;
    }

    .stat-card {
      background: var(--bg-card);
      border-radius: 12px;
      padding: 20px;
      text-align: center;
      border: 1px solid var(--border-color);
    }

    .stat-card .number {
      font-size: 2rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .stat-card .label {
      font-size: 0.8rem;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .welcome-cta {
      text-align: center;
      padding: 32px;
      background: linear-gradient(135deg, rgba(16, 185, 129, 0.1), rgba(59, 130, 246, 0.1));
      border-radius: 16px;
      border: 1px solid var(--border-color);
    }

    .welcome-cta p {
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .welcome-cta .arrow {
      font-size: 2rem;
      animation: point-left 1s ease-in-out infinite;
    }

    @keyframes point-left {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(-10px); }
    }

    @media (max-width: 768px) {
      .welcome-hero {
        flex-direction: column;
        text-align: center;
      }
      
      .welcome-categories {
        grid-template-columns: 1fr;
      }
      
      .welcome-stats {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* Concept Detail Content */
    .concept-detail {
      display: none;
      animation: fadeIn 0.4s ease;
    }

    .concept-detail.active {
      display: block;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .concept-header {
      margin-bottom: 40px;
    }

    .concept-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 14px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 500;
      margin-bottom: 16px;
    }

    .concept-title {
      font-size: 2.8rem;
      font-weight: 800;
      margin-bottom: 16px;
      line-height: 1.2;
    }

    .concept-subtitle {
      font-size: 1.2rem;
      color: var(--text-secondary);
      line-height: 1.6;
      max-width: 700px;
    }

    /* Visual Diagram */
    .visual-diagram {
      background: var(--bg-card);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      padding: 40px;
      margin-bottom: 40px;
      position: relative;
      overflow: hidden;
    }

    .visual-diagram::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: linear-gradient(90deg, var(--accent-blue), var(--accent-purple), var(--accent-pink));
    }

    .diagram-title {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1.5px;
      color: var(--text-muted);
      margin-bottom: 24px;
    }

    .diagram-content {
      display: flex;
      align-items: center;
      justify-content: center;
      min-height: 300px;
    }

    /* Definition Section */
    .section {
      margin-bottom: 40px;
    }

    .section-title {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.3rem;
      font-weight: 700;
      margin-bottom: 20px;
      color: var(--text-primary);
    }

    .section-title .icon {
      width: 36px;
      height: 36px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.1rem;
    }

    .section-content {
      color: var(--text-secondary);
      font-size: 1rem;
      line-height: 1.8;
    }

    .section-content p {
      margin-bottom: 16px;
    }

    /* Key Points */
    .key-points {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 20px;
      margin-top: 24px;
    }

    .key-point {
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      padding: 24px;
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }

    .key-point::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 4px;
      height: 100%;
      background: var(--accent-blue);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .key-point:hover {
      transform: translateY(-4px);
      border-color: var(--accent-blue);
      box-shadow: 0 10px 40px rgba(59, 130, 246, 0.1);
    }

    .key-point:hover::before {
      opacity: 1;
    }

    .key-point-icon {
      width: 48px;
      height: 48px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      margin-bottom: 16px;
    }

    .key-point h4 {
      font-size: 1.1rem;
      font-weight: 600;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .key-point p {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.6;
    }

    /* Strategies List */
    .strategies-list {
      list-style: none;
      margin-top: 20px;
    }

    .strategy-item {
      display: flex;
      gap: 16px;
      padding: 20px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 12px;
      margin-bottom: 12px;
      transition: all 0.3s;
      cursor: pointer;
    }

    .strategy-item:hover {
      border-color: var(--accent-purple);
      background: rgba(139, 92, 246, 0.05);
    }

    .strategy-number {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 700;
      font-size: 0.9rem;
      flex-shrink: 0;
    }

    .strategy-content h4 {
      font-size: 1rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: var(--text-primary);
    }

    .strategy-content p {
      font-size: 0.9rem;
      color: var(--text-secondary);
      line-height: 1.5;
    }

    /* Formula Box */
    .formula-box {
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(139, 92, 246, 0.1));
      border: 1px solid rgba(59, 130, 246, 0.3);
      border-radius: 16px;
      padding: 32px;
      text-align: center;
      margin: 24px 0;
    }

    .formula-label {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      margin-bottom: 12px;
    }

    .formula {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.4rem;
      font-weight: 500;
      color: var(--accent-blue);
    }

    /* Metrics Table */
    .metrics-table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
    }

    .metrics-table th,
    .metrics-table td {
      padding: 16px;
      text-align: left;
      border-bottom: 1px solid var(--border-color);
    }

    .metrics-table th {
      font-size: 0.8rem;
      text-transform: uppercase;
      letter-spacing: 1px;
      color: var(--text-muted);
      font-weight: 600;
    }

    .metrics-table td {
      font-size: 0.95rem;
      color: var(--text-secondary);
    }

    .metrics-table tr:hover td {
      background: var(--bg-tertiary);
    }

    .metric-value {
      font-family: 'JetBrains Mono', monospace;
      font-weight: 600;
      color: var(--accent-green);
    }

    /* Interactive Nodes (Mind Map) */
    .mind-map {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 20px;
    }

    .mind-map-center {
      width: 140px;
      height: 140px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-direction: column;
      font-weight: 700;
      font-size: 1rem;
      text-align: center;
      position: relative;
      z-index: 2;
    }

    .mind-map-center::before {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple), var(--accent-pink));
      z-index: -1;
      animation: rotate 4s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .mind-map-center::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 50%;
      background: var(--bg-card);
      z-index: -1;
    }

    .mind-map-nodes {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
      justify-content: center;
      max-width: 700px;
    }

    .mind-node {
      padding: 14px 24px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 30px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s;
      position: relative;
    }

    .mind-node::before {
      content: '';
      position: absolute;
      top: -20px;
      left: 50%;
      width: 1px;
      height: 20px;
      background: var(--border-color);
    }

    .mind-node:hover {
      border-color: var(--accent-cyan);
      background: rgba(6, 182, 212, 0.1);
      transform: scale(1.05);
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .sidebar {
        width: 280px;
      }
      .detail-view {
        margin-left: 280px;
        padding: 30px;
      }
    }

    @media (max-width: 768px) {
      .sidebar {
        position: fixed;
        width: 300px;
        height: calc(100vh - 60px);
        left: -300px;
        top: 60px;
        z-index: 1001;
        transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        border-right: 1px solid var(--border-color);
        background: var(--bg-secondary);
        box-shadow: 4px 0 20px rgba(0, 0, 0, 0.5);
      }
      .sidebar.open {
        left: 0;
      }
      .detail-view {
        margin-left: 0;
        padding: 24px;
      }
      .main-container {
        flex-direction: column;
      }
      .concept-title {
        font-size: 2rem;
      }
      .hamburger-menu {
        display: flex;
      }
      .sidebar-overlay {
        display: none;
        position: fixed;
        top: 60px;
        left: 300px;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.6);
        z-index: 999;
        pointer-events: auto;
      }
      .sidebar-overlay.active {
        display: block;
      }
    }

    /* Frontend/Backend Toggle */
    .domain-toggle {
      display: flex;
      background: var(--bg-tertiary);
      border-radius: 12px;
      padding: 4px;
      margin: 0 16px 16px 16px;
      border: 1px solid var(--border-color);
    }

    .domain-toggle-btn {
      flex: 1;
      padding: 10px 16px;
      border: none;
      background: transparent;
      color: var(--text-secondary);
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      border-radius: 8px;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .domain-toggle-btn:hover {
      color: var(--text-primary);
    }

    .domain-toggle-btn.active {
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      color: white;
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .domain-toggle-btn .toggle-icon {
      font-size: 1rem;
    }

    .concepts-container {
      display: none;
    }

    .concepts-container.active {
      display: block;
    }

    .coming-soon-message {
      padding: 40px 24px;
      text-align: center;
      color: var(--text-secondary);
    }

    .coming-soon-message .cs-icon {
      font-size: 3rem;
      margin-bottom: 16px;
    }

    .coming-soon-message h3 {
      font-size: 1.2rem;
      color: var(--text-primary);
      margin-bottom: 8px;
    }

    .coming-soon-message p {
      font-size: 0.9rem;
      line-height: 1.6;
    }

    /* Page Navigation Buttons */
    .page-navigation {
      display: flex;
      justify-content: space-between;
      align-items: stretch;
      gap: 20px;
      margin-top: 60px;
      padding-top: 40px;
      border-top: 1px solid var(--border-color);
    }

    .nav-btn {
      flex: 1;
      display: flex;
      align-items: center;
      gap: 16px;
      padding: 20px 24px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      border-radius: 16px;
      text-decoration: none;
      color: var(--text-primary);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
      position: relative;
      overflow: hidden;
    }

    .nav-btn::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .nav-btn:hover {
      border-color: var(--accent-blue);
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(59, 130, 246, 0.2);
    }

    .nav-btn:hover::before {
      opacity: 0.1;
    }

    .nav-btn.prev {
      justify-content: flex-start;
    }

    .nav-btn.next {
      justify-content: flex-end;
      text-align: right;
    }

    .nav-btn.disabled {
      opacity: 0.3;
      pointer-events: none;
      cursor: not-allowed;
    }

    .nav-btn-icon {
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      border-radius: 12px;
      font-size: 1.4rem;
      color: white;
      flex-shrink: 0;
      position: relative;
      z-index: 1;
    }

    .nav-btn-content {
      position: relative;
      z-index: 1;
    }

    .nav-btn-label {
      font-size: 0.8rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 4px;
    }

    .nav-btn-title {
      font-size: 1rem;
      font-weight: 600;
      color: var(--text-primary);
    }

    .nav-btn.next .nav-btn-content {
      order: -1;
    }

    @media (max-width: 768px) {
      .page-navigation {
        flex-direction: column;
        gap: 12px;
      }

      .nav-btn {
        padding: 16px 20px;
      }

      .nav-btn.next {
        justify-content: flex-start;
        text-align: left;
      }

      .nav-btn.next .nav-btn-content {
        order: 0;
      }

      .nav-btn.next .nav-btn-icon {
        order: -1;
      }
    }

    /* Footer Styles */
    .site-footer {
      background: linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);
      border-top: 1px solid var(--border-color);
      padding: 60px 40px 40px;
      margin-left: 320px;
      position: relative;
      overflow: hidden;
    }

    .site-footer::before {
      content: '';
      position: absolute;
      top: 0;
      left: 50%;
      transform: translateX(-50%);
      width: 200px;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--accent-purple), var(--accent-blue), transparent);
    }

    .footer-container {
      max-width: 1200px;
      margin: 0 auto;
    }

    .footer-top {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 40px;
      margin-bottom: 40px;
      flex-wrap: wrap;
    }

    .footer-brand {
      max-width: 350px;
    }

    .footer-logo {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 16px;
      text-decoration: none;
    }

    .footer-logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: white;
    }

    .footer-logo-text {
      font-size: 1.2rem;
      font-weight: 700;
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .footer-tagline {
      color: var(--text-secondary);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    .footer-links {
      display: flex;
      gap: 60px;
    }

    .footer-section h4 {
      color: var(--text-primary);
      font-size: 0.85rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 1px;
      margin-bottom: 16px;
    }

    .footer-section ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }

    .footer-section ul li {
      margin-bottom: 10px;
    }

    .footer-section ul a {
      color: var(--text-secondary);
      text-decoration: none;
      font-size: 0.9rem;
      transition: color 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .footer-section ul a:hover {
      color: var(--accent-blue);
    }

    .footer-section ul a i {
      font-size: 1rem;
      width: 20px;
    }

    .footer-bottom {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-top: 30px;
      border-top: 1px solid var(--border-color);
      flex-wrap: wrap;
      gap: 20px;
    }

    .footer-copyright {
      color: var(--text-muted);
      font-size: 0.85rem;
    }

    .footer-copyright a {
      color: var(--accent-blue);
      text-decoration: none;
      font-weight: 500;
    }

    .footer-copyright a:hover {
      text-decoration: underline;
    }

    .footer-social {
      display: flex;
      gap: 12px;
    }

    .footer-social a {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      background: var(--bg-tertiary);
      border: 1px solid var(--border-color);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--text-secondary);
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .footer-social a:hover {
      background: linear-gradient(135deg, var(--accent-blue), var(--accent-purple));
      border-color: transparent;
      color: white;
      transform: translateY(-2px);
    }

    .footer-made-with {
      color: var(--text-muted);
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .footer-made-with .heart {
      color: var(--accent-pink);
      animation: heartbeat 1.5s infinite;
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.1); }
    }

    @media (max-width: 1024px) {
      .site-footer {
        margin-left: 280px;
      }
    }

    @media (max-width: 768px) {
      .site-footer {
        margin-left: 0;
        padding: 40px 24px 30px;
      }

      .footer-top {
        flex-direction: column;
        gap: 30px;
      }

      .footer-brand {
        max-width: 100%;
      }

      .footer-links {
        flex-direction: column;
        gap: 30px;
        width: 100%;
      }

      .footer-bottom {
        flex-direction: column;
        text-align: center;
        gap: 16px;
      }
    }
  </style>
</head>
<body>
  <div class="bg-pattern"></div>
  <div class="grid-overlay"></div>

  <!-- Header -->
  <header class="header">
    <div class="hamburger-menu" id="hamburgerMenu" onclick="toggleSidebar()">
      <span></span>
      <span></span>
      <span></span>
    </div>
    <a href="/system-design" class="header-logo">
      <i class="fas fa-layer-group" style="color: #8b5cf6; font-size: 1.4rem; margin-right: 10px;"></i>
      <span class="header-title">System design</span>
    </a>
    <nav class="header-nav">
      <!-- <a href="/">Portfolio</a> -->
    </nav>
    <a href="/" class="header-author">
      <span><span style="color: var(--text-muted);">by </span>Manoj</span>
      <img src="/images/me_circle.png" alt="Manoj">
    </a>
  </header>

  <!-- Sidebar Overlay for mobile -->
  <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

  <div class="main-container">
    <!-- Sidebar - Master View -->
    <aside class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h2>Concepts Library</h2>
        <input type="text" class="sidebar-search" placeholder="Search concepts..." id="searchInput" oninput="filterConcepts()">
      </div>

      <!-- Domain Toggle -->
      <div class="domain-toggle">
        <button class="domain-toggle-btn active" id="frontendToggle" onclick="switchDomain('frontend')">
          <span class="toggle-icon">üé®</span>
          <span>Frontend</span>
        </button>
        <button class="domain-toggle-btn" id="backendToggle" onclick="switchDomain('backend')">
          <span class="toggle-icon">üñ•Ô∏è</span>
          <span>Backend</span>
        </button>
      </div>

      <!-- Backend Concepts -->
      <div class="concepts-container" id="backendConcepts">

      <!-- Core Principles -->
      <div class="category expanded" data-category="core">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">‚ö°</div>
          <span class="category-name">Core Principles</span>
          <span class="category-count">8</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="availability" onclick="showConcept('availability')">
            <span>Availability</span>
          </div>
          <div class="concept-item" data-concept="reliability" onclick="showConcept('reliability')">
            <span>Reliability</span>
          </div>
          <div class="concept-item" data-concept="scalability" onclick="showConcept('scalability')">
            <span>Scalability</span>
          </div>
          <div class="concept-item" data-concept="maintainability" onclick="showConcept('maintainability')">
            <span>Maintainability</span>
          </div>
          <div class="concept-item" data-concept="performance" onclick="showConcept('performance')">
            <span>Performance</span>
          </div>
          <div class="concept-item" data-concept="security" onclick="showConcept('security')">
            <span>Security</span>
          </div>
          <div class="concept-item" data-concept="observability" onclick="showConcept('observability')">
            <span>Observability</span>
          </div>
          <div class="concept-item" data-concept="cost-efficiency" onclick="showConcept('cost-efficiency')">
            <span>Cost Efficiency</span>
          </div>
        </div>
      </div>

      <!-- Data Management -->
      <div class="category" data-category="data">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">üíæ</div>
          <span class="category-name">Data Management</span>
          <span class="category-count">15</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="consistency" onclick="showConcept('consistency')">
            <span>Consistency</span>
          </div>
          <div class="concept-item" data-concept="partitioning" onclick="showConcept('partitioning')">
            <span>Partitioning</span>
          </div>
          <div class="concept-item" data-concept="replication" onclick="showConcept('replication')">
            <span>Replication</span>
          </div>
          <div class="concept-item" data-concept="caching" onclick="showConcept('caching')">
            <span>Caching</span>
          </div>
          <div class="concept-item" data-concept="cap-theorem" onclick="showConcept('cap-theorem')">
            <span>CAP Theorem</span>
          </div>
          <div class="concept-item" data-concept="acid" onclick="showConcept('acid')">
            <span>ACID Properties</span>
          </div>
          <div class="concept-item" data-concept="data-modeling" onclick="showConcept('data-modeling')">
            <span>Data Modeling</span>
          </div>
          <div class="concept-item" data-concept="schema-evolution" onclick="showConcept('schema-evolution')">
            <span>Schema Evolution</span>
          </div>
          <div class="concept-item" data-concept="indexing-strategies" onclick="showConcept('indexing-strategies')">
            <span>Indexing Strategies</span>
          </div>
          <div class="concept-item" data-concept="data-migration" onclick="showConcept('data-migration')">
            <span>Data Migration</span>
          </div>
          <div class="concept-item" data-concept="backup-restore" onclick="showConcept('backup-restore')">
            <span>Backup & Restore</span>
          </div>
          <div class="concept-item" data-concept="data-retention" onclick="showConcept('data-retention')">
            <span>Data Retention & Archival</span>
          </div>
          <div class="concept-item" data-concept="eventual-consistency" onclick="showConcept('eventual-consistency')">
            <span>Eventual Consistency</span>
          </div>
          <div class="concept-item" data-concept="idempotency" onclick="showConcept('idempotency')">
            <span>Idempotency</span>
          </div>
          <div class="concept-item" data-concept="data-privacy" onclick="showConcept('data-privacy')">
            <span>Data Privacy & Compliance</span>
          </div>
        </div>
      </div>

      <!-- Architecture Patterns -->
      <div class="category" data-category="patterns">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #10b981, #059669);">üèóÔ∏è</div>
          <span class="category-name">Architecture Patterns</span>
          <span class="category-count">14</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="microservices" onclick="showConcept('microservices')">
            <span>Microservices</span>
          </div>
          <div class="concept-item" data-concept="load-balancing" onclick="showConcept('load-balancing')">
            <span>Load Balancing</span>
          </div>
          <div class="concept-item" data-concept="message-queues" onclick="showConcept('message-queues')">
            <span>Message Queues</span>
          </div>
          <div class="concept-item" data-concept="api-gateway" onclick="showConcept('api-gateway')">
            <span>API Gateway</span>
          </div>
          <div class="concept-item" data-concept="cdn" onclick="showConcept('cdn')">
            <span>CDN</span>
          </div>
          <div class="concept-item" data-concept="database-sharding" onclick="showConcept('database-sharding')">
            <span>Database Sharding</span>
          </div>
          <div class="concept-item" data-concept="monolith-modular" onclick="showConcept('monolith-modular')">
            <span>Monolith vs Modular Monolith</span>
          </div>
          <div class="concept-item" data-concept="event-driven" onclick="showConcept('event-driven')">
            <span>Event-Driven Architecture</span>
          </div>
          <div class="concept-item" data-concept="cqrs" onclick="showConcept('cqrs')">
            <span>CQRS</span>
          </div>
          <div class="concept-item" data-concept="saga-pattern" onclick="showConcept('saga-pattern')">
            <span>Saga Pattern</span>
          </div>
          <div class="concept-item" data-concept="hexagonal-architecture" onclick="showConcept('hexagonal-architecture')">
            <span>Hexagonal / Clean Architecture</span>
          </div>
          <div class="concept-item" data-concept="service-mesh" onclick="showConcept('service-mesh')">
            <span>Service Mesh</span>
          </div>
          <div class="concept-item" data-concept="bff" onclick="showConcept('bff')">
            <span>Backend for Frontend (BFF)</span>
          </div>
          <div class="concept-item" data-concept="strangler-fig" onclick="showConcept('strangler-fig')">
            <span>Strangler Fig Pattern</span>
          </div>
        </div>
      </div>

      <!-- Resilience -->
      <div class="category" data-category="resilience">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">üõ°Ô∏è</div>
          <span class="category-name">Resilience</span>
          <span class="category-count">12</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fault-tolerance" onclick="showConcept('fault-tolerance')">
            <span>Fault Tolerance</span>
          </div>
          <div class="concept-item" data-concept="circuit-breaker" onclick="showConcept('circuit-breaker')">
            <span>Circuit Breaker</span>
          </div>
          <div class="concept-item" data-concept="rate-limiting" onclick="showConcept('rate-limiting')">
            <span>Rate Limiting</span>
          </div>
          <div class="concept-item" data-concept="graceful-degradation" onclick="showConcept('graceful-degradation')">
            <span>Graceful Degradation</span>
          </div>
          <div class="concept-item" data-concept="disaster-recovery" onclick="showConcept('disaster-recovery')">
            <span>Disaster Recovery</span>
          </div>
          <div class="concept-item" data-concept="retries-backoff" onclick="showConcept('retries-backoff')">
            <span>Retries with Backoff</span>
          </div>
          <div class="concept-item" data-concept="timeouts" onclick="showConcept('timeouts')">
            <span>Timeouts</span>
          </div>
          <div class="concept-item" data-concept="bulkheads" onclick="showConcept('bulkheads')">
            <span>Bulkheads</span>
          </div>
          <div class="concept-item" data-concept="health-checks" onclick="showConcept('health-checks')">
            <span>Health Checks</span>
          </div>
          <div class="concept-item" data-concept="failover" onclick="showConcept('failover')">
            <span>Failover</span>
          </div>
          <div class="concept-item" data-concept="chaos-engineering" onclick="showConcept('chaos-engineering')">
            <span>Chaos Engineering</span>
          </div>
          <div class="concept-item" data-concept="auto-scaling" onclick="showConcept('auto-scaling')">
            <span>Auto Scaling Policies</span>
          </div>
        </div>
      </div>

      <!-- Security -->
      <div class="category" data-category="security">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üîê</div>
          <span class="category-name">Security</span>
          <span class="category-count">7</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="auth-authz" onclick="showConcept('auth-authz')">
            <span>Authentication vs Authorization</span>
          </div>
          <div class="concept-item" data-concept="oauth-jwt" onclick="showConcept('oauth-jwt')">
            <span>OAuth / JWT</span>
          </div>
          <div class="concept-item" data-concept="secrets-management" onclick="showConcept('secrets-management')">
            <span>Secrets Management</span>
          </div>
          <div class="concept-item" data-concept="encryption" onclick="showConcept('encryption')">
            <span>Encryption at Rest & in Transit</span>
          </div>
          <div class="concept-item" data-concept="secure-apis" onclick="showConcept('secure-apis')">
            <span>Secure APIs (OWASP Top 10)</span>
          </div>
          <div class="concept-item" data-concept="rate-vs-throttle" onclick="showConcept('rate-vs-throttle')">
            <span>Rate Limiting vs Throttling</span>
          </div>
          <div class="concept-item" data-concept="zero-trust" onclick="showConcept('zero-trust')">
            <span>Zero Trust Architecture</span>
          </div>
        </div>
      </div>

      <!-- Observability & Monitoring -->
      <div class="category" data-category="observability">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">üîç</div>
          <span class="category-name">Observability</span>
          <span class="category-count">7</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="metrics" onclick="showConcept('metrics')">
            <span>Metrics</span>
          </div>
          <div class="concept-item" data-concept="distributed-tracing" onclick="showConcept('distributed-tracing')">
            <span>Distributed Tracing</span>
          </div>
          <div class="concept-item" data-concept="structured-logging" onclick="showConcept('structured-logging')">
            <span>Structured Logging</span>
          </div>
          <div class="concept-item" data-concept="alerting-slos" onclick="showConcept('alerting-slos')">
            <span>Alerting & SLOs</span>
          </div>
          <div class="concept-item" data-concept="slis-error-budgets" onclick="showConcept('slis-error-budgets')">
            <span>SLIs & Error Budgets</span>
          </div>
          <div class="concept-item" data-concept="dashboards" onclick="showConcept('dashboards')">
            <span>Dashboards</span>
          </div>
          <div class="concept-item" data-concept="rca" onclick="showConcept('rca')">
            <span>Root Cause Analysis (RCA)</span>
          </div>
        </div>
      </div>

      <!-- Performance & Optimization -->
      <div class="category" data-category="performance-opt">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #ec4899, #db2777);">üöÄ</div>
          <span class="category-name">Performance</span>
          <span class="category-count">7</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="latency-throughput" onclick="showConcept('latency-throughput')">
            <span>Latency vs Throughput</span>
          </div>
          <div class="concept-item" data-concept="async-processing" onclick="showConcept('async-processing')">
            <span>Async Processing</span>
          </div>
          <div class="concept-item" data-concept="connection-pooling" onclick="showConcept('connection-pooling')">
            <span>Connection Pooling</span>
          </div>
          <div class="concept-item" data-concept="batching" onclick="showConcept('batching')">
            <span>Batching</span>
          </div>
          <div class="concept-item" data-concept="compression" onclick="showConcept('compression')">
            <span>Compression</span>
          </div>
          <div class="concept-item" data-concept="cold-start" onclick="showConcept('cold-start')">
            <span>Cold Start Optimization</span>
          </div>
          <div class="concept-item" data-concept="profiling" onclick="showConcept('profiling')">
            <span>Profiling & Benchmarking</span>
          </div>
        </div>
      </div>

      <!-- DevOps & Operations -->
      <div class="category" data-category="devops">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #84cc16, #65a30d);">‚öôÔ∏è</div>
          <span class="category-name">DevOps & Operations</span>
          <span class="category-count">7</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="cicd" onclick="showConcept('cicd')">
            <span>CI/CD Pipelines</span>
          </div>
          <div class="concept-item" data-concept="iac" onclick="showConcept('iac')">
            <span>Infrastructure as Code (IaC)</span>
          </div>
          <div class="concept-item" data-concept="deployment-strategies" onclick="showConcept('deployment-strategies')">
            <span>Blue-Green / Canary Deployments</span>
          </div>
          <div class="concept-item" data-concept="rollbacks" onclick="showConcept('rollbacks')">
            <span>Rollbacks</span>
          </div>
          <div class="concept-item" data-concept="environment-parity" onclick="showConcept('environment-parity')">
            <span>Environment Parity</span>
          </div>
          <div class="concept-item" data-concept="config-management" onclick="showConcept('config-management')">
            <span>Config Management</span>
          </div>
          <div class="concept-item" data-concept="feature-flags" onclick="showConcept('feature-flags')">
            <span>Feature Flags</span>
          </div>
        </div>
      </div>

      <!-- API & Integration -->
      <div class="category" data-category="api">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #6366f1, #4f46e5);">üì¶</div>
          <span class="category-name">API & Integration</span>
          <span class="category-count">7</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="api-versioning" onclick="showConcept('api-versioning')">
            <span>API Versioning</span>
          </div>
          <div class="concept-item" data-concept="contract-testing" onclick="showConcept('contract-testing')">
            <span>Contract Testing</span>
          </div>
          <div class="concept-item" data-concept="idempotent-apis" onclick="showConcept('idempotent-apis')">
            <span>Idempotent APIs</span>
          </div>
          <div class="concept-item" data-concept="pagination" onclick="showConcept('pagination')">
            <span>Pagination & Filtering</span>
          </div>
          <div class="concept-item" data-concept="webhooks" onclick="showConcept('webhooks')">
            <span>Webhooks</span>
          </div>
          <div class="concept-item" data-concept="grpc-rest" onclick="showConcept('grpc-rest')">
            <span>gRPC vs REST</span>
          </div>
          <div class="concept-item" data-concept="backward-compatibility" onclick="showConcept('backward-compatibility')">
            <span>Backward Compatibility</span>
          </div>
        </div>
      </div>

      <!-- Scalability Patterns -->
      <div class="category" data-category="scalability-patterns">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #f97316, #ea580c);">üìà</div>
          <span class="category-name">Scalability Patterns</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="horizontal-vertical" onclick="showConcept('horizontal-vertical')">
            <span>Horizontal vs Vertical Scaling</span>
          </div>
          <div class="concept-item" data-concept="stateless-services" onclick="showConcept('stateless-services')">
            <span>Stateless Services</span>
          </div>
          <div class="concept-item" data-concept="read-replicas" onclick="showConcept('read-replicas')">
            <span>Read Replicas</span>
          </div>
          <div class="concept-item" data-concept="write-amplification" onclick="showConcept('write-amplification')">
            <span>Write Amplification</span>
          </div>
          <div class="concept-item" data-concept="hotspot-avoidance" onclick="showConcept('hotspot-avoidance')">
            <span>Hotspot Avoidance</span>
          </div>
          <div class="concept-item" data-concept="traffic-shaping" onclick="showConcept('traffic-shaping')">
            <span>Traffic Shaping</span>
          </div>
        </div>
      </div>

      </div><!-- End Backend Concepts -->

      <!-- Frontend Concepts -->
      <div class="concepts-container active" id="frontendConcepts">

      <!-- Core Frontend Principles -->
      <div class="category expanded" data-category="fe-core">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #f59e0b, #d97706);">‚ö°</div>
          <span class="category-name">Core Principles</span>
          <span class="category-count">10</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-usability" onclick="showConcept('fe-usability')">
            <span>Usability</span>
          </div>
          <div class="concept-item" data-concept="fe-accessibility-principle" onclick="showConcept('fe-accessibility-principle')">
            <span>Accessibility (a11y)</span>
          </div>
          <div class="concept-item" data-concept="fe-performance-principle" onclick="showConcept('fe-performance-principle')">
            <span>Performance</span>
          </div>
          <div class="concept-item" data-concept="fe-maintainability" onclick="showConcept('fe-maintainability')">
            <span>Maintainability</span>
          </div>
          <div class="concept-item" data-concept="fe-scalability" onclick="showConcept('fe-scalability')">
            <span>Scalability</span>
          </div>
          <div class="concept-item" data-concept="fe-security-principle" onclick="showConcept('fe-security-principle')">
            <span>Security</span>
          </div>
          <div class="concept-item" data-concept="fe-consistency" onclick="showConcept('fe-consistency')">
            <span>Consistency</span>
          </div>
          <div class="concept-item" data-concept="fe-progressive-enhancement" onclick="showConcept('fe-progressive-enhancement')">
            <span>Progressive Enhancement</span>
          </div>
          <div class="concept-item" data-concept="fe-graceful-degradation" onclick="showConcept('fe-graceful-degradation')">
            <span>Graceful Degradation</span>
          </div>
          <div class="concept-item" data-concept="fe-cross-browser" onclick="showConcept('fe-cross-browser')">
            <span>Cross-Browser Compatibility</span>
          </div>
        </div>
      </div>

      <!-- Architecture & Design Patterns -->
      <div class="category" data-category="fe-architecture">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">üß±</div>
          <span class="category-name">Architecture Patterns</span>
          <span class="category-count">9</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-component-architecture" onclick="showConcept('fe-component-architecture')">
            <span>Component-Based Architecture</span>
          </div>
          <div class="concept-item" data-concept="fe-atomic-design" onclick="showConcept('fe-atomic-design')">
            <span>Atomic Design</span>
          </div>
          <div class="concept-item" data-concept="fe-container-presenter" onclick="showConcept('fe-container-presenter')">
            <span>Container‚ÄìPresenter Pattern</span>
          </div>
          <div class="concept-item" data-concept="fe-mvvm-mvc" onclick="showConcept('fe-mvvm-mvc')">
            <span>MVVM / MVC</span>
          </div>
          <div class="concept-item" data-concept="fe-micro-frontends" onclick="showConcept('fe-micro-frontends')">
            <span>Micro-Frontends</span>
          </div>
          <div class="concept-item" data-concept="fe-module-federation" onclick="showConcept('fe-module-federation')">
            <span>Module Federation</span>
          </div>
          <div class="concept-item" data-concept="fe-monorepo-polyrepo" onclick="showConcept('fe-monorepo-polyrepo')">
            <span>Monorepo vs Polyrepo</span>
          </div>
          <div class="concept-item" data-concept="fe-folder-structure" onclick="showConcept('fe-folder-structure')">
            <span>Feature-Based Folder Structure</span>
          </div>
          <div class="concept-item" data-concept="fe-design-system" onclick="showConcept('fe-design-system')">
            <span>Design System Architecture</span>
          </div>
        </div>
      </div>

      <!-- State Management -->
      <div class="category" data-category="fe-state">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #3b82f6, #1d4ed8);">‚öõÔ∏è</div>
          <span class="category-name">State Management</span>
          <span class="category-count">10</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-local-global-state" onclick="showConcept('fe-local-global-state')">
            <span>Local vs Global State</span>
          </div>
          <div class="concept-item" data-concept="fe-server-client-state" onclick="showConcept('fe-server-client-state')">
            <span>Server State vs Client State</span>
          </div>
          <div class="concept-item" data-concept="fe-lifting-state" onclick="showConcept('fe-lifting-state')">
            <span>Lifting State Up</span>
          </div>
          <div class="concept-item" data-concept="fe-context-api" onclick="showConcept('fe-context-api')">
            <span>Context API</span>
          </div>
          <div class="concept-item" data-concept="fe-redux-zustand" onclick="showConcept('fe-redux-zustand')">
            <span>Redux / Zustand / Jotai</span>
          </div>
          <div class="concept-item" data-concept="fe-react-query" onclick="showConcept('fe-react-query')">
            <span>React Query / TanStack Query</span>
          </div>
          <div class="concept-item" data-concept="fe-url-state" onclick="showConcept('fe-url-state')">
            <span>URL State</span>
          </div>
          <div class="concept-item" data-concept="fe-form-state" onclick="showConcept('fe-form-state')">
            <span>Form State Management</span>
          </div>
          <div class="concept-item" data-concept="fe-state-normalization" onclick="showConcept('fe-state-normalization')">
            <span>State Normalization</span>
          </div>
          <div class="concept-item" data-concept="fe-derived-state" onclick="showConcept('fe-derived-state')">
            <span>Derived State</span>
          </div>
        </div>
      </div>

      <!-- Data Fetching & APIs -->
      <div class="category" data-category="fe-data">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #10b981, #059669);">üîÅ</div>
          <span class="category-name">Data Fetching & APIs</span>
          <span class="category-count">10</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-rest-graphql" onclick="showConcept('fe-rest-graphql')">
            <span>REST vs GraphQL</span>
          </div>
          <div class="concept-item" data-concept="fe-caching-strategies" onclick="showConcept('fe-caching-strategies')">
            <span>Caching Strategies</span>
          </div>
          <div class="concept-item" data-concept="fe-pagination" onclick="showConcept('fe-pagination')">
            <span>Pagination & Infinite Scroll</span>
          </div>
          <div class="concept-item" data-concept="fe-optimistic-updates" onclick="showConcept('fe-optimistic-updates')">
            <span>Optimistic Updates</span>
          </div>
          <div class="concept-item" data-concept="fe-error-handling" onclick="showConcept('fe-error-handling')">
            <span>Error Handling</span>
          </div>
          <div class="concept-item" data-concept="fe-retry-backoff" onclick="showConcept('fe-retry-backoff')">
            <span>Retry & Backoff</span>
          </div>
          <div class="concept-item" data-concept="fe-debounce-throttle" onclick="showConcept('fe-debounce-throttle')">
            <span>Debouncing & Throttling</span>
          </div>
          <div class="concept-item" data-concept="fe-parallel-sequential" onclick="showConcept('fe-parallel-sequential')">
            <span>Parallel vs Sequential Requests</span>
          </div>
          <div class="concept-item" data-concept="fe-api-versioning" onclick="showConcept('fe-api-versioning')">
            <span>API Versioning</span>
          </div>
          <div class="concept-item" data-concept="fe-bff-pattern" onclick="showConcept('fe-bff-pattern')">
            <span>BFF Pattern</span>
          </div>
        </div>
      </div>

      <!-- Performance Optimization -->
      <div class="category" data-category="fe-performance">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #ec4899, #db2777);">üöÄ</div>
          <span class="category-name">Performance</span>
          <span class="category-count">10</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-code-splitting" onclick="showConcept('fe-code-splitting')">
            <span>Code Splitting</span>
          </div>
          <div class="concept-item" data-concept="fe-lazy-loading" onclick="showConcept('fe-lazy-loading')">
            <span>Lazy Loading</span>
          </div>
          <div class="concept-item" data-concept="fe-tree-shaking" onclick="showConcept('fe-tree-shaking')">
            <span>Tree Shaking</span>
          </div>
          <div class="concept-item" data-concept="fe-memoization" onclick="showConcept('fe-memoization')">
            <span>Memoization</span>
          </div>
          <div class="concept-item" data-concept="fe-virtualization" onclick="showConcept('fe-virtualization')">
            <span>Virtualization</span>
          </div>
          <div class="concept-item" data-concept="fe-image-optimization" onclick="showConcept('fe-image-optimization')">
            <span>Image Optimization</span>
          </div>
          <div class="concept-item" data-concept="fe-bundle-analysis" onclick="showConcept('fe-bundle-analysis')">
            <span>Bundle Size Analysis</span>
          </div>
          <div class="concept-item" data-concept="fe-web-workers" onclick="showConcept('fe-web-workers')">
            <span>Web Workers</span>
          </div>
          <div class="concept-item" data-concept="fe-prefetch-preload" onclick="showConcept('fe-prefetch-preload')">
            <span>Prefetching & Preloading</span>
          </div>
          <div class="concept-item" data-concept="fe-cold-start" onclick="showConcept('fe-cold-start')">
            <span>Cold Start Optimization</span>
          </div>
        </div>
      </div>

      <!-- Rendering Strategies -->
      <div class="category" data-category="fe-rendering">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #06b6d4, #0891b2);">üñ•Ô∏è</div>
          <span class="category-name">Rendering Strategies</span>
          <span class="category-count">7</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-csr" onclick="showConcept('fe-csr')">
            <span>CSR (Client-Side Rendering)</span>
          </div>
          <div class="concept-item" data-concept="fe-ssr" onclick="showConcept('fe-ssr')">
            <span>SSR (Server-Side Rendering)</span>
          </div>
          <div class="concept-item" data-concept="fe-ssg" onclick="showConcept('fe-ssg')">
            <span>SSG (Static Site Generation)</span>
          </div>
          <div class="concept-item" data-concept="fe-isr" onclick="showConcept('fe-isr')">
            <span>ISR (Incremental Static Regeneration)</span>
          </div>
          <div class="concept-item" data-concept="fe-streaming-suspense" onclick="showConcept('fe-streaming-suspense')">
            <span>Streaming & Suspense</span>
          </div>
          <div class="concept-item" data-concept="fe-hydration" onclick="showConcept('fe-hydration')">
            <span>Hydration & Rehydration</span>
          </div>
          <div class="concept-item" data-concept="fe-edge-rendering" onclick="showConcept('fe-edge-rendering')">
            <span>Edge Rendering</span>
          </div>
        </div>
      </div>

      <!-- Styling & UI Engineering -->
      <div class="category" data-category="fe-styling">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #f472b6, #ec4899);">üé®</div>
          <span class="category-name">Styling & UI</span>
          <span class="category-count">9</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-css-modules" onclick="showConcept('fe-css-modules')">
            <span>CSS Modules</span>
          </div>
          <div class="concept-item" data-concept="fe-styled-components" onclick="showConcept('fe-styled-components')">
            <span>Styled Components</span>
          </div>
          <div class="concept-item" data-concept="fe-tailwind" onclick="showConcept('fe-tailwind')">
            <span>Tailwind</span>
          </div>
          <div class="concept-item" data-concept="fe-theming" onclick="showConcept('fe-theming')">
            <span>Theming</span>
          </div>
          <div class="concept-item" data-concept="fe-responsive-design" onclick="showConcept('fe-responsive-design')">
            <span>Responsive Design</span>
          </div>
          <div class="concept-item" data-concept="fe-dark-mode" onclick="showConcept('fe-dark-mode')">
            <span>Dark Mode</span>
          </div>
          <div class="concept-item" data-concept="fe-design-tokens" onclick="showConcept('fe-design-tokens')">
            <span>Design Tokens</span>
          </div>
          <div class="concept-item" data-concept="fe-animations" onclick="showConcept('fe-animations')">
            <span>Animations & Transitions</span>
          </div>
          <div class="concept-item" data-concept="fe-layout-systems" onclick="showConcept('fe-layout-systems')">
            <span>Layout Systems (Flexbox, Grid)</span>
          </div>
        </div>
      </div>

      <!-- Accessibility (A11y) -->
      <div class="category" data-category="fe-a11y">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #22c55e, #16a34a);">‚ôø</div>
          <span class="category-name">Accessibility (A11y)</span>
          <span class="category-count">9</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-semantic-html" onclick="showConcept('fe-semantic-html')">
            <span>Semantic HTML</span>
          </div>
          <div class="concept-item" data-concept="fe-aria-roles" onclick="showConcept('fe-aria-roles')">
            <span>ARIA Roles</span>
          </div>
          <div class="concept-item" data-concept="fe-keyboard-nav" onclick="showConcept('fe-keyboard-nav')">
            <span>Keyboard Navigation</span>
          </div>
          <div class="concept-item" data-concept="fe-screen-reader" onclick="showConcept('fe-screen-reader')">
            <span>Screen Reader Support</span>
          </div>
          <div class="concept-item" data-concept="fe-color-contrast" onclick="showConcept('fe-color-contrast')">
            <span>Color Contrast</span>
          </div>
          <div class="concept-item" data-concept="fe-focus-management" onclick="showConcept('fe-focus-management')">
            <span>Focus Management</span>
          </div>
          <div class="concept-item" data-concept="fe-accessible-forms" onclick="showConcept('fe-accessible-forms')">
            <span>Accessible Forms</span>
          </div>
          <div class="concept-item" data-concept="fe-wcag" onclick="showConcept('fe-wcag')">
            <span>WCAG Guidelines</span>
          </div>
          <div class="concept-item" data-concept="fe-a11y-testing" onclick="showConcept('fe-a11y-testing')">
            <span>Accessibility Testing</span>
          </div>
        </div>
      </div>

      <!-- Testing Strategy -->
      <div class="category" data-category="fe-testing">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #a855f7, #9333ea);">üß™</div>
          <span class="category-name">Testing Strategy</span>
          <span class="category-count">9</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-unit-testing" onclick="showConcept('fe-unit-testing')">
            <span>Unit Testing</span>
          </div>
          <div class="concept-item" data-concept="fe-component-testing" onclick="showConcept('fe-component-testing')">
            <span>Component Testing</span>
          </div>
          <div class="concept-item" data-concept="fe-integration-testing" onclick="showConcept('fe-integration-testing')">
            <span>Integration Testing</span>
          </div>
          <div class="concept-item" data-concept="fe-e2e-testing" onclick="showConcept('fe-e2e-testing')">
            <span>E2E Testing</span>
          </div>
          <div class="concept-item" data-concept="fe-visual-regression" onclick="showConcept('fe-visual-regression')">
            <span>Visual Regression Testing</span>
          </div>
          <div class="concept-item" data-concept="fe-accessibility-testing" onclick="showConcept('fe-accessibility-testing')">
            <span>Accessibility Testing</span>
          </div>
          <div class="concept-item" data-concept="fe-mocking-apis" onclick="showConcept('fe-mocking-apis')">
            <span>Mocking APIs</span>
          </div>
          <div class="concept-item" data-concept="fe-test-coverage" onclick="showConcept('fe-test-coverage')">
            <span>Test Coverage Strategy</span>
          </div>
          <div class="concept-item" data-concept="fe-flaky-tests" onclick="showConcept('fe-flaky-tests')">
            <span>Flaky Test Handling</span>
          </div>
        </div>
      </div>

      <!-- Frontend Security -->
      <div class="category" data-category="fe-security">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üîê</div>
          <span class="category-name">Frontend Security</span>
          <span class="category-count">8</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-xss" onclick="showConcept('fe-xss')">
            <span>XSS Prevention</span>
          </div>
          <div class="concept-item" data-concept="fe-csrf" onclick="showConcept('fe-csrf')">
            <span>CSRF Protection</span>
          </div>
          <div class="concept-item" data-concept="fe-cors" onclick="showConcept('fe-cors')">
            <span>CORS</span>
          </div>
          <div class="concept-item" data-concept="fe-csp" onclick="showConcept('fe-csp')">
            <span>Content Security Policy (CSP)</span>
          </div>
          <div class="concept-item" data-concept="fe-secure-cookies" onclick="showConcept('fe-secure-cookies')">
            <span>Secure Cookies</span>
          </div>
          <div class="concept-item" data-concept="fe-token-storage" onclick="showConcept('fe-token-storage')">
            <span>Token Storage Strategies</span>
          </div>
          <div class="concept-item" data-concept="fe-dependency-vulnerabilities" onclick="showConcept('fe-dependency-vulnerabilities')">
            <span>Dependency Vulnerabilities</span>
          </div>
          <div class="concept-item" data-concept="fe-input-sanitization" onclick="showConcept('fe-input-sanitization')">
            <span>Input Sanitization</span>
          </div>
        </div>
      </div>

      <!-- Observability & Monitoring -->
      <div class="category" data-category="fe-observability">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #14b8a6, #0d9488);">üîç</div>
          <span class="category-name">Observability</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-error-tracking" onclick="showConcept('fe-error-tracking')">
            <span>Error Tracking (Sentry, etc.)</span>
          </div>
          <div class="concept-item" data-concept="fe-performance-metrics" onclick="showConcept('fe-performance-metrics')">
            <span>Performance Metrics (LCP, FID, CLS)</span>
          </div>
          <div class="concept-item" data-concept="fe-custom-events" onclick="showConcept('fe-custom-events')">
            <span>Custom Events & Logging</span>
          </div>
          <div class="concept-item" data-concept="fe-session-replay" onclick="showConcept('fe-session-replay')">
            <span>User Session Replay</span>
          </div>
          <div class="concept-item" data-concept="fe-feature-tracking" onclick="showConcept('fe-feature-tracking')">
            <span>Feature Usage Tracking</span>
          </div>
          <div class="concept-item" data-concept="fe-slis-slos" onclick="showConcept('fe-slis-slos')">
            <span>Frontend SLIs & SLOs</span>
          </div>
        </div>
      </div>

      <!-- Tooling & Build System -->
      <div class="category" data-category="fe-tooling">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #f97316, #ea580c);">‚öôÔ∏è</div>
          <span class="category-name">Build Tools</span>
          <span class="category-count">8</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-bundlers" onclick="showConcept('fe-bundlers')">
            <span>Bundlers (Vite, Webpack)</span>
          </div>
          <div class="concept-item" data-concept="fe-transpilers" onclick="showConcept('fe-transpilers')">
            <span>Transpilers (Babel, SWC)</span>
          </div>
          <div class="concept-item" data-concept="fe-linters" onclick="showConcept('fe-linters')">
            <span>Linters</span>
          </div>
          <div class="concept-item" data-concept="fe-formatters" onclick="showConcept('fe-formatters')">
            <span>Formatters</span>
          </div>
          <div class="concept-item" data-concept="fe-typescript" onclick="showConcept('fe-typescript')">
            <span>TypeScript</span>
          </div>
          <div class="concept-item" data-concept="fe-module-resolution" onclick="showConcept('fe-module-resolution')">
            <span>Module Resolution</span>
          </div>
          <div class="concept-item" data-concept="fe-env-configs" onclick="showConcept('fe-env-configs')">
            <span>Environment Configs</span>
          </div>
          <div class="concept-item" data-concept="fe-build-optimization" onclick="showConcept('fe-build-optimization')">
            <span>Build Optimization</span>
          </div>
        </div>
      </div>

      <!-- Deployment & Delivery -->
      <div class="category" data-category="fe-deployment">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #84cc16, #65a30d);">üö¢</div>
          <span class="category-name">Deployment</span>
          <span class="category-count">8</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-cicd" onclick="showConcept('fe-cicd')">
            <span>CI/CD Pipelines</span>
          </div>
          <div class="concept-item" data-concept="fe-feature-flags" onclick="showConcept('fe-feature-flags')">
            <span>Feature Flags</span>
          </div>
          <div class="concept-item" data-concept="fe-canary-releases" onclick="showConcept('fe-canary-releases')">
            <span>Canary Releases</span>
          </div>
          <div class="concept-item" data-concept="fe-rollbacks" onclick="showConcept('fe-rollbacks')">
            <span>Rollbacks</span>
          </div>
          <div class="concept-item" data-concept="fe-cdn-strategy" onclick="showConcept('fe-cdn-strategy')">
            <span>CDN Strategy</span>
          </div>
          <div class="concept-item" data-concept="fe-cache-busting" onclick="showConcept('fe-cache-busting')">
            <span>Cache Busting</span>
          </div>
          <div class="concept-item" data-concept="fe-environment-parity" onclick="showConcept('fe-environment-parity')">
            <span>Environment Parity</span>
          </div>
          <div class="concept-item" data-concept="fe-versioning" onclick="showConcept('fe-versioning')">
            <span>Versioning</span>
          </div>
        </div>
      </div>

      <!-- Cross-Platform & Devices -->
      <div class="category" data-category="fe-cross-platform">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #6366f1, #4f46e5);">üåç</div>
          <span class="category-name">Cross-Platform</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-responsive-web" onclick="showConcept('fe-responsive-web')">
            <span>Responsive Web</span>
          </div>
          <div class="concept-item" data-concept="fe-pwa" onclick="showConcept('fe-pwa')">
            <span>PWA</span>
          </div>
          <div class="concept-item" data-concept="fe-mobile-first" onclick="showConcept('fe-mobile-first')">
            <span>Mobile-First Design</span>
          </div>
          <div class="concept-item" data-concept="fe-browser-compat" onclick="showConcept('fe-browser-compat')">
            <span>Browser Compatibility</span>
          </div>
          <div class="concept-item" data-concept="fe-touch-pointer" onclick="showConcept('fe-touch-pointer')">
            <span>Touch vs Pointer Events</span>
          </div>
          <div class="concept-item" data-concept="fe-offline-support" onclick="showConcept('fe-offline-support')">
            <span>Offline Support</span>
          </div>
        </div>
      </div>

      <!-- UX & Product Engineering -->
      <div class="category" data-category="fe-ux">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #e879f9, #d946ef);">üß†</div>
          <span class="category-name">UX Engineering</span>
          <span class="category-count">8</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-loading-states" onclick="showConcept('fe-loading-states')">
            <span>Loading States</span>
          </div>
          <div class="concept-item" data-concept="fe-empty-states" onclick="showConcept('fe-empty-states')">
            <span>Empty States</span>
          </div>
          <div class="concept-item" data-concept="fe-error-states" onclick="showConcept('fe-error-states')">
            <span>Error States</span>
          </div>
          <div class="concept-item" data-concept="fe-user-feedback" onclick="showConcept('fe-user-feedback')">
            <span>User Feedback</span>
          </div>
          <div class="concept-item" data-concept="fe-i18n" onclick="showConcept('fe-i18n')">
            <span>Internationalization (i18n)</span>
          </div>
          <div class="concept-item" data-concept="fe-l10n" onclick="showConcept('fe-l10n')">
            <span>Localization (l10n)</span>
          </div>
          <div class="concept-item" data-concept="fe-personalization" onclick="showConcept('fe-personalization')">
            <span>Personalization</span>
          </div>
          <div class="concept-item" data-concept="fe-ab-testing" onclick="showConcept('fe-ab-testing')">
            <span>Experimentation / A/B Testing</span>
          </div>
        </div>
      </div>

      <!-- Micro-Frontends -->
      <div class="category" data-category="fe-mfe">
        <div class="category-header" onclick="toggleCategory(this.parentElement)">
          <div class="category-icon" style="background: linear-gradient(135deg, #fbbf24, #f59e0b);">üß©</div>
          <span class="category-name">Micro-Frontends</span>
          <span class="category-count">6</span>
          <span class="category-arrow">‚Ä∫</span>
        </div>
        <div class="category-items">
          <div class="concept-item" data-concept="fe-app-shell" onclick="showConcept('fe-app-shell')">
            <span>App Shell</span>
          </div>
          <div class="concept-item" data-concept="fe-routing-isolation" onclick="showConcept('fe-routing-isolation')">
            <span>Routing Isolation</span>
          </div>
          <div class="concept-item" data-concept="fe-shared-dependencies" onclick="showConcept('fe-shared-dependencies')">
            <span>Shared Dependencies</span>
          </div>
          <div class="concept-item" data-concept="fe-mfe-integration" onclick="showConcept('fe-mfe-integration')">
            <span>Runtime vs Build-time Integration</span>
          </div>
          <div class="concept-item" data-concept="fe-mfe-communication" onclick="showConcept('fe-mfe-communication')">
            <span>Communication Between MFEs</span>
          </div>
          <div class="concept-item" data-concept="fe-mfe-versioning" onclick="showConcept('fe-mfe-versioning')">
            <span>Versioning & Rollout Strategy</span>
          </div>
        </div>
      </div>

      </div>

    </aside>

    <!-- Detail View -->
    <main class="detail-view">
      <div class="detail-container">
        <!-- Welcome State -->
        <div class="welcome-state" id="welcomeState">
          <!-- Hero Section with Author -->
          <div class="welcome-hero">
            <img src="/images/me_circle.png" alt="Manoj Satishkumar" class="welcome-author-photo">
            <div class="welcome-intro">
              <h1>Welcome to System Design</h1>
              <div class="tagline">A Visual Learning Experience</div>
              <p>I'm Manoj, a Staff Engineer with 12+ years of experience. I've created this interactive guide to help you master system design concepts through visual explanations and real-world examples. Whether you're preparing for interviews or building scalable systems, this resource has you covered.</p>
              <a href="/" class="portfolio-link">Visit My Portfolio ‚Üí</a>
            </div>
          </div>

          <!-- Stats -->
          <div class="welcome-stats">
            <div class="stat-card">
              <div class="number">100+</div>
              <div class="label">Concepts</div>
            </div>
            <div class="stat-card">
              <div class="number">2</div>
              <div class="label">Tracks</div>
            </div>
            <div class="stat-card">
              <div class="number">100%</div>
              <div class="label">Visual</div>
            </div>
            <div class="stat-card">
              <div class="number">Free</div>
              <div class="label">Forever</div>
            </div>
          </div>

          <!-- What's Inside -->
          <div class="welcome-section-title">What's Inside</div>
          
          <div class="welcome-categories">
            <!-- Frontend -->
            <div class="welcome-category-group frontend-group">
              <div class="category-card-icon">üé®</div>
              <h3>Frontend System Design</h3>
              <p class="category-card-description">
                Dive deep into modern frontend architecture patterns. Explore component design, state management, performance optimization, SSR/SSG strategies, accessibility best practices, testing methodologies, and micro-frontend architectures. Essential knowledge for frontend architects.
              </p>
              <button class="category-cta-btn frontend-btn" onclick="switchDomain('frontend'); showConcept('fe-usability');">
                Explore Frontend <span class="arrow-icon">‚Üí</span>
              </button>
            </div>

            <!-- Backend -->
            <div class="welcome-category-group backend-group">
              <div class="category-card-icon">‚ö°</div>
              <h3>Backend System Design</h3>
              <p class="category-card-description">
                Master the core principles of building robust, scalable backend systems. Learn about availability, load balancing, caching strategies, microservices architecture, database sharding, API design patterns, and more. Perfect for engineers preparing for senior-level interviews.
              </p>
              <button class="category-cta-btn backend-btn" onclick="switchDomain('backend'); showConcept('availability');">
                Explore Backend <span class="arrow-icon">‚Üí</span>
              </button>
            </div>
          </div>
        </div>

        <!-- Concept Details will be inserted here dynamically -->
        <div id="conceptContainer"></div>
      </div>
    </main>
  </div>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-top">
        <div class="footer-brand">
          <a href="/system-design" target="_blank" rel="noopener" class="footer-logo">
            <div class="footer-logo-icon">
              <i class="fas fa-layer-group"></i>
            </div>
            <span class="footer-logo-text">System Design</span>
          </a>
          <p class="footer-tagline">
            A comprehensive visual guide to system design concepts for frontend and backend engineers. 
            Learn, explore, and master the fundamentals.
          </p>
        </div>
        <div class="footer-links">
          <div class="footer-section">
            <h4>Quick Links</h4>
            <ul>
              <li><a href="/" target="_blank" rel="noopener"><i class="fas fa-home"></i> Portfolio</a></li>
              <li><a href="/blog" target="_blank" rel="noopener"><i class="fas fa-blog"></i> Blog</a></li>
              <li><a href="/q-n-a/q-n-a-with-manoj.html" target="_blank" rel="noopener"><i class="fas fa-comments"></i> Q&A</a></li>
            </ul>
          </div>
          <div class="footer-section">
            <h4>Connect</h4>
            <ul>
              <li><a href="https://www.linkedin.com/in/manojsatishkumar/" target="_blank" rel="noopener noreferrer"><i class="fab fa-linkedin"></i> LinkedIn</a></li>
              <li><a href="https://github.com/ManojSatishkumar" target="_blank" rel="noopener noreferrer"><i class="fab fa-github"></i> GitHub</a></li>
              <li><a href="https://www.youtube.com/@ManojSatishkumar" target="_blank" rel="noopener noreferrer"><i class="fab fa-youtube"></i> YouTube</a></li>
            </ul>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p class="footer-copyright">
          ¬© 2024 <a href="/" target="_blank" rel="noopener">Manoj Satishkumar</a>. All rights reserved.
        </p>
        <p class="footer-made-with">
          Made with <span class="heart">‚ù§Ô∏è</span> for developers worldwide
        </p>
        <div class="footer-social">
          <a href="https://www.linkedin.com/in/manojsatishkumar/" target="_blank" rel="noopener noreferrer" title="LinkedIn">
            <i class="fab fa-linkedin-in"></i>
          </a>
          <a href="https://github.com/ManojSatishkumar" target="_blank" rel="noopener noreferrer" title="GitHub">
            <i class="fab fa-github"></i>
          </a>
          <a href="https://www.youtube.com/@ManojSatishkumar" target="_blank" rel="noopener noreferrer" title="YouTube">
            <i class="fab fa-youtube"></i>
          </a>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // Concept navigation order - Backend concepts
    const backendConceptOrder = [
      // Core Principles
      'availability', 'reliability', 'scalability', 'maintainability', 'performance', 'security', 'observability', 'cost-efficiency',
      // Data Management
      'consistency', 'partitioning', 'replication', 'caching', 'cap-theorem', 'acid', 'data-modeling', 'schema-evolution', 'indexing-strategies', 'data-migration', 'backup-restore', 'data-retention', 'eventual-consistency', 'idempotency', 'data-privacy',
      // Architecture & Patterns
      'microservices', 'load-balancing', 'message-queues', 'api-gateway', 'cdn', 'database-sharding', 'monolith-modular', 'event-driven', 'cqrs', 'saga-pattern', 'hexagonal-architecture', 'service-mesh', 'bff', 'strangler-fig',
      // Resilience
      'fault-tolerance', 'circuit-breaker', 'rate-limiting', 'graceful-degradation', 'disaster-recovery', 'retries-backoff', 'timeouts', 'bulkheads', 'health-checks', 'failover', 'chaos-engineering', 'auto-scaling',
      // Security
      'auth-authz', 'oauth-jwt', 'secrets-management', 'encryption', 'secure-apis', 'rate-vs-throttle', 'zero-trust',
      // Observability
      'metrics', 'distributed-tracing', 'structured-logging', 'alerting-slos', 'slis-error-budgets', 'dashboards', 'rca',
      // Performance
      'latency-throughput', 'async-processing', 'connection-pooling', 'batching', 'compression', 'cold-start', 'profiling',
      // DevOps & CI/CD
      'cicd', 'iac', 'deployment-strategies', 'rollbacks', 'environment-parity', 'config-management', 'feature-flags',
      // API Design
      'api-versioning', 'contract-testing', 'idempotent-apis', 'pagination', 'webhooks', 'grpc-rest', 'backward-compatibility',
      // Scaling Techniques
      'horizontal-vertical', 'stateless-services', 'read-replicas', 'write-amplification', 'hotspot-avoidance', 'traffic-shaping'
    ];

    // Concept navigation order - Frontend concepts
    const frontendConceptOrder = [
      // Core Principles
      'fe-usability', 'fe-accessibility-principle', 'fe-performance-principle', 'fe-maintainability', 'fe-scalability', 'fe-security-principle', 'fe-consistency', 'fe-progressive-enhancement', 'fe-graceful-degradation', 'fe-cross-browser',
      // Architecture Patterns
      'fe-component-architecture', 'fe-atomic-design', 'fe-container-presenter', 'fe-mvvm-mvc', 'fe-micro-frontends', 'fe-module-federation', 'fe-monorepo-polyrepo', 'fe-folder-structure', 'fe-design-system',
      // State Management
      'fe-local-global-state', 'fe-server-client-state', 'fe-lifting-state', 'fe-context-api', 'fe-redux-zustand', 'fe-react-query', 'fe-url-state', 'fe-form-state', 'fe-state-normalization', 'fe-derived-state',
      // Data Fetching & APIs
      'fe-rest-graphql', 'fe-caching-strategies', 'fe-pagination', 'fe-optimistic-updates', 'fe-error-handling', 'fe-retry-backoff', 'fe-debounce-throttle', 'fe-parallel-sequential', 'fe-api-versioning', 'fe-bff-pattern',
      // Performance
      'fe-code-splitting', 'fe-lazy-loading', 'fe-tree-shaking', 'fe-memoization', 'fe-virtualization', 'fe-image-optimization', 'fe-bundle-analysis', 'fe-web-workers', 'fe-prefetch-preload', 'fe-cold-start',
      // Rendering Strategies
      'fe-csr', 'fe-ssr', 'fe-ssg', 'fe-isr', 'fe-streaming-suspense', 'fe-hydration', 'fe-edge-rendering',
      // Styling & Theming
      'fe-css-modules', 'fe-styled-components', 'fe-tailwind', 'fe-theming', 'fe-responsive-design', 'fe-dark-mode', 'fe-design-tokens', 'fe-animations', 'fe-layout-systems',
      // Accessibility
      'fe-semantic-html', 'fe-aria-roles', 'fe-keyboard-nav', 'fe-screen-reader', 'fe-color-contrast', 'fe-focus-management', 'fe-accessible-forms', 'fe-wcag', 'fe-a11y-testing',
      // Testing
      'fe-unit-testing', 'fe-component-testing', 'fe-integration-testing', 'fe-e2e-testing', 'fe-visual-regression', 'fe-accessibility-testing', 'fe-mocking-apis', 'fe-test-coverage', 'fe-flaky-tests',
      // Security
      'fe-xss', 'fe-csrf', 'fe-cors', 'fe-csp', 'fe-secure-cookies', 'fe-token-storage', 'fe-dependency-vulnerabilities', 'fe-input-sanitization',
      // Observability
      'fe-error-tracking', 'fe-performance-metrics', 'fe-custom-events', 'fe-session-replay', 'fe-feature-tracking', 'fe-slis-slos',
      // Build Tools
      'fe-bundlers', 'fe-transpilers', 'fe-linters', 'fe-formatters', 'fe-typescript', 'fe-module-resolution', 'fe-env-configs', 'fe-build-optimization',
      // Deployment
      'fe-cicd', 'fe-feature-flags', 'fe-canary-releases', 'fe-rollbacks', 'fe-cdn-strategy', 'fe-cache-busting', 'fe-environment-parity', 'fe-versioning',
      // Cross-Platform
      'fe-responsive-web', 'fe-pwa', 'fe-mobile-first', 'fe-browser-compat', 'fe-touch-pointer', 'fe-offline-support',
      // UX Engineering
      'fe-loading-states', 'fe-empty-states', 'fe-error-states', 'fe-user-feedback', 'fe-i18n', 'fe-l10n', 'fe-personalization', 'fe-ab-testing'
    ];

    // Get the appropriate order based on concept type
    function getConceptOrder(conceptId) {
      return conceptId.startsWith('fe-') ? frontendConceptOrder : backendConceptOrder;
    }

    // Get previous and next concepts
    function getNavigation(conceptId) {
      const order = getConceptOrder(conceptId);
      const currentIndex = order.indexOf(conceptId);
      return {
        prev: currentIndex > 0 ? order[currentIndex - 1] : null,
        next: currentIndex < order.length - 1 ? order[currentIndex + 1] : null
      };
    }

    // Concept data
    const concepts = {
      availability: {
        title: "Availability",
        subtitle: "The percentage of time a system remains operational and accessible to users under normal conditions.",
        badge: { text: "Core Principle", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `
          <style>
            .availability-viz {
              display: flex;
              flex-direction: column;
              gap: 30px;
              padding: 10px;
            }
            .avail-section {
              display: flex;
              gap: 30px;
              align-items: flex-start;
            }
            @media (max-width: 900px) {
              .avail-section { flex-direction: column; }
            }
            
            /* Server Cluster Visualization */
            .server-cluster {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .cluster-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cluster-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .servers-row {
              display: flex;
              gap: 12px;
              margin-bottom: 20px;
            }
            .server-box {
              flex: 1;
              background: rgba(16, 185, 129, 0.1);
              border: 1px solid rgba(16, 185, 129, 0.3);
              border-radius: 10px;
              padding: 16px 12px;
              text-align: center;
              position: relative;
              transition: all 0.3s ease;
            }
            .server-box.primary {
              background: rgba(59, 130, 246, 0.15);
              border-color: rgba(59, 130, 246, 0.4);
            }
            .server-box.standby {
              background: rgba(139, 92, 246, 0.1);
              border-color: rgba(139, 92, 246, 0.3);
            }
            .server-box.failed {
              background: rgba(239, 68, 68, 0.1);
              border-color: rgba(239, 68, 68, 0.4);
              animation: serverFail 2s ease-in-out infinite;
            }
            @keyframes serverFail {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 0.7; }
            }
            .server-icon {
              font-size: 1.5rem;
              margin-bottom: 6px;
            }
            .server-label {
              font-size: 0.7rem;
              color: #a0a0b0;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .server-status {
              position: absolute;
              top: -6px;
              right: -6px;
              width: 16px;
              height: 16px;
              border-radius: 50%;
              background: #10b981;
              border: 2px solid #0f1520;
              animation: pulse 2s infinite;
            }
            .server-status.standby-status {
              background: #8b5cf6;
              animation: none;
            }
            .server-status.failed-status {
              background: #ef4444;
              animation: none;
            }
            @keyframes pulse {
              0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.5); }
              50% { box-shadow: 0 0 0 6px rgba(16, 185, 129, 0); }
            }
            .failover-arrow {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 8px;
              color: #6b7280;
              font-size: 0.75rem;
              margin-top: 8px;
              padding: 10px;
              background: rgba(139, 92, 246, 0.1);
              border-radius: 8px;
              border: 1px dashed rgba(139, 92, 246, 0.3);
            }
            .failover-arrow span {
              animation: arrowMove 1.5s ease-in-out infinite;
            }
            @keyframes arrowMove {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(4px); }
            }
            
            /* Uptime Timeline */
            .uptime-timeline {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .timeline-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 16px;
            }
            .timeline-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .timeline-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .live-badge {
              font-size: 0.65rem;
              padding: 4px 10px;
              background: rgba(16, 185, 129, 0.2);
              color: #10b981;
              border-radius: 20px;
              display: flex;
              align-items: center;
              gap: 5px;
            }
            .live-badge::before {
              content: '';
              width: 6px;
              height: 6px;
              background: #10b981;
              border-radius: 50%;
              animation: livePulse 1s infinite;
            }
            @keyframes livePulse {
              0%, 100% { opacity: 1; }
              50% { opacity: 0.3; }
            }
            .timeline-bar {
              height: 40px;
              background: #1a1f2e;
              border-radius: 8px;
              display: flex;
              overflow: hidden;
              margin-bottom: 12px;
            }
            .timeline-segment {
              height: 100%;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.6rem;
              font-weight: 600;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            .segment-up {
              background: linear-gradient(90deg, #10b981, #059669);
              color: white;
              flex: 99.99;
            }
            .segment-down {
              background: linear-gradient(90deg, #ef4444, #dc2626);
              color: white;
              flex: 0.01;
              min-width: 3px;
            }
            .timeline-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .uptime-calc {
              margin-top: 16px;
              padding: 12px;
              background: rgba(16, 185, 129, 0.1);
              border-radius: 8px;
              text-align: center;
              font-family: 'JetBrains Mono', monospace;
              font-size: 0.85rem;
              color: #10b981;
            }
            
            /* Nines Table */
            .nines-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .nines-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .nines-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .nines-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 10px;
            }
            @media (max-width: 700px) {
              .nines-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .nine-card {
              background: rgba(30, 35, 50, 0.8);
              border-radius: 12px;
              padding: 16px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
              transition: all 0.3s ease;
            }
            .nine-card:hover {
              transform: translateY(-4px);
              border-color: rgba(245, 158, 11, 0.3);
            }
            .nine-card.highlight {
              border-color: rgba(16, 185, 129, 0.5);
              background: rgba(16, 185, 129, 0.1);
            }
            .nine-percent {
              font-size: 1.4rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .nine-card:nth-child(1) .nine-percent { color: #ef4444; }
            .nine-card:nth-child(2) .nine-percent { color: #f59e0b; }
            .nine-card:nth-child(3) .nine-percent { color: #3b82f6; }
            .nine-card:nth-child(4) .nine-percent { color: #10b981; }
            .nine-name {
              font-size: 0.7rem;
              color: #6b7280;
              text-transform: uppercase;
              letter-spacing: 0.5px;
              margin-bottom: 10px;
            }
            .nine-downtime {
              font-size: 0.75rem;
              color: #e5e5e5;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .nine-context {
              font-size: 0.65rem;
              color: #888;
              line-height: 1.4;
            }
            .nine-bar {
              height: 4px;
              background: #1a1f2e;
              border-radius: 2px;
              margin-top: 10px;
              overflow: hidden;
            }
            .nine-bar-fill {
              height: 100%;
              border-radius: 2px;
              transition: width 1s ease;
            }
            .nine-card:nth-child(1) .nine-bar-fill { width: 99%; background: #ef4444; }
            .nine-card:nth-child(2) .nine-bar-fill { width: 99.9%; background: #f59e0b; }
            .nine-card:nth-child(3) .nine-bar-fill { width: 99.99%; background: #3b82f6; }
            .nine-card:nth-child(4) .nine-bar-fill { width: 100%; background: #10b981; }
          </style>
          
          <div class="availability-viz">
            <!-- Top Row: Server Cluster + Uptime Timeline -->
            <div class="avail-section">
              <!-- Server Redundancy Visualization -->
              <div class="server-cluster">
                <div class="cluster-title">High Availability Cluster</div>
                <div class="servers-row">
                  <div class="server-box primary">
                    <div class="server-status"></div>
                    <div class="server-icon">üñ•Ô∏è</div>
                    <div class="server-label">Primary</div>
                  </div>
                  <div class="server-box primary">
                    <div class="server-status"></div>
                    <div class="server-icon">üñ•Ô∏è</div>
                    <div class="server-label">Primary</div>
                  </div>
                  <div class="server-box failed">
                    <div class="server-status failed-status"></div>
                    <div class="server-icon">üí•</div>
                    <div class="server-label">Failed</div>
                  </div>
                  <div class="server-box standby">
                    <div class="server-status standby-status"></div>
                    <div class="server-icon">üîÑ</div>
                    <div class="server-label">Standby</div>
                  </div>
                </div>
                <div class="failover-arrow">
                  <span>‚Üí</span> Automatic failover activates standby when server fails <span>‚Üí</span>
                </div>
              </div>
              
              <!-- Uptime Timeline -->
              <div class="uptime-timeline">
                <div class="timeline-header">
                  <div class="timeline-title">Annual Uptime (99.99%)</div>
                  <div class="live-badge">LIVE</div>
                </div>
                <div class="timeline-bar">
                  <div class="timeline-segment segment-up">OPERATIONAL</div>
                  <div class="timeline-segment segment-down"></div>
                </div>
                <div class="timeline-labels">
                  <span>Jan 1</span>
                  <span>‚Üë 52 min downtime</span>
                  <span>Dec 31</span>
                </div>
                <div class="uptime-calc">
                  (525,600 min ‚àí 52 min) √∑ 525,600 √ó 100 = 99.99%
                </div>
              </div>
            </div>
            
            <!-- Bottom Row: The Nines -->
            <div class="nines-section">
              <div class="nines-title">"The Nines" ‚Äî Industry Availability Levels</div>
              <div class="nines-grid">
                <div class="nine-card">
                  <div class="nine-percent">99%</div>
                  <div class="nine-name">Two Nines</div>
                  <div class="nine-downtime">3.65 days/year</div>
                  <div class="nine-context">Internal tools, dev environments</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
                <div class="nine-card">
                  <div class="nine-percent">99.9%</div>
                  <div class="nine-name">Three Nines</div>
                  <div class="nine-downtime">8.76 hours/year</div>
                  <div class="nine-context">Business apps, SaaS products</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
                <div class="nine-card highlight">
                  <div class="nine-percent">99.99%</div>
                  <div class="nine-name">Four Nines</div>
                  <div class="nine-downtime">52.6 min/year</div>
                  <div class="nine-context">E-commerce, banking, healthcare</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
                <div class="nine-card">
                  <div class="nine-percent">99.999%</div>
                  <div class="nine-name">Five Nines</div>
                  <div class="nine-downtime">5.26 min/year</div>
                  <div class="nine-context">Telecom, emergency services</div>
                  <div class="nine-bar"><div class="nine-bar-fill"></div></div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Availability</strong> measures the proportion of time a system is functional and working. It's typically expressed as a percentage of uptime over a given period (e.g., 99.9% availability means ~8.76 hours of downtime per year).</p>
          <p>High availability is crucial for systems where downtime directly impacts business revenue, user trust, or critical operations. It's often measured in "nines" ‚Äì each additional nine represents a 10x reduction in allowed downtime.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Redundancy", desc: "Deploy multiple instances of critical components to eliminate single points of failure.", color: "#3b82f6" },
          { icon: "‚öñÔ∏è", title: "Load Balancing", desc: "Distribute traffic across multiple servers to prevent any single server from becoming overwhelmed.", color: "#8b5cf6" },
          { icon: "üîÄ", title: "Failover Mechanisms", desc: "Automatically switch to backup systems when primary systems fail.", color: "#10b981" },
          { icon: "‚ù§Ô∏è", title: "Health Monitoring", desc: "Continuously monitor system health and detect failures quickly to minimize downtime.", color: "#ef4444" }
        ],
        formula: "Availability = (Total Time - Downtime) / Total Time √ó 100%",
        strategies: [
          { title: "Active-Passive Failover", desc: "Maintain standby replicas that can take over when primary systems fail. The passive system monitors the active one and activates upon failure detection." },
          { title: "Active-Active Configuration", desc: "Run multiple active instances simultaneously, distributing load and providing immediate failover without switchover delay." },
          { title: "Geographic Distribution", desc: "Deploy across multiple data centers or cloud regions to survive regional outages and reduce latency for global users." },
          { title: "Automated Recovery", desc: "Implement self-healing mechanisms that automatically restart failed services, replace unhealthy instances, and restore system state." }
        ],
        metrics: [
          { level: "99%", downtime: "3.65 days/year", useCase: "Internal tools, batch processing" },
          { level: "99.9%", downtime: "8.76 hours/year", useCase: "Business applications" },
          { level: "99.99%", downtime: "52.6 minutes/year", useCase: "E-commerce, banking" },
          { level: "99.999%", downtime: "5.26 minutes/year", useCase: "Critical infrastructure" }
        ]
      },
      reliability: {
        title: "Reliability",
        subtitle: "The probability that a system will perform its intended function without failure for a specified period of time.",
        badge: { text: "Core Principle", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .reliability-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .reliability-row {
              display: flex;
              gap: 24px;
            }
            @media (max-width: 900px) {
              .reliability-row { flex-direction: column; }
            }
            
            /* MTBF/MTTR Timeline */
            .mtbf-section {
              flex: 2;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .mtbf-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .mtbf-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .timeline-track {
              position: relative;
              height: 60px;
              background: linear-gradient(90deg, #10b981 0%, #10b981 30%, #ef4444 30%, #ef4444 35%, #f59e0b 35%, #f59e0b 40%, #10b981 40%, #10b981 75%, #ef4444 75%, #ef4444 80%, #f59e0b 80%, #f59e0b 85%, #10b981 85%, #10b981 100%);
              border-radius: 8px;
              margin-bottom: 16px;
              overflow: hidden;
            }
            .timeline-labels-row {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
            }
            .timeline-label {
              display: flex;
              align-items: center;
              gap: 6px;
              font-size: 0.7rem;
              color: #a0a0b0;
            }
            .label-dot {
              width: 10px;
              height: 10px;
              border-radius: 3px;
            }
            .label-dot.operational { background: #10b981; }
            .label-dot.failure { background: #ef4444; }
            .label-dot.recovery { background: #f59e0b; }
            .mtbf-metrics {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 12px;
              margin-top: 16px;
            }
            .mtbf-metric {
              background: rgba(30, 35, 50, 0.8);
              border-radius: 10px;
              padding: 14px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .mtbf-metric-value {
              font-size: 1.3rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .mtbf-metric:nth-child(1) .mtbf-metric-value { color: #10b981; }
            .mtbf-metric:nth-child(2) .mtbf-metric-value { color: #ef4444; }
            .mtbf-metric:nth-child(3) .mtbf-metric-value { color: #f59e0b; }
            .mtbf-metric-label {
              font-size: 0.7rem;
              color: #6b7280;
              text-transform: uppercase;
              letter-spacing: 0.5px;
            }
            
            /* Fault Handling Demo */
            .fault-demo {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .fault-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .fault-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .fault-flow {
              display: flex;
              flex-direction: column;
              gap: 10px;
            }
            .fault-step {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 10px 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 8px;
              border-left: 3px solid;
              font-size: 0.85rem;
            }
            .fault-step:nth-child(1) { border-color: #ef4444; }
            .fault-step:nth-child(2) { border-color: #f59e0b; }
            .fault-step:nth-child(3) { border-color: #3b82f6; }
            .fault-step:nth-child(4) { border-color: #10b981; }
            .fault-step-icon {
              font-size: 1.1rem;
            }
            .fault-step-text {
              color: #e5e5e5;
            }
            .fault-arrow {
              text-align: center;
              color: #4b5563;
              font-size: 0.9rem;
            }
            
            /* Reliability Comparison */
            .reliability-compare {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .compare-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .compare-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .compare-grid {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 16px;
            }
            @media (max-width: 600px) {
              .compare-grid { grid-template-columns: 1fr; }
            }
            .compare-card {
              padding: 20px;
              border-radius: 12px;
              text-align: center;
            }
            .compare-card.brittle {
              background: rgba(239, 68, 68, 0.1);
              border: 1px solid rgba(239, 68, 68, 0.3);
            }
            .compare-card.reliable {
              background: rgba(16, 185, 129, 0.1);
              border: 1px solid rgba(16, 185, 129, 0.3);
            }
            .compare-icon {
              font-size: 2rem;
              margin-bottom: 10px;
            }
            .compare-label {
              font-weight: 600;
              margin-bottom: 12px;
              font-size: 0.95rem;
            }
            .compare-card.brittle .compare-label { color: #ef4444; }
            .compare-card.reliable .compare-label { color: #10b981; }
            .compare-items {
              display: flex;
              flex-direction: column;
              gap: 6px;
              text-align: left;
            }
            .compare-item {
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.8rem;
              color: #a0a0b0;
            }
            .compare-item-icon {
              font-size: 0.75rem;
            }
          </style>
          
          <div class="reliability-viz">
            <div class="reliability-row">
              <!-- MTBF/MTTR Timeline -->
              <div class="mtbf-section">
                <div class="mtbf-title">System Reliability Timeline</div>
                <div class="timeline-labels-row">
                  <div class="timeline-label"><div class="label-dot operational"></div> Operational</div>
                  <div class="timeline-label"><div class="label-dot failure"></div> Failure</div>
                  <div class="timeline-label"><div class="label-dot recovery"></div> Recovery</div>
                </div>
                <div class="timeline-track"></div>
                <div class="mtbf-metrics">
                  <div class="mtbf-metric">
                    <div class="mtbf-metric-value">720h</div>
                    <div class="mtbf-metric-label">MTBF (Mean Time Between Failures)</div>
                  </div>
                  <div class="mtbf-metric">
                    <div class="mtbf-metric-value">2.3h</div>
                    <div class="mtbf-metric-label">MTTF (Mean Time To Failure)</div>
                  </div>
                  <div class="mtbf-metric">
                    <div class="mtbf-metric-value">15min</div>
                    <div class="mtbf-metric-label">MTTR (Mean Time To Recovery)</div>
                  </div>
                </div>
              </div>
              
              <!-- Fault Handling Flow -->
              <div class="fault-demo">
                <div class="fault-title">Fault Handling Flow</div>
                <div class="fault-flow">
                  <div class="fault-step">
                    <span class="fault-step-icon">üí•</span>
                    <span class="fault-step-text">Failure Occurs</span>
                  </div>
                  <div class="fault-arrow">‚Üì</div>
                  <div class="fault-step">
                    <span class="fault-step-icon">üîî</span>
                    <span class="fault-step-text">Detection & Alert</span>
                  </div>
                  <div class="fault-arrow">‚Üì</div>
                  <div class="fault-step">
                    <span class="fault-step-icon">üîÑ</span>
                    <span class="fault-step-text">Automatic Retry/Failover</span>
                  </div>
                  <div class="fault-arrow">‚Üì</div>
                  <div class="fault-step">
                    <span class="fault-step-icon">‚úÖ</span>
                    <span class="fault-step-text">Service Restored</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Brittle vs Reliable Comparison -->
            <div class="reliability-compare">
              <div class="compare-title">Brittle System vs Reliable System</div>
              <div class="compare-grid">
                <div class="compare-card brittle">
                  <div class="compare-icon">üèöÔ∏è</div>
                  <div class="compare-label">Brittle System</div>
                  <div class="compare-items">
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Single point of failure</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Cascading failures</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> No error handling</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Data loss on crash</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úó</span> Manual recovery only</div>
                  </div>
                </div>
                <div class="compare-card reliable">
                  <div class="compare-icon">üèõÔ∏è</div>
                  <div class="compare-label">Reliable System</div>
                  <div class="compare-items">
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Redundant components</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Bulkhead isolation</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Graceful degradation</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Data durability</div>
                    <div class="compare-item"><span class="compare-item-icon">‚úì</span> Auto-recovery</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Reliability</strong> refers to a system's ability to consistently perform its intended functions correctly and without failure. Unlike availability which measures uptime, reliability focuses on correctness of operation.</p>
          <p>A reliable system handles hardware faults, software errors, and human mistakes gracefully. It maintains data integrity, provides consistent results, and recovers from failures without data loss.</p>
        `,
        keyPoints: [
          { icon: "üõ°Ô∏è", title: "Fault Tolerance", desc: "Design systems to continue operating properly even when components fail.", color: "#8b5cf6" },
          { icon: "‚úÖ", title: "Data Integrity", desc: "Ensure data remains accurate, consistent, and uncorrupted throughout its lifecycle.", color: "#10b981" },
          { icon: "üîç", title: "Error Detection", desc: "Implement comprehensive monitoring to detect and alert on errors quickly.", color: "#f59e0b" },
          { icon: "üß™", title: "Thorough Testing", desc: "Use extensive testing including chaos engineering to validate reliability.", color: "#ef4444" }
        ],
        formula: "MTBF = Total Operating Time / Number of Failures",
        strategies: [
          { title: "Redundant Components", desc: "Use redundancy at every level - hardware, network, data storage - to ensure no single failure causes system-wide issues." },
          { title: "Graceful Error Handling", desc: "Implement comprehensive error handling that logs issues, notifies operators, and provides meaningful feedback without crashing." },
          { title: "Chaos Engineering", desc: "Regularly inject failures into production systems to test and improve reliability under real-world conditions." },
          { title: "Immutable Infrastructure", desc: "Use infrastructure as code and immutable deployments to ensure consistent, reproducible, and reliable environments." }
        ],
        metrics: [
          { level: "MTBF", downtime: "Mean Time Between Failures", useCase: "Average time system operates before failure" },
          { level: "MTTR", downtime: "Mean Time To Recovery", useCase: "Average time to restore after failure" },
          { level: "Error Rate", downtime: "Errors per request", useCase: "Percentage of failed operations" },
          { level: "Data Loss", downtime: "RPO/RTO metrics", useCase: "Data recovery point/time objectives" }
        ]
      },
      scalability: {
        title: "Scalability",
        subtitle: "The capability of a system to handle growing amounts of work by adding resources to the system.",
        badge: { text: "Core Principle", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .scalability-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .scale-comparison {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
            }
            @media (max-width: 800px) {
              .scale-comparison { grid-template-columns: 1fr; }
            }
            
            /* Scaling Type Cards */
            .scale-type {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .scale-type.vertical { border-color: rgba(59, 130, 246, 0.3); }
            .scale-type.horizontal { border-color: rgba(16, 185, 129, 0.3); }
            .scale-header {
              display: flex;
              align-items: center;
              gap: 12px;
              margin-bottom: 20px;
            }
            .scale-icon {
              width: 44px;
              height: 44px;
              border-radius: 10px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.4rem;
            }
            .vertical .scale-icon { background: rgba(59, 130, 246, 0.2); }
            .horizontal .scale-icon { background: rgba(16, 185, 129, 0.2); }
            .scale-title-text {
              font-weight: 600;
              font-size: 1rem;
            }
            .vertical .scale-title-text { color: #3b82f6; }
            .horizontal .scale-title-text { color: #10b981; }
            .scale-subtitle {
              font-size: 0.75rem;
              color: #6b7280;
            }
            
            /* Vertical Scaling Animation */
            .vertical-demo {
              display: flex;
              justify-content: center;
              gap: 16px;
              align-items: flex-end;
              height: 140px;
              margin-bottom: 16px;
            }
            .server-tower {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 4px;
            }
            .server-tower.before .tower-box {
              width: 50px;
              height: 60px;
              background: rgba(59, 130, 246, 0.2);
              border: 1px solid rgba(59, 130, 246, 0.4);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .server-tower.after .tower-box {
              width: 70px;
              height: 100px;
              background: linear-gradient(180deg, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.15));
              border: 2px solid rgba(59, 130, 246, 0.6);
              border-radius: 8px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              gap: 4px;
              animation: growTower 2s ease-in-out infinite alternate;
            }
            @keyframes growTower {
              0% { transform: scaleY(0.85); }
              100% { transform: scaleY(1); }
            }
            .tower-label {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 6px;
            }
            .tower-stats {
              font-size: 0.6rem;
              color: #3b82f6;
            }
            .scale-arrow {
              font-size: 1.2rem;
              color: #4b5563;
              margin-bottom: 40px;
            }
            
            /* Horizontal Scaling Animation */
            .horizontal-demo {
              display: flex;
              flex-direction: column;
              gap: 12px;
              margin-bottom: 16px;
            }
            .servers-line {
              display: flex;
              gap: 8px;
              justify-content: center;
              flex-wrap: wrap;
            }
            .servers-line.before .mini-server {
              width: 40px;
              height: 40px;
              background: rgba(16, 185, 129, 0.2);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.9rem;
            }
            .servers-line.after .mini-server {
              width: 40px;
              height: 40px;
              background: rgba(16, 185, 129, 0.2);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.9rem;
              animation: popIn 0.5s ease-out;
            }
            .servers-line.after .mini-server:nth-child(3),
            .servers-line.after .mini-server:nth-child(4),
            .servers-line.after .mini-server:nth-child(5) {
              border-color: rgba(16, 185, 129, 0.7);
              background: rgba(16, 185, 129, 0.3);
            }
            .servers-line.after .mini-server.new {
              animation: pulse-new 1.5s ease-in-out infinite;
            }
            @keyframes pulse-new {
              0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.4); }
              50% { box-shadow: 0 0 0 8px rgba(16, 185, 129, 0); }
            }
            .horiz-arrow {
              text-align: center;
              color: #4b5563;
              font-size: 1rem;
            }
            .horiz-label {
              text-align: center;
              font-size: 0.65rem;
              color: #6b7280;
            }
            
            /* Pros/Cons */
            .scale-pros-cons {
              display: flex;
              gap: 16px;
              font-size: 0.75rem;
            }
            .pro, .con {
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .pro { color: #10b981; }
            .con { color: #ef4444; }
            
            /* Load Graph */
            .load-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .load-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .load-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .load-graph {
              display: flex;
              align-items: flex-end;
              gap: 3px;
              height: 80px;
              padding: 10px;
              background: rgba(15, 20, 30, 0.5);
              border-radius: 8px;
              margin-bottom: 12px;
            }
            .load-bar {
              flex: 1;
              background: linear-gradient(180deg, #10b981, #059669);
              border-radius: 2px 2px 0 0;
              min-height: 8px;
              transition: height 0.3s ease;
            }
            .load-bar:nth-child(1) { height: 20%; }
            .load-bar:nth-child(2) { height: 25%; }
            .load-bar:nth-child(3) { height: 35%; }
            .load-bar:nth-child(4) { height: 45%; }
            .load-bar:nth-child(5) { height: 55%; }
            .load-bar:nth-child(6) { height: 60%; }
            .load-bar:nth-child(7) { height: 70%; }
            .load-bar:nth-child(8) { height: 80%; background: linear-gradient(180deg, #f59e0b, #d97706); }
            .load-bar:nth-child(9) { height: 90%; background: linear-gradient(180deg, #f59e0b, #d97706); }
            .load-bar:nth-child(10) { height: 95%; background: linear-gradient(180deg, #ef4444, #dc2626); animation: loadPulse 1s ease-in-out infinite; }
            .load-bar:nth-child(11) { height: 60%; background: linear-gradient(180deg, #10b981, #059669); }
            .load-bar:nth-child(12) { height: 40%; background: linear-gradient(180deg, #10b981, #059669); }
            .load-bar:nth-child(13) { height: 35%; }
            .load-bar:nth-child(14) { height: 30%; }
            .load-bar:nth-child(15) { height: 25%; }
            @keyframes loadPulse {
              0%, 100% { opacity: 0.8; }
              50% { opacity: 1; }
            }
            .load-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .scale-event {
              display: inline-flex;
              align-items: center;
              gap: 6px;
              padding: 4px 10px;
              background: rgba(16, 185, 129, 0.15);
              border-radius: 20px;
              font-size: 0.7rem;
              color: #10b981;
              margin-top: 10px;
            }
          </style>
          
          <div class="scalability-viz">
            <!-- Horizontal vs Vertical Comparison -->
            <div class="scale-comparison">
              <!-- Vertical Scaling -->
              <div class="scale-type vertical">
                <div class="scale-header">
                  <div class="scale-icon">‚ÜïÔ∏è</div>
                  <div>
                    <div class="scale-title-text">Vertical Scaling</div>
                    <div class="scale-subtitle">Scale Up ‚Äî Add more power</div>
                  </div>
                </div>
                <div class="vertical-demo">
                  <div class="server-tower before">
                    <div class="tower-box">4GB<br>2 CPU</div>
                    <div class="tower-label">Before</div>
                  </div>
                  <div class="scale-arrow">‚Üí</div>
                  <div class="server-tower after">
                    <div class="tower-box">
                      <div class="tower-stats">64GB</div>
                      <div class="tower-stats">16 CPU</div>
                      <div class="tower-stats">SSD</div>
                    </div>
                    <div class="tower-label">After</div>
                  </div>
                </div>
                <div class="scale-pros-cons">
                  <span class="pro">‚úì Simple</span>
                  <span class="con">‚úó Has limits</span>
                  <span class="con">‚úó Single point</span>
                </div>
              </div>
              
              <!-- Horizontal Scaling -->
              <div class="scale-type horizontal">
                <div class="scale-header">
                  <div class="scale-icon">‚ÜîÔ∏è</div>
                  <div>
                    <div class="scale-title-text">Horizontal Scaling</div>
                    <div class="scale-subtitle">Scale Out ‚Äî Add more machines</div>
                  </div>
                </div>
                <div class="horizontal-demo">
                  <div class="horiz-label">2 instances</div>
                  <div class="servers-line before">
                    <div class="mini-server">üñ•Ô∏è</div>
                    <div class="mini-server">üñ•Ô∏è</div>
                  </div>
                  <div class="horiz-arrow">‚Üì Auto-scale triggered ‚Üì</div>
                  <div class="horiz-label">5 instances</div>
                  <div class="servers-line after">
                    <div class="mini-server">üñ•Ô∏è</div>
                    <div class="mini-server">üñ•Ô∏è</div>
                    <div class="mini-server new">üñ•Ô∏è</div>
                    <div class="mini-server new">üñ•Ô∏è</div>
                    <div class="mini-server new">üñ•Ô∏è</div>
                  </div>
                </div>
                <div class="scale-pros-cons">
                  <span class="pro">‚úì No limits</span>
                  <span class="pro">‚úì Redundant</span>
                  <span class="con">‚úó Complex</span>
                </div>
              </div>
            </div>
            
            <!-- Load Graph with Auto-scaling -->
            <div class="load-section">
              <div class="load-title">Traffic Spike & Auto-Scaling Response</div>
              <div class="load-graph">
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
                <div class="load-bar"></div>
              </div>
              <div class="load-labels">
                <span>Normal load</span>
                <span style="color: #ef4444;">‚Üê Peak (scale up) ‚Üí</span>
                <span>Scale down</span>
              </div>
              <div class="scale-event">
                <span>üìà</span> New instances provisioned in 45 seconds
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Scalability</strong> is the property of a system to handle a growing amount of work by adding resources. A scalable system can accommodate increased load without significant performance degradation.</p>
          <p>There are two primary types: <strong>Vertical Scaling</strong> (scaling up by adding more power to existing machines) and <strong>Horizontal Scaling</strong> (scaling out by adding more machines to the pool).</p>
        `,
        keyPoints: [
          { icon: "‚ÜîÔ∏è", title: "Horizontal Scaling", desc: "Add more machines to distribute load. Better for handling massive scale and provides redundancy.", color: "#10b981" },
          { icon: "‚ÜïÔ∏è", title: "Vertical Scaling", desc: "Upgrade existing hardware with more CPU, RAM, or storage. Simpler but has physical limits.", color: "#3b82f6" },
          { icon: "üìä", title: "Database Sharding", desc: "Partition data across multiple databases to handle larger datasets and higher throughput.", color: "#8b5cf6" },
          { icon: "‚ö°", title: "Caching Layers", desc: "Use in-memory caches to reduce database load and improve response times.", color: "#f59e0b" }
        ],
        formula: "Scalability = Throughput at N nodes / (N √ó Throughput at 1 node)",
        strategies: [
          { title: "Stateless Architecture", desc: "Design services to be stateless so any instance can handle any request, enabling easy horizontal scaling." },
          { title: "Database Read Replicas", desc: "Create read replicas to distribute read queries and reduce load on the primary database." },
          { title: "Microservices Decomposition", desc: "Break monolith into independent services that can be scaled individually based on demand." },
          { title: "Auto-scaling Groups", desc: "Use cloud auto-scaling to automatically add or remove instances based on traffic patterns and metrics." }
        ],
        metrics: [
          { level: "Throughput", downtime: "Requests per second", useCase: "Measure system capacity" },
          { level: "Latency P99", downtime: "99th percentile response time", useCase: "User experience under load" },
          { level: "Linear Scaling", downtime: "Cost grows linearly with load", useCase: "Economic efficiency" },
          { level: "Elasticity", downtime: "Time to scale up/down", useCase: "Response to demand changes" }
        ]
      },
      consistency: {
        title: "Consistency",
        subtitle: "The property that ensures all nodes in a distributed system have the same data at the same time.",
        badge: { text: "Data Management", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .consistency-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .consistency-demo {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 20px;
            }
            @media (max-width: 800px) {
              .consistency-demo { grid-template-columns: 1fr; }
            }
            .cons-scenario {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 20px;
              border: 1px solid rgba(255, 255, 255, 0.1);
            }
            .cons-scenario.strong { border-color: rgba(16, 185, 129, 0.3); }
            .cons-scenario.eventual { border-color: rgba(245, 158, 11, 0.3); }
            .cons-header {
              display: flex;
              align-items: center;
              gap: 10px;
              margin-bottom: 16px;
            }
            .cons-icon {
              width: 36px;
              height: 36px;
              border-radius: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.2rem;
            }
            .strong .cons-icon { background: rgba(16, 185, 129, 0.2); }
            .eventual .cons-icon { background: rgba(245, 158, 11, 0.2); }
            .cons-title {
              font-weight: 600;
              font-size: 0.95rem;
            }
            .strong .cons-title { color: #10b981; }
            .eventual .cons-title { color: #f59e0b; }
            .cons-nodes {
              display: flex;
              justify-content: center;
              gap: 12px;
              margin-bottom: 12px;
            }
            .cons-node {
              width: 60px;
              height: 50px;
              border-radius: 8px;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: center;
              font-size: 0.7rem;
              border: 1px solid;
              transition: all 0.3s ease;
            }
            .cons-node-icon { font-size: 1rem; margin-bottom: 2px; }
            .cons-node.synced {
              background: rgba(16, 185, 129, 0.15);
              border-color: rgba(16, 185, 129, 0.4);
              color: #10b981;
            }
            .cons-node.stale {
              background: rgba(245, 158, 11, 0.15);
              border-color: rgba(245, 158, 11, 0.4);
              color: #f59e0b;
            }
            .cons-node.updating {
              animation: nodePulse 1s ease-in-out infinite;
            }
            @keyframes nodePulse {
              0%, 100% { opacity: 0.6; }
              50% { opacity: 1; }
            }
            .cons-timeline {
              text-align: center;
              font-size: 0.75rem;
              color: #6b7280;
              padding: 8px;
              background: rgba(30, 35, 50, 0.5);
              border-radius: 6px;
            }
            .cons-timeline span {
              font-weight: 500;
            }
            .strong .cons-timeline span { color: #10b981; }
            .eventual .cons-timeline span { color: #f59e0b; }
            
            /* Models Spectrum */
            .models-spectrum {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(236, 72, 153, 0.2);
            }
            .spectrum-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .spectrum-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ec4899;
              border-radius: 50%;
            }
            .spectrum-bar {
              height: 12px;
              background: linear-gradient(90deg, #10b981 0%, #3b82f6 33%, #8b5cf6 66%, #f59e0b 100%);
              border-radius: 6px;
              margin-bottom: 16px;
            }
            .spectrum-labels {
              display: flex;
              justify-content: space-between;
              margin-bottom: 20px;
            }
            .spectrum-label {
              text-align: center;
              font-size: 0.7rem;
            }
            .spectrum-label-name {
              font-weight: 500;
              margin-bottom: 2px;
            }
            .spectrum-label:nth-child(1) .spectrum-label-name { color: #10b981; }
            .spectrum-label:nth-child(2) .spectrum-label-name { color: #3b82f6; }
            .spectrum-label:nth-child(3) .spectrum-label-name { color: #8b5cf6; }
            .spectrum-label:nth-child(4) .spectrum-label-name { color: #f59e0b; }
            .spectrum-label-desc {
              color: #6b7280;
              font-size: 0.65rem;
            }
            .spectrum-tradeoff {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 12px;
              background: rgba(30, 35, 50, 0.5);
              border-radius: 8px;
              font-size: 0.75rem;
            }
            .tradeoff-item {
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .tradeoff-item.perf { color: #10b981; }
            .tradeoff-item.cons { color: #ec4899; }
          </style>
          
          <div class="consistency-viz">
            <!-- Strong vs Eventual Demo -->
            <div class="consistency-demo">
              <div class="cons-scenario strong">
                <div class="cons-header">
                  <div class="cons-icon">üí™</div>
                  <div class="cons-title">Strong Consistency</div>
                </div>
                <div class="cons-nodes">
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                </div>
                <div class="cons-timeline">All nodes show <span>same data instantly</span></div>
              </div>
              
              <div class="cons-scenario eventual">
                <div class="cons-header">
                  <div class="cons-icon">‚è≥</div>
                  <div class="cons-title">Eventual Consistency</div>
                </div>
                <div class="cons-nodes">
                  <div class="cons-node synced">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v5</span>
                  </div>
                  <div class="cons-node stale updating">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v4</span>
                  </div>
                  <div class="cons-node stale updating">
                    <span class="cons-node-icon">üñ•Ô∏è</span>
                    <span>v3</span>
                  </div>
                </div>
                <div class="cons-timeline">Nodes <span>converge over time</span></div>
              </div>
            </div>
            
            <!-- Consistency Models Spectrum -->
            <div class="models-spectrum">
              <div class="spectrum-title">Consistency Models Spectrum</div>
              <div class="spectrum-bar"></div>
              <div class="spectrum-labels">
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Linearizable</div>
                  <div class="spectrum-label-desc">Real-time order</div>
                </div>
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Sequential</div>
                  <div class="spectrum-label-desc">Global order</div>
                </div>
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Causal</div>
                  <div class="spectrum-label-desc">Cause ‚Üí Effect</div>
                </div>
                <div class="spectrum-label">
                  <div class="spectrum-label-name">Eventual</div>
                  <div class="spectrum-label-desc">Eventually same</div>
                </div>
              </div>
              <div class="spectrum-tradeoff">
                <div class="tradeoff-item cons">‚Üê Stronger Guarantees</div>
                <div style="color: #6b7280;">Trade-off</div>
                <div class="tradeoff-item perf">Better Performance ‚Üí</div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Consistency</strong> in distributed systems ensures that all clients see the same data at the same time, regardless of which node they connect to. It's about maintaining data correctness across replicas.</p>
          <p>The trade-off between consistency and availability is fundamental in distributed systems (CAP theorem). Different consistency models offer different guarantees based on application requirements.</p>
        `,
        keyPoints: [
          { icon: "üí™", title: "Strong Consistency", desc: "All reads receive the most recent write. Provides simplest programming model but may impact availability.", color: "#ec4899" },
          { icon: "‚è≥", title: "Eventual Consistency", desc: "All replicas will eventually converge to the same state. Higher availability but temporary inconsistency.", color: "#8b5cf6" },
          { icon: "üîÄ", title: "Causal Consistency", desc: "Operations that are causally related are seen in the same order by all nodes.", color: "#10b981" },
          { icon: "üìù", title: "Read-Your-Writes", desc: "A client always sees their own writes immediately, even if other clients don't yet.", color: "#3b82f6" }
        ],
        formula: "Consistency Models: Strong > Sequential > Causal > Eventual",
        strategies: [
          { title: "Consensus Protocols", desc: "Use algorithms like Paxos or Raft to achieve agreement among distributed nodes on data values." },
          { title: "Quorum-based Replication", desc: "Require a majority of nodes to acknowledge writes before confirming, balancing consistency and availability." },
          { title: "Vector Clocks", desc: "Track causality between events to detect and resolve conflicts in eventually consistent systems." },
          { title: "Conflict Resolution", desc: "Define rules for handling concurrent updates - last-write-wins, merge strategies, or application-specific logic." }
        ],
        metrics: [
          { level: "Linearizable", downtime: "Real-time ordering", useCase: "Financial transactions" },
          { level: "Sequential", downtime: "Global order preserved", useCase: "Audit logs" },
          { level: "Causal", downtime: "Cause-effect ordering", useCase: "Social media feeds" },
          { level: "Eventual", downtime: "Converges over time", useCase: "DNS, shopping carts" }
        ]
      },
      "cap-theorem": {
        title: "CAP Theorem",
        subtitle: "In a distributed system, you can only guarantee two of three properties: Consistency, Availability, and Partition Tolerance.",
        badge: { text: "Fundamental Theory", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <div style="display: flex; flex-direction: column; align-items: center; gap: 30px;">
            <svg width="300" height="260" viewBox="0 0 300 260">
              <!-- Triangle -->
              <polygon points="150,20 280,220 20,220" fill="none" stroke="#f59e0b" stroke-width="3"/>
              
              <!-- Vertices -->
              <circle cx="150" cy="20" r="40" fill="rgba(59, 130, 246, 0.2)" stroke="#3b82f6" stroke-width="2"/>
              <text x="150" y="25" text-anchor="middle" fill="#3b82f6" font-weight="bold" font-size="14">C</text>
              
              <circle cx="280" cy="220" r="40" fill="rgba(16, 185, 129, 0.2)" stroke="#10b981" stroke-width="2"/>
              <text x="280" y="225" text-anchor="middle" fill="#10b981" font-weight="bold" font-size="14">A</text>
              
              <circle cx="20" cy="220" r="40" fill="rgba(139, 92, 246, 0.2)" stroke="#8b5cf6" stroke-width="2"/>
              <text x="20" y="225" text-anchor="middle" fill="#8b5cf6" font-weight="bold" font-size="14">P</text>
              
              <!-- Edge Labels -->
              <text x="215" y="100" fill="#a0a0b0" font-size="11">CA</text>
              <text x="75" y="100" fill="#a0a0b0" font-size="11">CP</text>
              <text x="150" y="240" fill="#a0a0b0" font-size="11">AP</text>
            </svg>
            <div style="display: flex; gap: 24px; flex-wrap: wrap; justify-content: center;">
              <div style="text-align: center;">
                <div style="color: #3b82f6; font-weight: 600;">Consistency</div>
                <div style="color: #a0a0b0; font-size: 0.85rem;">Same data everywhere</div>
              </div>
              <div style="text-align: center;">
                <div style="color: #10b981; font-weight: 600;">Availability</div>
                <div style="color: #a0a0b0; font-size: 0.85rem;">Always responds</div>
              </div>
              <div style="text-align: center;">
                <div style="color: #8b5cf6; font-weight: 600;">Partition Tolerance</div>
                <div style="color: #a0a0b0; font-size: 0.85rem;">Survives network splits</div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>The <strong>CAP Theorem</strong> (Brewer's Theorem) states that a distributed data store cannot simultaneously provide more than two of three guarantees: Consistency, Availability, and Partition Tolerance.</p>
          <p>Since network partitions are inevitable in distributed systems, the real choice is between <strong>CP</strong> (consistency over availability during partitions) or <strong>AP</strong> (availability over consistency during partitions).</p>
        `,
        keyPoints: [
          { icon: "üîó", title: "Consistency (C)", desc: "Every read receives the most recent write or an error. All nodes see the same data.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Availability (A)", desc: "Every request receives a response, without guarantee it contains the most recent write.", color: "#10b981" },
          { icon: "üîÄ", title: "Partition Tolerance (P)", desc: "System continues to operate despite network partitions between nodes.", color: "#8b5cf6" },
          { icon: "‚öñÔ∏è", title: "Trade-offs", desc: "Choose CP for banking/inventory; AP for social media/caching. PACELC extends CAP.", color: "#f59e0b" }
        ],
        formula: "Pick 2: Consistency + Availability + Partition Tolerance",
        strategies: [
          { title: "CP Systems (e.g., MongoDB, HBase)", desc: "Prioritize consistency. During partitions, may refuse writes to maintain consistency across nodes." },
          { title: "AP Systems (e.g., Cassandra, DynamoDB)", desc: "Prioritize availability. Accept writes during partitions, resolve conflicts later with eventual consistency." },
          { title: "PACELC Extension", desc: "Extends CAP: if Partition, choose A or C; Else (normal operation), choose Latency or Consistency." },
          { title: "Tunable Consistency", desc: "Some systems allow per-query consistency levels, letting developers choose the right trade-off per operation." }
        ],
        metrics: [
          { level: "CP", downtime: "PostgreSQL, MongoDB", useCase: "Banking, inventory systems" },
          { level: "AP", downtime: "Cassandra, CouchDB", useCase: "Social media, IoT" },
          { level: "CA", downtime: "Single-node RDBMS", useCase: "Small-scale apps (no partitions)" },
          { level: "Tunable", downtime: "Cosmos DB, Cassandra", useCase: "Flexible per-operation choice" }
        ]
      },
      "load-balancing": {
        title: "Load Balancing",
        subtitle: "The process of distributing network traffic across multiple servers to ensure no single server becomes overwhelmed.",
        badge: { text: "Architecture Pattern", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .lb-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .lb-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(6, 182, 212, 0.2);
            }
            .lb-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .lb-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #06b6d4;
              border-radius: 50%;
            }
            .lb-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .lb-users {
              display: flex;
              gap: 8px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .lb-user {
              padding: 8px 12px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.3);
              border-radius: 6px;
              font-size: 0.75rem;
              display: flex;
              align-items: center;
              gap: 4px;
              animation: userFlow 2s ease-in-out infinite;
            }
            .lb-user:nth-child(2) { animation-delay: 0.3s; }
            .lb-user:nth-child(3) { animation-delay: 0.6s; }
            .lb-user:nth-child(4) { animation-delay: 0.9s; }
            .lb-user:nth-child(5) { animation-delay: 1.2s; }
            @keyframes userFlow {
              0%, 100% { transform: translateY(0); opacity: 0.7; }
              50% { transform: translateY(3px); opacity: 1; }
            }
            .lb-arrows-down {
              display: flex;
              gap: 20px;
              color: #06b6d4;
              font-size: 1rem;
            }
            .lb-balancer {
              padding: 20px 50px;
              background: linear-gradient(135deg, #06b6d4, #0891b2);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(6, 182, 212, 0.3);
              position: relative;
            }
            .lb-balancer-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .lb-balancer-text {
              font-weight: 600;
              font-size: 1.1rem;
            }
            .lb-balancer-sub {
              font-size: 0.7rem;
              opacity: 0.8;
              margin-top: 4px;
            }
            .lb-distribution {
              display: flex;
              gap: 8px;
              color: #06b6d4;
              font-size: 0.9rem;
            }
            .lb-dist-arrow {
              animation: distFlow 1s ease-in-out infinite;
            }
            .lb-dist-arrow:nth-child(1) { animation-delay: 0s; }
            .lb-dist-arrow:nth-child(2) { animation-delay: 0.2s; }
            .lb-dist-arrow:nth-child(3) { animation-delay: 0.4s; }
            @keyframes distFlow {
              0%, 100% { opacity: 0.5; }
              50% { opacity: 1; }
            }
            .lb-servers {
              display: flex;
              gap: 16px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .lb-server {
              padding: 14px 20px;
              background: rgba(30, 35, 50, 0.8);
              border: 1px solid rgba(255, 255, 255, 0.1);
              border-radius: 10px;
              text-align: center;
              min-width: 90px;
            }
            .lb-server-icon {
              font-size: 1.4rem;
              margin-bottom: 4px;
            }
            .lb-server-name {
              font-size: 0.8rem;
              color: #e5e5e5;
              margin-bottom: 6px;
            }
            .lb-server-load {
              height: 6px;
              background: rgba(255, 255, 255, 0.1);
              border-radius: 3px;
              overflow: hidden;
            }
            .lb-server-load-fill {
              height: 100%;
              border-radius: 3px;
            }
            .lb-server:nth-child(1) .lb-server-load-fill { width: 65%; background: #10b981; }
            .lb-server:nth-child(2) .lb-server-load-fill { width: 72%; background: #10b981; }
            .lb-server:nth-child(3) .lb-server-load-fill { width: 58%; background: #10b981; }
            .lb-server:nth-child(4) .lb-server-load-fill { width: 70%; background: #10b981; }
            .lb-server-percent {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Algorithms */
            .lb-algorithms {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .lb-algo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .lb-algo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .lb-algo-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .lb-algo-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .lb-algo {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .lb-algo-icon {
              font-size: 1.3rem;
              margin-bottom: 6px;
            }
            .lb-algo-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .lb-algo-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="lb-viz">
            <!-- Traffic Flow -->
            <div class="lb-flow">
              <div class="lb-flow-title">Traffic Distribution Flow</div>
              <div class="lb-diagram">
                <div class="lb-users">
                  <div class="lb-user">üë§ User 1</div>
                  <div class="lb-user">üë§ User 2</div>
                  <div class="lb-user">üë§ User 3</div>
                  <div class="lb-user">üë§ User 4</div>
                  <div class="lb-user">üë§ User 5</div>
                </div>
                <div class="lb-arrows-down">‚Üì ‚Üì ‚Üì ‚Üì ‚Üì</div>
                <div class="lb-balancer">
                  <div class="lb-balancer-icon">‚öñÔ∏è</div>
                  <div class="lb-balancer-text">Load Balancer</div>
                  <div class="lb-balancer-sub">Health checks ‚Ä¢ Routing ‚Ä¢ SSL termination</div>
                </div>
                <div class="lb-distribution">
                  <span class="lb-dist-arrow">‚ÜôÔ∏è</span>
                  <span class="lb-dist-arrow">‚Üì</span>
                  <span class="lb-dist-arrow">‚Üì</span>
                  <span class="lb-dist-arrow">‚ÜòÔ∏è</span>
                </div>
                <div class="lb-servers">
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 1</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">65% load</div>
                  </div>
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 2</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">72% load</div>
                  </div>
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 3</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">58% load</div>
                  </div>
                  <div class="lb-server">
                    <div class="lb-server-icon">üñ•Ô∏è</div>
                    <div class="lb-server-name">Server 4</div>
                    <div class="lb-server-load"><div class="lb-server-load-fill"></div></div>
                    <div class="lb-server-percent">70% load</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Algorithms -->
            <div class="lb-algorithms">
              <div class="lb-algo-title">Load Balancing Algorithms</div>
              <div class="lb-algo-grid">
                <div class="lb-algo">
                  <div class="lb-algo-icon">üîÑ</div>
                  <div class="lb-algo-name">Round Robin</div>
                  <div class="lb-algo-desc">Sequential rotation</div>
                </div>
                <div class="lb-algo">
                  <div class="lb-algo-icon">üìä</div>
                  <div class="lb-algo-name">Least Connections</div>
                  <div class="lb-algo-desc">Fewest active</div>
                </div>
                <div class="lb-algo">
                  <div class="lb-algo-icon">‚ö°</div>
                  <div class="lb-algo-name">Weighted</div>
                  <div class="lb-algo-desc">By server capacity</div>
                </div>
                <div class="lb-algo">
                  <div class="lb-algo-icon">üìç</div>
                  <div class="lb-algo-name">IP Hash</div>
                  <div class="lb-algo-desc">Session stickiness</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Load Balancing</strong> distributes incoming network traffic across multiple backend servers to ensure optimal resource utilization, minimize response time, and avoid overloading any single server.</p>
          <p>Load balancers act as a reverse proxy, sitting between clients and servers. They improve application availability and responsiveness while enabling horizontal scaling.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Round Robin", desc: "Distributes requests sequentially to each server in turn. Simple but doesn't consider server load.", color: "#06b6d4" },
          { icon: "üìä", title: "Least Connections", desc: "Routes to the server with fewest active connections. Better for varying request durations.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Weighted Distribution", desc: "Assigns more traffic to more powerful servers based on capacity weights.", color: "#10b981" },
          { icon: "üìç", title: "IP Hash", desc: "Routes based on client IP for session persistence. Same client always reaches same server.", color: "#8b5cf6" }
        ],
        formula: "Response Time = Request Time + (Queue Time √ó Server Load)",
        strategies: [
          { title: "Layer 4 (Transport)", desc: "Balance based on IP and TCP/UDP ports. Fast but limited visibility into application data." },
          { title: "Layer 7 (Application)", desc: "Route based on HTTP headers, URLs, cookies. More intelligent but higher overhead." },
          { title: "Health Checks", desc: "Continuously probe backend servers and remove unhealthy ones from rotation automatically." },
          { title: "Session Persistence", desc: "Use sticky sessions or external session storage to maintain user state across requests." }
        ],
        metrics: [
          { level: "Hardware LB", downtime: "F5, Citrix", useCase: "High performance, enterprise" },
          { level: "Software LB", downtime: "NGINX, HAProxy", useCase: "Flexible, cost-effective" },
          { level: "Cloud LB", downtime: "AWS ALB/NLB, GCP LB", useCase: "Managed, auto-scaling" },
          { level: "DNS LB", downtime: "Route 53, Cloudflare", useCase: "Global distribution" }
        ]
      },
      caching: {
        title: "Caching",
        subtitle: "Storing copies of frequently accessed data in a faster storage layer to reduce latency and backend load.",
        badge: { text: "Performance", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .cache-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cache-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .cache-row { flex-direction: column; }
            }
            
            /* Cache Flow */
            .cache-flow {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .cache-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cache-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .cache-diagram {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 16px;
              flex-wrap: wrap;
            }
            .cache-component {
              padding: 20px;
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
            }
            .cache-app {
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.3);
            }
            .cache-cache {
              background: rgba(245, 158, 11, 0.15);
              border: 2px solid rgba(245, 158, 11, 0.5);
              position: relative;
            }
            .cache-db {
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.3);
            }
            .cache-comp-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .cache-comp-name {
              font-weight: 500;
              font-size: 0.9rem;
              margin-bottom: 4px;
            }
            .cache-comp-time {
              font-size: 0.75rem;
              color: #6b7280;
            }
            .cache-cache .cache-comp-time { color: #f59e0b; }
            .cache-arrow {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 4px;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .cache-arrow-icon {
              font-size: 1.2rem;
            }
            .cache-arrow.hit .cache-arrow-icon { color: #10b981; }
            .cache-arrow.miss .cache-arrow-icon { color: #ef4444; }
            
            /* Hit Rate */
            .hit-rate {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .hit-rate-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .hit-rate-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .hit-rate-gauge {
              text-align: center;
              margin-bottom: 16px;
            }
            .hit-rate-value {
              font-size: 3rem;
              font-weight: 700;
              color: #10b981;
            }
            .hit-rate-label {
              font-size: 0.8rem;
              color: #6b7280;
            }
            .hit-miss-bar {
              height: 16px;
              background: rgba(239, 68, 68, 0.3);
              border-radius: 8px;
              overflow: hidden;
              margin-bottom: 8px;
            }
            .hit-bar {
              height: 100%;
              width: 95%;
              background: linear-gradient(90deg, #10b981, #059669);
              border-radius: 8px;
            }
            .hit-miss-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
            }
            .hit-label { color: #10b981; }
            .miss-label { color: #ef4444; }
            
            /* Cache Layers */
            .cache-layers {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .cache-layers-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cache-layers-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .layers-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .layers-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .layer-card {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
              transition: all 0.3s ease;
            }
            .layer-card:hover {
              transform: translateY(-2px);
            }
            .layer-card:nth-child(1) { border-color: rgba(59, 130, 246, 0.3); }
            .layer-card:nth-child(2) { border-color: rgba(16, 185, 129, 0.3); }
            .layer-card:nth-child(3) { border-color: rgba(245, 158, 11, 0.3); }
            .layer-card:nth-child(4) { border-color: rgba(139, 92, 246, 0.3); }
            .layer-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .layer-name {
              font-size: 0.85rem;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .layer-card:nth-child(1) .layer-name { color: #3b82f6; }
            .layer-card:nth-child(2) .layer-name { color: #10b981; }
            .layer-card:nth-child(3) .layer-name { color: #f59e0b; }
            .layer-card:nth-child(4) .layer-name { color: #8b5cf6; }
            .layer-speed {
              font-size: 0.7rem;
              color: #6b7280;
            }
          </style>
          
          <div class="cache-viz">
            <div class="cache-row">
              <!-- Cache Flow Diagram -->
              <div class="cache-flow">
                <div class="cache-flow-title">Cache-Aside Pattern (Read-Through)</div>
                <div class="cache-diagram">
                  <div class="cache-component cache-app">
                    <div class="cache-comp-icon">üì±</div>
                    <div class="cache-comp-name">Application</div>
                    <div class="cache-comp-time">Request</div>
                  </div>
                  <div class="cache-arrow hit">
                    <span class="cache-arrow-icon">‚Üí</span>
                    <span>1. Check</span>
                  </div>
                  <div class="cache-component cache-cache">
                    <div class="cache-comp-icon">‚ö°</div>
                    <div class="cache-comp-name">Cache</div>
                    <div class="cache-comp-time">~1ms</div>
                  </div>
                  <div class="cache-arrow miss">
                    <span class="cache-arrow-icon">‚Üí</span>
                    <span>2. Miss?</span>
                  </div>
                  <div class="cache-component cache-db">
                    <div class="cache-comp-icon">üíæ</div>
                    <div class="cache-comp-name">Database</div>
                    <div class="cache-comp-time">~100ms</div>
                  </div>
                </div>
              </div>
              
              <!-- Hit Rate -->
              <div class="hit-rate">
                <div class="hit-rate-title">Cache Hit Rate</div>
                <div class="hit-rate-gauge">
                  <div class="hit-rate-value">95%</div>
                  <div class="hit-rate-label">Excellent Performance</div>
                </div>
                <div class="hit-miss-bar">
                  <div class="hit-bar"></div>
                </div>
                <div class="hit-miss-labels">
                  <span class="hit-label">‚úì Hits: 950/1000</span>
                  <span class="miss-label">‚úó Misses: 50</span>
                </div>
              </div>
            </div>
            
            <!-- Cache Layers -->
            <div class="cache-layers">
              <div class="cache-layers-title">Multi-Level Cache Architecture</div>
              <div class="layers-grid">
                <div class="layer-card">
                  <div class="layer-icon">üåê</div>
                  <div class="layer-name">Browser</div>
                  <div class="layer-speed">0ms (local)</div>
                </div>
                <div class="layer-card">
                  <div class="layer-icon">üåç</div>
                  <div class="layer-name">CDN Edge</div>
                  <div class="layer-speed">10-50ms</div>
                </div>
                <div class="layer-card">
                  <div class="layer-icon">‚ö°</div>
                  <div class="layer-name">Redis/Memcached</div>
                  <div class="layer-speed">1-5ms</div>
                </div>
                <div class="layer-card">
                  <div class="layer-icon">üíæ</div>
                  <div class="layer-name">DB Query Cache</div>
                  <div class="layer-speed">10-50ms</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Caching</strong> is the practice of storing copies of data in a high-speed storage layer so future requests for that data can be served faster. It's one of the most effective techniques for improving system performance.</p>
          <p>Caches exist at multiple levels: browser cache, CDN, application cache (Redis/Memcached), and database query cache. Each level serves different purposes and has different characteristics.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Cache-Aside (Lazy Loading)", desc: "Application checks cache first; on miss, loads from DB and populates cache.", color: "#f59e0b" },
          { icon: "‚úçÔ∏è", title: "Write-Through", desc: "Write to cache and DB simultaneously. Consistent but slower writes.", color: "#3b82f6" },
          { icon: "üìù", title: "Write-Behind", desc: "Write to cache immediately, async write to DB. Fast but risk of data loss.", color: "#8b5cf6" },
          { icon: "‚è∞", title: "TTL (Time-To-Live)", desc: "Automatically expire cached data after a set duration to ensure freshness.", color: "#10b981" }
        ],
        formula: "Hit Rate = Cache Hits / (Cache Hits + Cache Misses) √ó 100%",
        strategies: [
          { title: "Cache Invalidation", desc: "Proactively remove or update cached data when source data changes. 'The two hardest problems in CS...'" },
          { title: "Cache Warming", desc: "Pre-populate cache with frequently accessed data before traffic hits, avoiding cold-start issues." },
          { title: "Distributed Caching", desc: "Use clustered cache (Redis Cluster) for high availability and to handle larger datasets." },
          { title: "Multi-tier Caching", desc: "Combine local in-memory cache (L1) with distributed cache (L2) for optimal performance." }
        ],
        metrics: [
          { level: "Redis", downtime: "In-memory, persistent", useCase: "Session store, real-time data" },
          { level: "Memcached", downtime: "Simple, distributed", useCase: "Simple key-value caching" },
          { level: "CDN", downtime: "Edge caching", useCase: "Static assets, global distribution" },
          { level: "Browser", downtime: "Client-side", useCase: "Assets, API responses" }
        ]
      },
      maintainability: {
        title: "Maintainability",
        subtitle: "The ease with which a system can be modified, updated, extended, and operated over time.",
        badge: { text: "Core Principle", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .maintainability-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .maintain-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .maintain-row { flex-direction: column; }
            }
            
            /* Code Health Dashboard */
            .code-health {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(6, 182, 212, 0.2);
            }
            .health-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .health-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #06b6d4;
              border-radius: 50%;
            }
            .health-metrics {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 12px;
            }
            @media (max-width: 500px) {
              .health-metrics { grid-template-columns: 1fr; }
            }
            .health-metric {
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              padding: 14px;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .health-metric-header {
              display: flex;
              justify-content: space-between;
              align-items: center;
              margin-bottom: 8px;
            }
            .health-metric-name {
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            .health-metric-value {
              font-size: 0.9rem;
              font-weight: 600;
            }
            .health-metric:nth-child(1) .health-metric-value { color: #10b981; }
            .health-metric:nth-child(2) .health-metric-value { color: #3b82f6; }
            .health-metric:nth-child(3) .health-metric-value { color: #8b5cf6; }
            .health-metric:nth-child(4) .health-metric-value { color: #f59e0b; }
            .health-bar {
              height: 6px;
              background: rgba(255, 255, 255, 0.1);
              border-radius: 3px;
              overflow: hidden;
            }
            .health-bar-fill {
              height: 100%;
              border-radius: 3px;
              transition: width 1s ease;
            }
            .health-metric:nth-child(1) .health-bar-fill { width: 87%; background: #10b981; }
            .health-metric:nth-child(2) .health-bar-fill { width: 92%; background: #3b82f6; }
            .health-metric:nth-child(3) .health-bar-fill { width: 78%; background: #8b5cf6; }
            .health-metric:nth-child(4) .health-bar-fill { width: 95%; background: #f59e0b; }
            
            /* Three Pillars */
            .pillars-section {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .pillars-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .pillars-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .pillar-stack {
              display: flex;
              flex-direction: column;
              gap: 10px;
            }
            .pillar-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 8px;
              border-left: 3px solid;
            }
            .pillar-item:nth-child(1) { border-color: #06b6d4; }
            .pillar-item:nth-child(2) { border-color: #8b5cf6; }
            .pillar-item:nth-child(3) { border-color: #10b981; }
            .pillar-icon {
              font-size: 1.3rem;
            }
            .pillar-content {
              flex: 1;
            }
            .pillar-name {
              font-weight: 500;
              font-size: 0.9rem;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .pillar-desc {
              font-size: 0.7rem;
              color: #6b7280;
            }
            
            /* Tech Debt Visualization */
            .debt-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .debt-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .debt-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .debt-comparison {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 16px;
            }
            @media (max-width: 600px) {
              .debt-comparison { grid-template-columns: 1fr; }
            }
            .debt-card {
              padding: 16px;
              border-radius: 10px;
              text-align: center;
            }
            .debt-card.neglected {
              background: rgba(239, 68, 68, 0.1);
              border: 1px solid rgba(239, 68, 68, 0.3);
            }
            .debt-card.maintained {
              background: rgba(16, 185, 129, 0.1);
              border: 1px solid rgba(16, 185, 129, 0.3);
            }
            .debt-header {
              font-size: 0.75rem;
              font-weight: 500;
              margin-bottom: 12px;
            }
            .debt-card.neglected .debt-header { color: #ef4444; }
            .debt-card.maintained .debt-header { color: #10b981; }
            .debt-graph {
              display: flex;
              align-items: flex-end;
              justify-content: center;
              gap: 4px;
              height: 60px;
              margin-bottom: 10px;
            }
            .debt-bar {
              width: 16px;
              border-radius: 2px 2px 0 0;
              transition: height 0.5s ease;
            }
            .debt-card.neglected .debt-bar { background: #ef4444; }
            .debt-card.maintained .debt-bar { background: #10b981; }
            .debt-card.neglected .debt-bar:nth-child(1) { height: 20%; }
            .debt-card.neglected .debt-bar:nth-child(2) { height: 35%; }
            .debt-card.neglected .debt-bar:nth-child(3) { height: 50%; }
            .debt-card.neglected .debt-bar:nth-child(4) { height: 70%; }
            .debt-card.neglected .debt-bar:nth-child(5) { height: 95%; animation: debtPulse 1s ease-in-out infinite; }
            .debt-card.maintained .debt-bar:nth-child(1) { height: 30%; }
            .debt-card.maintained .debt-bar:nth-child(2) { height: 25%; }
            .debt-card.maintained .debt-bar:nth-child(3) { height: 20%; }
            .debt-card.maintained .debt-bar:nth-child(4) { height: 15%; }
            .debt-card.maintained .debt-bar:nth-child(5) { height: 10%; }
            @keyframes debtPulse {
              0%, 100% { opacity: 0.7; }
              50% { opacity: 1; }
            }
            .debt-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .debt-impact {
              margin-top: 8px;
              font-size: 0.75rem;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 6px;
            }
            .debt-card.neglected .debt-impact { color: #ef4444; }
            .debt-card.maintained .debt-impact { color: #10b981; }
          </style>
          
          <div class="maintainability-viz">
            <div class="maintain-row">
              <!-- Code Health Dashboard -->
              <div class="code-health">
                <div class="health-title">Codebase Health Score</div>
                <div class="health-metrics">
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Test Coverage</span>
                      <span class="health-metric-value">87%</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Documentation</span>
                      <span class="health-metric-value">92%</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Code Complexity</span>
                      <span class="health-metric-value">Low</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                  <div class="health-metric">
                    <div class="health-metric-header">
                      <span class="health-metric-name">Modularity</span>
                      <span class="health-metric-value">95%</span>
                    </div>
                    <div class="health-bar"><div class="health-bar-fill"></div></div>
                  </div>
                </div>
              </div>
              
              <!-- Three Pillars -->
              <div class="pillars-section">
                <div class="pillars-title">Three Pillars</div>
                <div class="pillar-stack">
                  <div class="pillar-item">
                    <span class="pillar-icon">‚öôÔ∏è</span>
                    <div class="pillar-content">
                      <div class="pillar-name">Operability</div>
                      <div class="pillar-desc">Easy to keep running smoothly</div>
                    </div>
                  </div>
                  <div class="pillar-item">
                    <span class="pillar-icon">üß©</span>
                    <div class="pillar-content">
                      <div class="pillar-name">Simplicity</div>
                      <div class="pillar-desc">Easy to understand the codebase</div>
                    </div>
                  </div>
                  <div class="pillar-item">
                    <span class="pillar-icon">üå±</span>
                    <div class="pillar-content">
                      <div class="pillar-name">Evolvability</div>
                      <div class="pillar-desc">Easy to add new features</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Technical Debt Over Time -->
            <div class="debt-section">
              <div class="debt-title">Technical Debt Over Time</div>
              <div class="debt-comparison">
                <div class="debt-card neglected">
                  <div class="debt-header">üö® Neglected Codebase</div>
                  <div class="debt-graph">
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                  </div>
                  <div class="debt-label">Year 1 ‚Üí Year 5</div>
                  <div class="debt-impact">‚¨ÜÔ∏è Debt compounds exponentially</div>
                </div>
                <div class="debt-card maintained">
                  <div class="debt-header">‚ú® Well-Maintained Codebase</div>
                  <div class="debt-graph">
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                    <div class="debt-bar"></div>
                  </div>
                  <div class="debt-label">Year 1 ‚Üí Year 5</div>
                  <div class="debt-impact">‚¨áÔ∏è Continuous refactoring pays off</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Maintainability</strong> refers to how easily a system can be modified to fix bugs, improve performance, add features, or adapt to changes. It's critical for long-term system health.</p>
          <p>A maintainable system reduces technical debt, enables faster development cycles, and makes it easier for new team members to contribute effectively.</p>
        `,
        keyPoints: [
          { icon: "üìù", title: "Clean Code", desc: "Write readable, well-structured code with clear naming conventions and consistent style.", color: "#06b6d4" },
          { icon: "üìö", title: "Documentation", desc: "Maintain up-to-date documentation for architecture, APIs, and operational procedures.", color: "#3b82f6" },
          { icon: "üß©", title: "Modularity", desc: "Design loosely coupled components that can be modified independently.", color: "#8b5cf6" },
          { icon: "üîç", title: "Observability", desc: "Implement logging, metrics, and tracing to understand system behavior.", color: "#10b981" }
        ],
        formula: "Maintainability = Operability + Simplicity + Evolvability",
        strategies: [
          { title: "Code Reviews", desc: "Enforce peer reviews to catch issues early, share knowledge, and maintain code quality standards." },
          { title: "Automated Testing", desc: "Build comprehensive test suites (unit, integration, e2e) to enable confident refactoring." },
          { title: "Infrastructure as Code", desc: "Version control infrastructure configurations for reproducibility and change tracking." },
          { title: "Continuous Refactoring", desc: "Regularly improve code structure without changing behavior to prevent technical debt accumulation." }
        ],
        metrics: [
          { level: "MTTR", downtime: "Mean Time To Repair", useCase: "How quickly bugs are fixed" },
          { level: "Code Coverage", downtime: "% of tested code", useCase: "Confidence in changes" },
          { level: "Cyclomatic Complexity", downtime: "Code complexity score", useCase: "Readability indicator" },
          { level: "Deploy Frequency", downtime: "Deploys per day/week", useCase: "Development velocity" }
        ]
      },
      performance: {
        title: "Performance",
        subtitle: "The responsiveness and efficiency of a system in processing requests and utilizing resources.",
        badge: { text: "Core Principle", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .performance-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .perf-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .perf-row { flex-direction: column; }
            }
            
            /* Latency Gauge */
            .latency-gauge {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(239, 68, 68, 0.2);
              text-align: center;
            }
            .gauge-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 8px;
            }
            .gauge-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ef4444;
              border-radius: 50%;
            }
            .gauge-container {
              position: relative;
              width: 180px;
              height: 100px;
              margin: 0 auto 16px;
            }
            .gauge-bg {
              position: absolute;
              width: 180px;
              height: 90px;
              border-radius: 90px 90px 0 0;
              background: conic-gradient(from 180deg at 50% 100%, 
                #10b981 0deg, 
                #10b981 60deg, 
                #f59e0b 60deg, 
                #f59e0b 120deg, 
                #ef4444 120deg, 
                #ef4444 180deg);
              opacity: 0.3;
            }
            .gauge-fill {
              position: absolute;
              bottom: 0;
              left: 50%;
              width: 4px;
              height: 70px;
              background: linear-gradient(to top, #ef4444, #fff);
              transform-origin: bottom center;
              transform: translateX(-50%) rotate(-60deg);
              border-radius: 2px;
              animation: gaugeSwing 3s ease-in-out infinite;
            }
            @keyframes gaugeSwing {
              0%, 100% { transform: translateX(-50%) rotate(-60deg); }
              50% { transform: translateX(-50%) rotate(-45deg); }
            }
            .gauge-center {
              position: absolute;
              bottom: -5px;
              left: 50%;
              transform: translateX(-50%);
              width: 16px;
              height: 16px;
              background: #1a1f2e;
              border: 3px solid #ef4444;
              border-radius: 50%;
            }
            .gauge-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 8px;
            }
            .gauge-value {
              font-size: 2rem;
              font-weight: 700;
              color: #10b981;
            }
            .gauge-unit {
              font-size: 0.9rem;
              color: #6b7280;
            }
            .gauge-status {
              font-size: 0.75rem;
              color: #10b981;
              margin-top: 4px;
            }
            
            /* Percentile Distribution */
            .percentile-section {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .percentile-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .percentile-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .percentile-bars {
              display: flex;
              flex-direction: column;
              gap: 12px;
            }
            .percentile-row {
              display: flex;
              align-items: center;
              gap: 12px;
            }
            .percentile-label {
              width: 50px;
              font-size: 0.8rem;
              font-weight: 500;
              text-align: right;
            }
            .p50-label { color: #10b981; }
            .p90-label { color: #3b82f6; }
            .p95-label { color: #8b5cf6; }
            .p99-label { color: #f59e0b; }
            .p999-label { color: #ef4444; }
            .percentile-bar-bg {
              flex: 1;
              height: 24px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 4px;
              overflow: hidden;
              position: relative;
            }
            .percentile-bar-fill {
              height: 100%;
              border-radius: 4px;
              display: flex;
              align-items: center;
              padding-left: 10px;
              font-size: 0.7rem;
              font-weight: 500;
              color: rgba(255,255,255,0.9);
              transition: width 1s ease;
            }
            .p50-bar { width: 15%; background: linear-gradient(90deg, #10b981, #059669); }
            .p90-bar { width: 35%; background: linear-gradient(90deg, #3b82f6, #2563eb); }
            .p95-bar { width: 50%; background: linear-gradient(90deg, #8b5cf6, #7c3aed); }
            .p99-bar { width: 75%; background: linear-gradient(90deg, #f59e0b, #d97706); }
            .p999-bar { width: 100%; background: linear-gradient(90deg, #ef4444, #dc2626); }
            .percentile-value {
              width: 60px;
              font-size: 0.8rem;
              color: #a0a0b0;
            }
            
            /* Throughput Stats */
            .throughput-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .throughput-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .throughput-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .throughput-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 16px;
            }
            @media (max-width: 700px) {
              .throughput-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .throughput-stat {
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              padding: 16px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .throughput-value {
              font-size: 1.5rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .throughput-stat:nth-child(1) .throughput-value { color: #10b981; }
            .throughput-stat:nth-child(2) .throughput-value { color: #3b82f6; }
            .throughput-stat:nth-child(3) .throughput-value { color: #8b5cf6; }
            .throughput-stat:nth-child(4) .throughput-value { color: #f59e0b; }
            .throughput-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .throughput-trend {
              font-size: 0.65rem;
              margin-top: 6px;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 4px;
            }
            .trend-up { color: #10b981; }
            .trend-stable { color: #6b7280; }
          </style>
          
          <div class="performance-viz">
            <div class="perf-row">
              <!-- Response Time Gauge -->
              <div class="latency-gauge">
                <div class="gauge-title">Response Time</div>
                <div class="gauge-container">
                  <div class="gauge-bg"></div>
                  <div class="gauge-fill"></div>
                  <div class="gauge-center"></div>
                </div>
                <div class="gauge-labels">
                  <span style="color: #10b981;">Fast</span>
                  <span style="color: #f59e0b;">Medium</span>
                  <span style="color: #ef4444;">Slow</span>
                </div>
                <div class="gauge-value">42<span class="gauge-unit">ms</span></div>
                <div class="gauge-status">‚úì Excellent Performance</div>
              </div>
              
              <!-- Latency Percentiles -->
              <div class="percentile-section">
                <div class="percentile-title">Latency Distribution (Percentiles)</div>
                <div class="percentile-bars">
                  <div class="percentile-row">
                    <span class="percentile-label p50-label">P50</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p50-bar">12ms</div>
                    </div>
                    <span class="percentile-value">Median</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p90-label">P90</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p90-bar">45ms</div>
                    </div>
                    <span class="percentile-value">Most users</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p95-label">P95</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p95-bar">78ms</div>
                    </div>
                    <span class="percentile-value">Typical SLA</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p99-label">P99</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p99-bar">156ms</div>
                    </div>
                    <span class="percentile-value">Outliers</span>
                  </div>
                  <div class="percentile-row">
                    <span class="percentile-label p999-label">P99.9</span>
                    <div class="percentile-bar-bg">
                      <div class="percentile-bar-fill p999-bar">420ms</div>
                    </div>
                    <span class="percentile-value">Worst case</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Throughput Metrics -->
            <div class="throughput-section">
              <div class="throughput-title">Real-Time Throughput Metrics</div>
              <div class="throughput-grid">
                <div class="throughput-stat">
                  <div class="throughput-value">12.5K</div>
                  <div class="throughput-label">Requests/sec</div>
                  <div class="throughput-trend trend-up">‚Üë 8% from avg</div>
                </div>
                <div class="throughput-stat">
                  <div class="throughput-value">99.2%</div>
                  <div class="throughput-label">Success Rate</div>
                  <div class="throughput-trend trend-stable">‚Üí Stable</div>
                </div>
                <div class="throughput-stat">
                  <div class="throughput-value">2.1</div>
                  <div class="throughput-label">Apdex Score</div>
                  <div class="throughput-trend trend-up">‚Üë Excellent</div>
                </div>
                <div class="throughput-stat">
                  <div class="throughput-value">34%</div>
                  <div class="throughput-label">CPU Usage</div>
                  <div class="throughput-trend trend-stable">‚Üí Optimal</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Performance</strong> measures how well a system utilizes resources to respond to requests. Key metrics include latency (response time) and throughput (requests per second).</p>
          <p>Good performance is essential for user experience, SEO rankings, and operational costs. Even small improvements in response time can significantly impact conversion rates.</p>
        `,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "Latency", desc: "Time taken to respond to a request. Aim for P99 latency, not just average.", color: "#ef4444" },
          { icon: "üìä", title: "Throughput", desc: "Number of requests processed per unit time. Balance with latency.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Resource Efficiency", desc: "Optimize CPU, memory, and I/O usage to reduce costs and improve speed.", color: "#10b981" },
          { icon: "üìà", title: "Scalable Performance", desc: "Maintain performance characteristics as load increases.", color: "#8b5cf6" }
        ],
        formula: "Latency Percentiles: P50 < P90 < P95 < P99 < P99.9",
        strategies: [
          { title: "Database Optimization", desc: "Use proper indexes, query optimization, connection pooling, and read replicas." },
          { title: "Caching Strategy", desc: "Cache at multiple levels - CDN, application, database query cache." },
          { title: "Async Processing", desc: "Offload heavy operations to background jobs and message queues." },
          { title: "Performance Testing", desc: "Regular load testing and profiling to identify bottlenecks before production." }
        ],
        metrics: [
          { level: "P50", downtime: "Median latency", useCase: "Typical user experience" },
          { level: "P99", downtime: "99th percentile", useCase: "Worst-case scenarios" },
          { level: "RPS", downtime: "Requests per second", useCase: "System capacity" },
          { level: "Apdex", downtime: "Application Performance Index", useCase: "User satisfaction score" }
        ]
      },
      security: {
        title: "Security",
        subtitle: "Protecting system data and resources from unauthorized access, breaches, and attacks.",
        badge: { text: "Core Principle", color: "#dc2626", bg: "rgba(220, 38, 38, 0.15)" },
        color: "#dc2626",
        diagram: `
          <style>
            .security-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .security-row {
              display: flex;
              gap: 20px;
            }
            @media (max-width: 900px) {
              .security-row { flex-direction: column; }
            }
            
            /* Defense in Depth */
            .defense-layers {
              flex: 1.5;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(220, 38, 38, 0.2);
            }
            .defense-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .defense-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #dc2626;
              border-radius: 50%;
            }
            .layers-container {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 6px;
            }
            .defense-layer {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 10px;
              padding: 10px 20px;
              border-radius: 30px;
              font-size: 0.8rem;
              font-weight: 500;
              transition: all 0.3s ease;
              border: 1px solid;
            }
            .defense-layer:hover {
              transform: scale(1.02);
            }
            .layer-1 {
              width: 95%;
              background: rgba(239, 68, 68, 0.1);
              border-color: rgba(239, 68, 68, 0.3);
              color: #f87171;
            }
            .layer-2 {
              width: 82%;
              background: rgba(245, 158, 11, 0.1);
              border-color: rgba(245, 158, 11, 0.3);
              color: #fbbf24;
            }
            .layer-3 {
              width: 69%;
              background: rgba(139, 92, 246, 0.1);
              border-color: rgba(139, 92, 246, 0.3);
              color: #a78bfa;
            }
            .layer-4 {
              width: 56%;
              background: rgba(59, 130, 246, 0.1);
              border-color: rgba(59, 130, 246, 0.3);
              color: #60a5fa;
            }
            .layer-5 {
              width: 43%;
              background: rgba(16, 185, 129, 0.1);
              border-color: rgba(16, 185, 129, 0.3);
              color: #34d399;
            }
            .layer-core {
              width: 30%;
              background: linear-gradient(135deg, rgba(16, 185, 129, 0.3), rgba(6, 182, 212, 0.3));
              border-color: rgba(16, 185, 129, 0.5);
              color: #10b981;
              font-weight: 600;
            }
            .layer-icon {
              font-size: 1rem;
            }
            .attacker-label {
              font-size: 0.65rem;
              color: #ef4444;
              text-align: center;
              margin-top: 8px;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 6px;
            }
            
            /* CIA Triad */
            .cia-section {
              flex: 1;
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .cia-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cia-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .cia-triangle {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 12px;
            }
            .cia-item {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px 16px;
              border-radius: 10px;
              width: 100%;
              border: 1px solid;
            }
            .cia-c {
              background: rgba(59, 130, 246, 0.1);
              border-color: rgba(59, 130, 246, 0.3);
            }
            .cia-i {
              background: rgba(16, 185, 129, 0.1);
              border-color: rgba(16, 185, 129, 0.3);
            }
            .cia-a {
              background: rgba(139, 92, 246, 0.1);
              border-color: rgba(139, 92, 246, 0.3);
            }
            .cia-icon {
              font-size: 1.5rem;
            }
            .cia-content {
              flex: 1;
            }
            .cia-name {
              font-weight: 600;
              font-size: 0.9rem;
              margin-bottom: 2px;
            }
            .cia-c .cia-name { color: #3b82f6; }
            .cia-i .cia-name { color: #10b981; }
            .cia-a .cia-name { color: #8b5cf6; }
            .cia-desc {
              font-size: 0.7rem;
              color: #6b7280;
            }
            
            /* Threat Landscape */
            .threat-section {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .threat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .threat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .threat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .threat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .threat-card {
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              padding: 14px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
              transition: all 0.3s ease;
            }
            .threat-card:hover {
              border-color: rgba(239, 68, 68, 0.3);
              transform: translateY(-2px);
            }
            .threat-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .threat-name {
              font-size: 0.75rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .threat-severity {
              font-size: 0.65rem;
              padding: 2px 8px;
              border-radius: 10px;
              display: inline-block;
            }
            .severity-critical {
              background: rgba(239, 68, 68, 0.2);
              color: #f87171;
            }
            .severity-high {
              background: rgba(245, 158, 11, 0.2);
              color: #fbbf24;
            }
            .severity-medium {
              background: rgba(59, 130, 246, 0.2);
              color: #60a5fa;
            }
          </style>
          
          <div class="security-viz">
            <div class="security-row">
              <!-- Defense in Depth Layers -->
              <div class="defense-layers">
                <div class="defense-title">Defense in Depth</div>
                <div class="layers-container">
                  <div class="defense-layer layer-1">
                    <span class="layer-icon">üåê</span>
                    <span>Perimeter Security (Firewall, WAF, DDoS Protection)</span>
                  </div>
                  <div class="defense-layer layer-2">
                    <span class="layer-icon">üîê</span>
                    <span>Network Security (VPN, Segmentation)</span>
                  </div>
                  <div class="defense-layer layer-3">
                    <span class="layer-icon">üîë</span>
                    <span>Authentication & Authorization</span>
                  </div>
                  <div class="defense-layer layer-4">
                    <span class="layer-icon">üõ°Ô∏è</span>
                    <span>Application Security</span>
                  </div>
                  <div class="defense-layer layer-5">
                    <span class="layer-icon">üîí</span>
                    <span>Data Encryption</span>
                  </div>
                  <div class="defense-layer layer-core">
                    <span class="layer-icon">üíé</span>
                    <span>Protected Data</span>
                  </div>
                </div>
                <div class="attacker-label">
                  <span>‚ò†Ô∏è</span> Attackers must breach multiple layers
                </div>
              </div>
              
              <!-- CIA Triad -->
              <div class="cia-section">
                <div class="cia-title">CIA Triad</div>
                <div class="cia-triangle">
                  <div class="cia-item cia-c">
                    <span class="cia-icon">üîè</span>
                    <div class="cia-content">
                      <div class="cia-name">Confidentiality</div>
                      <div class="cia-desc">Data accessible only to authorized users</div>
                    </div>
                  </div>
                  <div class="cia-item cia-i">
                    <span class="cia-icon">‚úÖ</span>
                    <div class="cia-content">
                      <div class="cia-name">Integrity</div>
                      <div class="cia-desc">Data is accurate and unaltered</div>
                    </div>
                  </div>
                  <div class="cia-item cia-a">
                    <span class="cia-icon">‚ö°</span>
                    <div class="cia-content">
                      <div class="cia-name">Availability</div>
                      <div class="cia-desc">Systems accessible when needed</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Common Threats -->
            <div class="threat-section">
              <div class="threat-title">Common Security Threats (OWASP)</div>
              <div class="threat-grid">
                <div class="threat-card">
                  <div class="threat-icon">üíâ</div>
                  <div class="threat-name">Injection</div>
                  <div class="threat-severity severity-critical">Critical</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üîì</div>
                  <div class="threat-name">Broken Auth</div>
                  <div class="threat-severity severity-critical">Critical</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üìã</div>
                  <div class="threat-name">Data Exposure</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üï∑Ô∏è</div>
                  <div class="threat-name">XSS Attack</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">‚öôÔ∏è</div>
                  <div class="threat-name">Misconfig</div>
                  <div class="threat-severity severity-medium">Medium</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üì¶</div>
                  <div class="threat-name">Vuln. Components</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üìù</div>
                  <div class="threat-name">Logging Gaps</div>
                  <div class="threat-severity severity-medium">Medium</div>
                </div>
                <div class="threat-card">
                  <div class="threat-icon">üîó</div>
                  <div class="threat-name">SSRF</div>
                  <div class="threat-severity severity-high">High</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Security</strong> encompasses all measures taken to protect a system from threats, vulnerabilities, and unauthorized access. It follows the CIA triad: Confidentiality, Integrity, and Availability.</p>
          <p>Security must be built into the system from the ground up (security by design), not added as an afterthought. It requires continuous monitoring and updates.</p>
        `,
        keyPoints: [
          { icon: "üîë", title: "Authentication", desc: "Verify user identity using passwords, MFA, OAuth, or certificates.", color: "#dc2626" },
          { icon: "üõ°Ô∏è", title: "Authorization", desc: "Control what authenticated users can access using RBAC or ABAC.", color: "#8b5cf6" },
          { icon: "üîê", title: "Encryption", desc: "Protect data at rest and in transit using TLS, AES, and proper key management.", color: "#3b82f6" },
          { icon: "üîç", title: "Audit Logging", desc: "Track all security-relevant events for detection and forensics.", color: "#10b981" }
        ],
        formula: "Security = Prevention + Detection + Response + Recovery",
        strategies: [
          { title: "Defense in Depth", desc: "Layer multiple security controls so breach of one doesn't compromise everything." },
          { title: "Least Privilege", desc: "Grant minimum permissions necessary for each user, service, or process." },
          { title: "Security Testing", desc: "Regular penetration testing, vulnerability scanning, and security audits." },
          { title: "Incident Response", desc: "Have documented procedures for detecting, responding to, and recovering from breaches." }
        ],
        metrics: [
          { level: "OWASP Top 10", downtime: "Common vulnerabilities", useCase: "Web application security" },
          { level: "SOC 2", downtime: "Security compliance", useCase: "Enterprise requirements" },
          { level: "MTTR (Security)", downtime: "Time to remediate", useCase: "Vulnerability response" },
          { level: "CVE Count", downtime: "Known vulnerabilities", useCase: "Dependency security" }
        ]
      },
      observability: {
        title: "Observability",
        subtitle: "The ability to understand a system's internal state by examining its external outputs: logs, metrics, and traces.",
        badge: { text: "Core Principle", color: "#14b8a6", bg: "rgba(20, 184, 166, 0.15)" },
        color: "#14b8a6",
        diagram: `
          <style>
            .obs-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .obs-pillars {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(20, 184, 166, 0.2);
            }
            .obs-pillars-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .obs-pillars-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #14b8a6;
              border-radius: 50%;
            }
            .obs-three {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 16px;
            }
            @media (max-width: 700px) {
              .obs-three { grid-template-columns: 1fr; }
            }
            .obs-pillar {
              padding: 20px;
              border-radius: 14px;
              text-align: center;
              transition: all 0.3s ease;
            }
            .obs-pillar:hover {
              transform: translateY(-4px);
            }
            .obs-pillar.logs {
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.4);
            }
            .obs-pillar.metrics {
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
            }
            .obs-pillar.traces {
              background: rgba(139, 92, 246, 0.15);
              border: 1px solid rgba(139, 92, 246, 0.4);
            }
            .obs-pillar-icon {
              font-size: 2.5rem;
              margin-bottom: 12px;
            }
            .obs-pillar-name {
              font-weight: 700;
              font-size: 1.1rem;
              margin-bottom: 8px;
            }
            .obs-pillar.logs .obs-pillar-name { color: #3b82f6; }
            .obs-pillar.metrics .obs-pillar-name { color: #10b981; }
            .obs-pillar.traces .obs-pillar-name { color: #8b5cf6; }
            .obs-pillar-desc {
              font-size: 0.8rem;
              color: #a0a0b0;
              margin-bottom: 12px;
            }
            .obs-pillar-examples {
              display: flex;
              flex-wrap: wrap;
              gap: 6px;
              justify-content: center;
            }
            .obs-example {
              font-size: 0.65rem;
              padding: 4px 8px;
              background: rgba(0, 0, 0, 0.2);
              border-radius: 6px;
              color: #888;
            }
            
            /* Dashboard Preview */
            .obs-dashboard {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .obs-dash-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .obs-dash-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .obs-dash-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .obs-dash-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .obs-metric {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .obs-metric-value {
              font-size: 1.4rem;
              font-weight: 700;
              margin-bottom: 4px;
            }
            .obs-metric:nth-child(1) .obs-metric-value { color: #10b981; }
            .obs-metric:nth-child(2) .obs-metric-value { color: #3b82f6; }
            .obs-metric:nth-child(3) .obs-metric-value { color: #f59e0b; }
            .obs-metric:nth-child(4) .obs-metric-value { color: #ef4444; }
            .obs-metric-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .obs-metric-trend {
              font-size: 0.65rem;
              margin-top: 4px;
            }
            .obs-metric:nth-child(1) .obs-metric-trend { color: #10b981; }
            .obs-metric:nth-child(2) .obs-metric-trend { color: #3b82f6; }
            .obs-metric:nth-child(3) .obs-metric-trend { color: #f59e0b; }
            .obs-metric:nth-child(4) .obs-metric-trend { color: #ef4444; }
          </style>
          
          <div class="obs-viz">
            <!-- Three Pillars -->
            <div class="obs-pillars">
              <div class="obs-pillars-title">The Three Pillars of Observability</div>
              <div class="obs-three">
                <div class="obs-pillar logs">
                  <div class="obs-pillar-icon">üìù</div>
                  <div class="obs-pillar-name">Logs</div>
                  <div class="obs-pillar-desc">Discrete events with timestamps and context</div>
                  <div class="obs-pillar-examples">
                    <span class="obs-example">ELK Stack</span>
                    <span class="obs-example">Splunk</span>
                    <span class="obs-example">Loki</span>
                  </div>
                </div>
                <div class="obs-pillar metrics">
                  <div class="obs-pillar-icon">üìä</div>
                  <div class="obs-pillar-name">Metrics</div>
                  <div class="obs-pillar-desc">Numeric measurements over time intervals</div>
                  <div class="obs-pillar-examples">
                    <span class="obs-example">Prometheus</span>
                    <span class="obs-example">Grafana</span>
                    <span class="obs-example">Datadog</span>
                  </div>
                </div>
                <div class="obs-pillar traces">
                  <div class="obs-pillar-icon">üîó</div>
                  <div class="obs-pillar-name">Traces</div>
                  <div class="obs-pillar-desc">Request journey across distributed services</div>
                  <div class="obs-pillar-examples">
                    <span class="obs-example">Jaeger</span>
                    <span class="obs-example">Zipkin</span>
                    <span class="obs-example">OpenTelemetry</span>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Dashboard Preview -->
            <div class="obs-dashboard">
              <div class="obs-dash-title">Real-Time System Dashboard</div>
              <div class="obs-dash-grid">
                <div class="obs-metric">
                  <div class="obs-metric-value">99.9%</div>
                  <div class="obs-metric-label">Uptime</div>
                  <div class="obs-metric-trend">‚Üë Stable</div>
                </div>
                <div class="obs-metric">
                  <div class="obs-metric-value">42ms</div>
                  <div class="obs-metric-label">P95 Latency</div>
                  <div class="obs-metric-trend">‚Üì -5ms</div>
                </div>
                <div class="obs-metric">
                  <div class="obs-metric-value">2.3K</div>
                  <div class="obs-metric-label">Errors/day</div>
                  <div class="obs-metric-trend">‚Üë +12%</div>
                </div>
                <div class="obs-metric">
                  <div class="obs-metric-value">3</div>
                  <div class="obs-metric-label">Active Alerts</div>
                  <div class="obs-metric-trend">‚ö† Warning</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Observability</strong> is the ability to understand the internal state of a system by examining its external outputs. It goes beyond traditional monitoring by enabling you to ask arbitrary questions about your system without deploying new code.</p>
          <p>The three pillars‚Äîlogs, metrics, and traces‚Äîwork together to provide complete visibility into distributed systems, helping teams debug issues, understand performance, and maintain reliability.</p>
        `,
        keyPoints: [
          { icon: "üìù", title: "Logs", desc: "Timestamped records of discrete events. Essential for debugging and audit trails.", color: "#3b82f6" },
          { icon: "üìä", title: "Metrics", desc: "Numeric measurements aggregated over time. Great for alerting and dashboards.", color: "#10b981" },
          { icon: "üîó", title: "Traces", desc: "End-to-end request paths across services. Critical for debugging distributed systems.", color: "#8b5cf6" },
          { icon: "üö®", title: "Alerting", desc: "Proactive notifications when metrics exceed thresholds or anomalies are detected.", color: "#ef4444" }
        ],
        formula: "Observability = Logs + Metrics + Traces + Context",
        strategies: [
          { title: "Structured Logging", desc: "Use JSON logs with consistent fields for easy querying and correlation across services." },
          { title: "Distributed Tracing", desc: "Implement trace context propagation (OpenTelemetry) to follow requests across service boundaries." },
          { title: "SLI/SLO Monitoring", desc: "Define Service Level Indicators and Objectives to measure what matters to users." },
          { title: "Correlation IDs", desc: "Use request IDs that flow through all services to connect logs, metrics, and traces." }
        ],
        metrics: [
          { level: "Prometheus", downtime: "Metrics collection", useCase: "Time-series database" },
          { level: "Grafana", downtime: "Visualization", useCase: "Dashboards and alerts" },
          { level: "OpenTelemetry", downtime: "Instrumentation", useCase: "Vendor-neutral standard" },
          { level: "ELK Stack", downtime: "Log aggregation", useCase: "Search and analysis" }
        ]
      },
      "cost-efficiency": {
        title: "Cost Efficiency",
        subtitle: "Optimizing infrastructure and operational costs while maintaining performance, reliability, and scalability requirements.",
        badge: { text: "Core Principle", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `
          <style>
            .cost-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cost-breakdown {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(34, 197, 94, 0.2);
            }
            .cost-breakdown-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cost-breakdown-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #22c55e;
              border-radius: 50%;
            }
            .cost-chart {
              display: flex;
              align-items: flex-end;
              justify-content: center;
              gap: 16px;
              height: 160px;
              margin-bottom: 16px;
            }
            .cost-bar {
              display: flex;
              flex-direction: column;
              align-items: center;
              text-align: center;
            }
            .cost-bar-fill {
              width: 60px;
              border-radius: 8px 8px 0 0;
              display: flex;
              align-items: flex-end;
              justify-content: center;
              padding-bottom: 8px;
              color: white;
              font-weight: 600;
              font-size: 0.85rem;
              transition: all 0.3s ease;
            }
            .cost-bar:nth-child(1) .cost-bar-fill { height: 140px; background: linear-gradient(180deg, #3b82f6, #1d4ed8); }
            .cost-bar:nth-child(2) .cost-bar-fill { height: 90px; background: linear-gradient(180deg, #8b5cf6, #6d28d9); }
            .cost-bar:nth-child(3) .cost-bar-fill { height: 60px; background: linear-gradient(180deg, #f59e0b, #d97706); }
            .cost-bar:nth-child(4) .cost-bar-fill { height: 40px; background: linear-gradient(180deg, #10b981, #059669); }
            .cost-bar:nth-child(5) .cost-bar-fill { height: 30px; background: linear-gradient(180deg, #ec4899, #db2777); }
            .cost-bar-label {
              font-size: 0.75rem;
              color: #a0a0b0;
              margin-top: 8px;
            }
            .cost-total {
              display: flex;
              justify-content: space-between;
              align-items: center;
              padding: 12px 16px;
              background: rgba(34, 197, 94, 0.1);
              border: 1px solid rgba(34, 197, 94, 0.3);
              border-radius: 10px;
            }
            .cost-total-label {
              font-size: 0.85rem;
              color: #a0a0b0;
            }
            .cost-total-value {
              font-size: 1.2rem;
              font-weight: 700;
              color: #22c55e;
            }
            
            /* Optimization Tips */
            .cost-tips {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .cost-tips-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cost-tips-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .cost-tips-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .cost-tips-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .cost-tip {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              transition: all 0.3s ease;
            }
            .cost-tip:hover {
              transform: translateY(-3px);
              border: 1px solid rgba(34, 197, 94, 0.3);
            }
            .cost-tip-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .cost-tip-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .cost-tip-savings {
              font-size: 0.7rem;
              color: #22c55e;
            }
          </style>
          
          <div class="cost-viz">
            <!-- Cost Breakdown -->
            <div class="cost-breakdown">
              <div class="cost-breakdown-title">Typical Cloud Cost Breakdown</div>
              <div class="cost-chart">
                <div class="cost-bar">
                  <div class="cost-bar-fill">40%</div>
                  <div class="cost-bar-label">Compute</div>
                </div>
                <div class="cost-bar">
                  <div class="cost-bar-fill">25%</div>
                  <div class="cost-bar-label">Database</div>
                </div>
                <div class="cost-bar">
                  <div class="cost-bar-fill">15%</div>
                  <div class="cost-bar-label">Storage</div>
                </div>
                <div class="cost-bar">
                  <div class="cost-bar-fill">12%</div>
                  <div class="cost-bar-label">Network</div>
                </div>
                <div class="cost-bar">
                  <div class="cost-bar-fill">8%</div>
                  <div class="cost-bar-label">Other</div>
                </div>
              </div>
              <div class="cost-total">
                <span class="cost-total-label">üí° Typical savings potential with optimization</span>
                <span class="cost-total-value">30-50%</span>
              </div>
            </div>
            
            <!-- Optimization Tips -->
            <div class="cost-tips">
              <div class="cost-tips-title">Cost Optimization Strategies</div>
              <div class="cost-tips-grid">
                <div class="cost-tip">
                  <div class="cost-tip-icon">üìâ</div>
                  <div class="cost-tip-name">Right-sizing</div>
                  <div class="cost-tip-savings">~20-30% savings</div>
                </div>
                <div class="cost-tip">
                  <div class="cost-tip-icon">üí∞</div>
                  <div class="cost-tip-name">Reserved Instances</div>
                  <div class="cost-tip-savings">~40-60% savings</div>
                </div>
                <div class="cost-tip">
                  <div class="cost-tip-icon">üîÑ</div>
                  <div class="cost-tip-name">Spot Instances</div>
                  <div class="cost-tip-savings">~70-90% savings</div>
                </div>
                <div class="cost-tip">
                  <div class="cost-tip-icon">üåô</div>
                  <div class="cost-tip-name">Auto-shutdown</div>
                  <div class="cost-tip-savings">~65% savings</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Cost Efficiency</strong> is the practice of optimizing cloud and infrastructure spending while maintaining required performance, reliability, and scalability. It's a critical aspect of FinOps (Financial Operations).</p>
          <p>Effective cost management requires visibility into spending, understanding of pricing models, right-sizing resources, and building cost-awareness into the engineering culture.</p>
        `,
        keyPoints: [
          { icon: "üìä", title: "Cost Visibility", desc: "Track and allocate costs by team, service, and environment using tagging and cost management tools.", color: "#22c55e" },
          { icon: "üìâ", title: "Right-sizing", desc: "Match resource capacity to actual usage. Eliminate over-provisioned and idle resources.", color: "#3b82f6" },
          { icon: "üí∞", title: "Pricing Models", desc: "Use reserved instances, savings plans, and spot instances for predictable and flexible workloads.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Auto-scaling", desc: "Scale resources dynamically based on demand to avoid paying for unused capacity.", color: "#8b5cf6" }
        ],
        formula: "Cost Efficiency = Value Delivered / Total Cost of Ownership",
        strategies: [
          { title: "FinOps Practice", desc: "Establish cross-functional collaboration between engineering, finance, and business to optimize cloud value." },
          { title: "Tagging Strategy", desc: "Implement consistent resource tagging to enable cost allocation and accountability by team/project." },
          { title: "Architectural Optimization", desc: "Choose cost-effective architectures: serverless for spiky workloads, containers for consistent loads." },
          { title: "Continuous Optimization", desc: "Regular reviews of spending, unused resources, and opportunities for savings (reserved instances, etc.)." }
        ],
        metrics: [
          { level: "Cost per Request", downtime: "Infrastructure efficiency", useCase: "API cost tracking" },
          { level: "Cost per Customer", downtime: "Unit economics", useCase: "Business viability" },
          { level: "Cloud Waste %", downtime: "Unused resources", useCase: "Optimization priority" },
          { level: "Budget Variance", downtime: "Forecast accuracy", useCase: "Financial planning" }
        ]
      },
      partitioning: {
        title: "Partitioning",
        subtitle: "Dividing data across multiple nodes to distribute load and improve performance.",
        badge: { text: "Data Management", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .part-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .part-demo {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .part-demo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .part-demo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .part-flow {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .part-source {
              padding: 16px 40px;
              background: linear-gradient(135deg, #f59e0b, #d97706);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            }
            .part-source-icon {
              font-size: 2rem;
              margin-bottom: 4px;
            }
            .part-source-text {
              font-weight: 600;
            }
            .part-source-size {
              font-size: 0.75rem;
              opacity: 0.8;
            }
            .part-arrow {
              color: #6b7280;
              font-size: 1rem;
            }
            .part-key {
              padding: 10px 20px;
              background: rgba(139, 92, 246, 0.15);
              border: 1px dashed rgba(139, 92, 246, 0.4);
              border-radius: 8px;
              font-size: 0.8rem;
              color: #a78bfa;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .part-shards {
              display: flex;
              gap: 14px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .part-shard {
              padding: 16px 20px;
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
              transition: all 0.3s ease;
            }
            .part-shard:hover {
              transform: translateY(-3px);
            }
            .part-shard:nth-child(1) { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4); }
            .part-shard:nth-child(2) { background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4); }
            .part-shard:nth-child(3) { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.4); }
            .part-shard:nth-child(4) { background: rgba(236, 72, 153, 0.15); border: 1px solid rgba(236, 72, 153, 0.4); }
            .part-shard-icon {
              font-size: 1.5rem;
              margin-bottom: 6px;
            }
            .part-shard-name {
              font-size: 0.85rem;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .part-shard:nth-child(1) .part-shard-name { color: #3b82f6; }
            .part-shard:nth-child(2) .part-shard-name { color: #10b981; }
            .part-shard:nth-child(3) .part-shard-name { color: #8b5cf6; }
            .part-shard:nth-child(4) .part-shard-name { color: #ec4899; }
            .part-shard-range {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .part-shard-count {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Strategies */
            .part-strategies {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .part-strat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .part-strat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .part-strat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .part-strat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .part-strat {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .part-strat-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .part-strat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 3px;
            }
            .part-strat-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="part-viz">
            <!-- Partitioning Demo -->
            <div class="part-demo">
              <div class="part-demo-title">Data Partitioning (Sharding)</div>
              <div class="part-flow">
                <div class="part-source">
                  <div class="part-source-icon">üì¶</div>
                  <div class="part-source-text">Full Dataset</div>
                  <div class="part-source-size">10TB ‚Ä¢ 100M records</div>
                </div>
                <div class="part-arrow">‚¨áÔ∏è Partition by user_id ‚¨áÔ∏è</div>
                <div class="part-key">üîë hash(user_id) % 4 ‚Üí Shard Assignment</div>
                <div class="part-shards">
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 0</div>
                    <div class="part-shard-range">hash = 0</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 1</div>
                    <div class="part-shard-range">hash = 1</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 2</div>
                    <div class="part-shard-range">hash = 2</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                  <div class="part-shard">
                    <div class="part-shard-icon">üìÅ</div>
                    <div class="part-shard-name">Shard 3</div>
                    <div class="part-shard-range">hash = 3</div>
                    <div class="part-shard-count">25M records</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Strategies -->
            <div class="part-strategies">
              <div class="part-strat-title">Partitioning Strategies</div>
              <div class="part-strat-grid">
                <div class="part-strat">
                  <div class="part-strat-icon">üìè</div>
                  <div class="part-strat-name">Range</div>
                  <div class="part-strat-desc">By date or ID range</div>
                </div>
                <div class="part-strat">
                  <div class="part-strat-icon">#Ô∏è‚É£</div>
                  <div class="part-strat-name">Hash</div>
                  <div class="part-strat-desc">Even distribution</div>
                </div>
                <div class="part-strat">
                  <div class="part-strat-icon">üìã</div>
                  <div class="part-strat-name">List</div>
                  <div class="part-strat-desc">By category/region</div>
                </div>
                <div class="part-strat">
                  <div class="part-strat-icon">üîÄ</div>
                  <div class="part-strat-name">Composite</div>
                  <div class="part-strat-desc">Combined approach</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Partitioning</strong> (also called sharding) divides a database into smaller, more manageable pieces called partitions. Each partition holds a subset of the data.</p>
          <p>This enables horizontal scaling by distributing data across multiple nodes, improving query performance and allowing the system to handle larger datasets.</p>
        `,
        keyPoints: [
          { icon: "üî§", title: "Range Partitioning", desc: "Divide data by ranges of a key (e.g., dates, alphabetical). Simple but can create hotspots.", color: "#f59e0b" },
          { icon: "#Ô∏è‚É£", title: "Hash Partitioning", desc: "Use hash function on key to distribute evenly. Good balance but harder range queries.", color: "#3b82f6" },
          { icon: "üìã", title: "List Partitioning", desc: "Assign partitions based on predefined lists (e.g., by country or category).", color: "#8b5cf6" },
          { icon: "üîÄ", title: "Composite Partitioning", desc: "Combine strategies (e.g., hash then range) for complex requirements.", color: "#10b981" }
        ],
        formula: "Partition Key ‚Üí Hash Function ‚Üí Partition Assignment",
        strategies: [
          { title: "Choose Good Partition Key", desc: "Select a key with high cardinality and even distribution to avoid hotspots." },
          { title: "Consistent Hashing", desc: "Use consistent hashing to minimize data movement when adding/removing nodes." },
          { title: "Secondary Indexes", desc: "Handle secondary indexes carefully - local (per-partition) or global (distributed)." },
          { title: "Cross-Partition Queries", desc: "Design to minimize queries that span multiple partitions for better performance." }
        ],
        metrics: [
          { level: "Shard Count", downtime: "Number of partitions", useCase: "Scale and management" },
          { level: "Hotspot Ratio", downtime: "Load imbalance", useCase: "Partition key effectiveness" },
          { level: "Rebalance Time", downtime: "Data migration duration", useCase: "Scaling operations" },
          { level: "Cross-shard %", downtime: "Multi-partition queries", useCase: "Query efficiency" }
        ]
      },
      replication: {
        title: "Replication",
        subtitle: "Copying data across multiple nodes to improve availability, durability, and read performance.",
        badge: { text: "Data Management", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .rep-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .rep-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .rep-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rep-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .rep-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .rep-primary {
              padding: 20px 40px;
              background: linear-gradient(135deg, #10b981, #059669);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
              position: relative;
            }
            .rep-primary-icon {
              font-size: 2rem;
              margin-bottom: 4px;
            }
            .rep-primary-name {
              font-weight: 600;
              font-size: 1rem;
            }
            .rep-primary-role {
              font-size: 0.75rem;
              opacity: 0.8;
            }
            .rep-arrows {
              display: flex;
              gap: 30px;
              color: #10b981;
            }
            .rep-arrow {
              display: flex;
              flex-direction: column;
              align-items: center;
              font-size: 0.7rem;
              color: #6b7280;
            }
            .rep-arrow-icon {
              font-size: 1.2rem;
              color: #10b981;
              animation: repSync 1s ease-in-out infinite;
            }
            .rep-arrow:nth-child(2) .rep-arrow-icon { animation-delay: 0.3s; }
            .rep-arrow:nth-child(3) .rep-arrow-icon { animation-delay: 0.6s; }
            @keyframes repSync {
              0%, 100% { opacity: 0.5; transform: translateY(0); }
              50% { opacity: 1; transform: translateY(3px); }
            }
            .rep-replicas {
              display: flex;
              gap: 16px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .rep-replica {
              padding: 16px 24px;
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
            }
            .rep-replica-icon {
              font-size: 1.4rem;
              margin-bottom: 4px;
            }
            .rep-replica-name {
              font-size: 0.85rem;
              font-weight: 500;
              color: #10b981;
            }
            .rep-replica-role {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .rep-replica-lag {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Replication Types */
            .rep-types {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .rep-types-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rep-types-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .rep-types-grid {
              display: grid;
              grid-template-columns: repeat(3, 1fr);
              gap: 12px;
            }
            @media (max-width: 600px) {
              .rep-types-grid { grid-template-columns: 1fr; }
            }
            .rep-type {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .rep-type-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .rep-type-name {
              font-size: 0.85rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .rep-type-desc {
              font-size: 0.7rem;
              color: #6b7280;
            }
          </style>
          
          <div class="rep-viz">
            <!-- Replication Flow -->
            <div class="rep-flow">
              <div class="rep-flow-title">Leader-Follower Replication</div>
              <div class="rep-diagram">
                <div class="rep-primary">
                  <div class="rep-primary-icon">üëë</div>
                  <div class="rep-primary-name">Primary (Leader)</div>
                  <div class="rep-primary-role">Handles all Writes</div>
                </div>
                <div class="rep-arrows">
                  <div class="rep-arrow">
                    <span class="rep-arrow-icon">‚Üì</span>
                    <span>sync</span>
                  </div>
                  <div class="rep-arrow">
                    <span class="rep-arrow-icon">‚Üì</span>
                    <span>async</span>
                  </div>
                  <div class="rep-arrow">
                    <span class="rep-arrow-icon">‚Üì</span>
                    <span>async</span>
                  </div>
                </div>
                <div class="rep-replicas">
                  <div class="rep-replica">
                    <div class="rep-replica-icon">üìã</div>
                    <div class="rep-replica-name">Replica 1</div>
                    <div class="rep-replica-role">Read-only</div>
                    <div class="rep-replica-lag">Lag: 0ms</div>
                  </div>
                  <div class="rep-replica">
                    <div class="rep-replica-icon">üìã</div>
                    <div class="rep-replica-name">Replica 2</div>
                    <div class="rep-replica-role">Read-only</div>
                    <div class="rep-replica-lag">Lag: 120ms</div>
                  </div>
                  <div class="rep-replica">
                    <div class="rep-replica-icon">üìã</div>
                    <div class="rep-replica-name">Replica 3</div>
                    <div class="rep-replica-role">Read-only</div>
                    <div class="rep-replica-lag">Lag: 85ms</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Replication Types -->
            <div class="rep-types">
              <div class="rep-types-title">Replication Topologies</div>
              <div class="rep-types-grid">
                <div class="rep-type">
                  <div class="rep-type-icon">üëë</div>
                  <div class="rep-type-name">Leader-Follower</div>
                  <div class="rep-type-desc">One leader, many followers</div>
                </div>
                <div class="rep-type">
                  <div class="rep-type-icon">üë•</div>
                  <div class="rep-type-name">Multi-Leader</div>
                  <div class="rep-type-desc">Multiple write nodes</div>
                </div>
                <div class="rep-type">
                  <div class="rep-type-icon">üîÑ</div>
                  <div class="rep-type-name">Leaderless</div>
                  <div class="rep-type-desc">Any node accepts writes</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Replication</strong> maintains copies of data on multiple machines to provide redundancy, improve availability, and enable geographic distribution.</p>
          <p>The main challenge is keeping replicas consistent as data changes. Different replication strategies offer different trade-offs between consistency, performance, and availability.</p>
        `,
        keyPoints: [
          { icon: "üëë", title: "Leader-Follower", desc: "One leader handles writes, followers replicate and serve reads. Simple but leader is bottleneck.", color: "#10b981" },
          { icon: "üë•", title: "Multi-Leader", desc: "Multiple nodes accept writes. Better availability but complex conflict resolution.", color: "#8b5cf6" },
          { icon: "üîÑ", title: "Leaderless", desc: "Any node accepts reads/writes. High availability, uses quorums for consistency.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Sync vs Async", desc: "Synchronous ensures consistency; asynchronous improves performance but risks data loss.", color: "#f59e0b" }
        ],
        formula: "Quorum: W + R > N (Write nodes + Read nodes > Total nodes)",
        strategies: [
          { title: "Read Replicas", desc: "Add read-only replicas to scale read-heavy workloads without impacting write performance." },
          { title: "Geographic Replication", desc: "Place replicas in different regions for disaster recovery and reduced latency." },
          { title: "Conflict Resolution", desc: "Define strategies for handling concurrent updates - last-write-wins, merge, or custom logic." },
          { title: "Replication Lag Monitoring", desc: "Track and alert on replication delay to prevent stale reads in critical paths." }
        ],
        metrics: [
          { level: "Replication Lag", downtime: "Seconds behind primary", useCase: "Data freshness" },
          { level: "RPO", downtime: "Recovery Point Objective", useCase: "Max data loss tolerance" },
          { level: "Replica Count", downtime: "Number of copies", useCase: "Durability level" },
          { level: "Failover Time", downtime: "Promotion duration", useCase: "Availability during failures" }
        ]
      },
      acid: {
        title: "ACID Properties",
        subtitle: "Database transaction guarantees ensuring reliable processing of database transactions.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .acid-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .acid-props {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .acid-props-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .acid-props-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .acid-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 16px;
            }
            @media (max-width: 700px) {
              .acid-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .acid-prop {
              padding: 20px;
              border-radius: 14px;
              text-align: center;
              transition: all 0.3s ease;
            }
            .acid-prop:hover {
              transform: translateY(-4px);
            }
            .acid-prop.a {
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.4);
            }
            .acid-prop.c {
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
            }
            .acid-prop.i {
              background: rgba(139, 92, 246, 0.15);
              border: 1px solid rgba(139, 92, 246, 0.4);
            }
            .acid-prop.d {
              background: rgba(245, 158, 11, 0.15);
              border: 1px solid rgba(245, 158, 11, 0.4);
            }
            .acid-prop-icon {
              font-size: 2rem;
              margin-bottom: 10px;
            }
            .acid-prop-name {
              font-weight: 700;
              font-size: 1rem;
              margin-bottom: 6px;
            }
            .acid-prop.a .acid-prop-name { color: #3b82f6; }
            .acid-prop.c .acid-prop-name { color: #10b981; }
            .acid-prop.i .acid-prop-name { color: #8b5cf6; }
            .acid-prop.d .acid-prop-name { color: #f59e0b; }
            .acid-prop-desc {
              font-size: 0.75rem;
              color: #a0a0b0;
              margin-bottom: 8px;
            }
            .acid-prop-example {
              font-size: 0.65rem;
              color: #6b7280;
              padding: 4px 8px;
              background: rgba(0, 0, 0, 0.2);
              border-radius: 6px;
            }
            
            /* ACID vs BASE */
            .acid-compare {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .acid-compare-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .acid-compare-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .acid-compare-row {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 16px;
            }
            @media (max-width: 600px) {
              .acid-compare-row { grid-template-columns: 1fr; }
            }
            .acid-model {
              padding: 16px;
              border-radius: 12px;
              text-align: center;
            }
            .acid-model.acid-m {
              background: rgba(139, 92, 246, 0.1);
              border: 1px solid rgba(139, 92, 246, 0.3);
            }
            .acid-model.base {
              background: rgba(245, 158, 11, 0.1);
              border: 1px solid rgba(245, 158, 11, 0.3);
            }
            .acid-model-name {
              font-weight: 600;
              font-size: 1rem;
              margin-bottom: 8px;
            }
            .acid-model.acid-m .acid-model-name { color: #8b5cf6; }
            .acid-model.base .acid-model-name { color: #f59e0b; }
            .acid-model-features {
              display: flex;
              flex-direction: column;
              gap: 4px;
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            .acid-model-use {
              margin-top: 10px;
              font-size: 0.7rem;
              padding: 4px 10px;
              border-radius: 10px;
              display: inline-block;
            }
            .acid-model.acid-m .acid-model-use { background: rgba(139, 92, 246, 0.2); color: #a78bfa; }
            .acid-model.base .acid-model-use { background: rgba(245, 158, 11, 0.2); color: #fbbf24; }
          </style>
          
          <div class="acid-viz">
            <!-- ACID Properties -->
            <div class="acid-props">
              <div class="acid-props-title">The Four ACID Guarantees</div>
              <div class="acid-grid">
                <div class="acid-prop a">
                  <div class="acid-prop-icon">‚öõÔ∏è</div>
                  <div class="acid-prop-name">Atomicity</div>
                  <div class="acid-prop-desc">All or Nothing</div>
                  <div class="acid-prop-example">Rollback on failure</div>
                </div>
                <div class="acid-prop c">
                  <div class="acid-prop-icon">‚úÖ</div>
                  <div class="acid-prop-name">Consistency</div>
                  <div class="acid-prop-desc">Valid State Only</div>
                  <div class="acid-prop-example">Constraints enforced</div>
                </div>
                <div class="acid-prop i">
                  <div class="acid-prop-icon">üîí</div>
                  <div class="acid-prop-name">Isolation</div>
                  <div class="acid-prop-desc">No Interference</div>
                  <div class="acid-prop-example">Concurrent safety</div>
                </div>
                <div class="acid-prop d">
                  <div class="acid-prop-icon">üíæ</div>
                  <div class="acid-prop-name">Durability</div>
                  <div class="acid-prop-desc">Permanent</div>
                  <div class="acid-prop-example">Survives crashes</div>
                </div>
              </div>
            </div>
            
            <!-- ACID vs BASE -->
            <div class="acid-compare">
              <div class="acid-compare-title">ACID vs BASE Models</div>
              <div class="acid-compare-row">
                <div class="acid-model acid-m">
                  <div class="acid-model-name">ACID</div>
                  <div class="acid-model-features">
                    <span>‚úì Strong consistency</span>
                    <span>‚úì Immediate correctness</span>
                    <span>‚úì Transaction safety</span>
                  </div>
                  <div class="acid-model-use">PostgreSQL, MySQL</div>
                </div>
                <div class="acid-model base">
                  <div class="acid-model-name">BASE</div>
                  <div class="acid-model-features">
                    <span>‚úì Basically Available</span>
                    <span>‚úì Soft state</span>
                    <span>‚úì Eventually consistent</span>
                  </div>
                  <div class="acid-model-use">Cassandra, DynamoDB</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>ACID</strong> is a set of properties that guarantee database transactions are processed reliably. These properties are essential for systems that require data integrity.</p>
          <p>ACID compliance is standard in traditional relational databases but often relaxed in distributed NoSQL systems for better scalability and availability (BASE model).</p>
        `,
        keyPoints: [
          { icon: "‚öõÔ∏è", title: "Atomicity", desc: "Transaction is all-or-nothing. If any part fails, entire transaction is rolled back.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Consistency", desc: "Transaction brings database from one valid state to another, respecting all constraints.", color: "#10b981" },
          { icon: "üîí", title: "Isolation", desc: "Concurrent transactions don't interfere with each other, as if run sequentially.", color: "#8b5cf6" },
          { icon: "üíæ", title: "Durability", desc: "Once committed, data survives system failures through persistent storage and logs.", color: "#f59e0b" }
        ],
        formula: "ACID (Strong Consistency) vs BASE (Eventual Consistency)",
        strategies: [
          { title: "Transaction Logging", desc: "Use write-ahead logging (WAL) to ensure durability and enable recovery after crashes." },
          { title: "Isolation Levels", desc: "Choose appropriate level (Read Uncommitted ‚Üí Serializable) based on consistency vs performance needs." },
          { title: "Two-Phase Commit", desc: "Coordinate distributed transactions across multiple databases with 2PC protocol." },
          { title: "Saga Pattern", desc: "For microservices, use sagas with compensating transactions instead of distributed ACID." }
        ],
        metrics: [
          { level: "Serializable", downtime: "Strongest isolation", useCase: "Financial transactions" },
          { level: "Repeatable Read", downtime: "Prevents non-repeatable reads", useCase: "Reporting queries" },
          { level: "Read Committed", downtime: "Default in most DBs", useCase: "General applications" },
          { level: "Read Uncommitted", downtime: "Weakest, dirty reads", useCase: "Analytics (rare)" }
        ]
      },
      microservices: {
        title: "Microservices",
        subtitle: "Architectural style that structures an application as a collection of loosely coupled, independently deployable services.",
        badge: { text: "Architecture Pattern", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .ms-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .ms-architecture {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(236, 72, 153, 0.2);
            }
            .ms-arch-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ms-arch-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ec4899;
              border-radius: 50%;
            }
            .ms-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .ms-clients {
              display: flex;
              gap: 12px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .ms-client {
              padding: 10px 16px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.3);
              border-radius: 8px;
              font-size: 0.8rem;
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .ms-gateway {
              padding: 16px 40px;
              background: linear-gradient(135deg, #ec4899, #db2777);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(236, 72, 153, 0.3);
            }
            .ms-gateway-icon {
              font-size: 1.5rem;
              margin-bottom: 4px;
            }
            .ms-gateway-text {
              font-weight: 600;
            }
            .ms-gateway-sub {
              font-size: 0.7rem;
              opacity: 0.8;
            }
            .ms-arrow {
              color: #6b7280;
              font-size: 0.9rem;
            }
            .ms-services {
              display: flex;
              gap: 12px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .ms-service {
              padding: 14px 18px;
              border-radius: 10px;
              text-align: center;
              min-width: 90px;
              border: 1px solid;
              transition: all 0.3s ease;
            }
            .ms-service:hover {
              transform: translateY(-3px);
            }
            .ms-service:nth-child(1) { background: rgba(59, 130, 246, 0.15); border-color: rgba(59, 130, 246, 0.4); }
            .ms-service:nth-child(2) { background: rgba(16, 185, 129, 0.15); border-color: rgba(16, 185, 129, 0.4); }
            .ms-service:nth-child(3) { background: rgba(245, 158, 11, 0.15); border-color: rgba(245, 158, 11, 0.4); }
            .ms-service:nth-child(4) { background: rgba(139, 92, 246, 0.15); border-color: rgba(139, 92, 246, 0.4); }
            .ms-service:nth-child(5) { background: rgba(239, 68, 68, 0.15); border-color: rgba(239, 68, 68, 0.4); }
            .ms-svc-icon {
              font-size: 1.5rem;
              margin-bottom: 6px;
            }
            .ms-svc-name {
              font-size: 0.8rem;
              font-weight: 500;
              margin-bottom: 4px;
            }
            .ms-svc-db {
              font-size: 0.65rem;
              color: #6b7280;
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 3px;
            }
            .ms-queue-layer {
              display: flex;
              align-items: center;
              gap: 12px;
              padding: 12px 20px;
              background: rgba(139, 92, 246, 0.1);
              border: 1px dashed rgba(139, 92, 246, 0.3);
              border-radius: 10px;
            }
            .ms-queue-icon {
              font-size: 1.2rem;
            }
            .ms-queue-text {
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            
            /* Benefits */
            .ms-benefits {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .ms-ben-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ms-ben-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .ms-ben-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .ms-ben-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .ms-ben {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .ms-ben-icon {
              font-size: 1.3rem;
              margin-bottom: 6px;
            }
            .ms-ben-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .ms-ben-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="ms-viz">
            <!-- Architecture Diagram -->
            <div class="ms-architecture">
              <div class="ms-arch-title">Microservices Architecture</div>
              <div class="ms-diagram">
                <div class="ms-clients">
                  <div class="ms-client">üì± Mobile</div>
                  <div class="ms-client">üíª Web</div>
                  <div class="ms-client">üîå Partners</div>
                </div>
                <div class="ms-arrow">‚Üì</div>
                <div class="ms-gateway">
                  <div class="ms-gateway-icon">üö™</div>
                  <div class="ms-gateway-text">API Gateway</div>
                  <div class="ms-gateway-sub">Auth ‚Ä¢ Rate Limit ‚Ä¢ Route</div>
                </div>
                <div class="ms-arrow">‚Üì</div>
                <div class="ms-services">
                  <div class="ms-service">
                    <div class="ms-svc-icon">üë§</div>
                    <div class="ms-svc-name">Users</div>
                    <div class="ms-svc-db">üíæ PostgreSQL</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üì¶</div>
                    <div class="ms-svc-name">Orders</div>
                    <div class="ms-svc-db">üíæ MongoDB</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üí≥</div>
                    <div class="ms-svc-name">Payments</div>
                    <div class="ms-svc-db">üíæ PostgreSQL</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üì¶</div>
                    <div class="ms-svc-name">Inventory</div>
                    <div class="ms-svc-db">üíæ Redis</div>
                  </div>
                  <div class="ms-service">
                    <div class="ms-svc-icon">üìß</div>
                    <div class="ms-svc-name">Notifications</div>
                    <div class="ms-svc-db">üíæ DynamoDB</div>
                  </div>
                </div>
                <div class="ms-arrow">‚Üë‚Üì</div>
                <div class="ms-queue-layer">
                  <span class="ms-queue-icon">üì¨</span>
                  <span class="ms-queue-text">Event Bus (Kafka/RabbitMQ) ‚Äî Async Communication</span>
                </div>
              </div>
            </div>
            
            <!-- Benefits -->
            <div class="ms-benefits">
              <div class="ms-ben-title">Key Benefits</div>
              <div class="ms-ben-grid">
                <div class="ms-ben">
                  <div class="ms-ben-icon">üöÄ</div>
                  <div class="ms-ben-name">Independent Deploy</div>
                  <div class="ms-ben-desc">Update without downtime</div>
                </div>
                <div class="ms-ben">
                  <div class="ms-ben-icon">üìà</div>
                  <div class="ms-ben-name">Scale Individually</div>
                  <div class="ms-ben-desc">Scale what's needed</div>
                </div>
                <div class="ms-ben">
                  <div class="ms-ben-icon">üîß</div>
                  <div class="ms-ben-name">Tech Flexibility</div>
                  <div class="ms-ben-desc">Best tool per job</div>
                </div>
                <div class="ms-ben">
                  <div class="ms-ben-icon">üë•</div>
                  <div class="ms-ben-name">Team Ownership</div>
                  <div class="ms-ben-desc">Autonomous teams</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Microservices</strong> architecture breaks down applications into small, independent services that communicate over well-defined APIs. Each service is owned by a small team and can be deployed independently.</p>
          <p>This approach enables scalability, technology diversity, and faster development cycles, but introduces complexity in service communication, data consistency, and operations.</p>
        `,
        keyPoints: [
          { icon: "üéØ", title: "Single Responsibility", desc: "Each service does one thing well, with clear boundaries and ownership.", color: "#ec4899" },
          { icon: "üöÄ", title: "Independent Deployment", desc: "Deploy, scale, and update services without affecting others.", color: "#3b82f6" },
          { icon: "üí¨", title: "API Communication", desc: "Services communicate via REST, gRPC, or async messaging.", color: "#10b981" },
          { icon: "üìä", title: "Decentralized Data", desc: "Each service manages its own database, avoiding shared state.", color: "#f59e0b" }
        ],
        formula: "Microservices = Small Services + Smart Endpoints + Dumb Pipes",
        strategies: [
          { title: "Domain-Driven Design", desc: "Use bounded contexts to identify service boundaries based on business domains." },
          { title: "API Gateway Pattern", desc: "Single entry point handles routing, authentication, rate limiting, and aggregation." },
          { title: "Service Mesh", desc: "Use Istio/Linkerd for service-to-service communication, observability, and security." },
          { title: "Event-Driven Architecture", desc: "Use events for loose coupling and eventual consistency between services." }
        ],
        metrics: [
          { level: "Service Count", downtime: "Number of services", useCase: "Complexity indicator" },
          { level: "Deploy Frequency", downtime: "Releases per day", useCase: "Development velocity" },
          { level: "Service Latency", downtime: "Inter-service calls", useCase: "Performance overhead" },
          { level: "Failure Rate", downtime: "Per-service errors", useCase: "Reliability monitoring" }
        ]
      },
      "message-queues": {
        title: "Message Queues",
        subtitle: "Asynchronous communication mechanism that decouples producers and consumers of messages.",
        badge: { text: "Architecture Pattern", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .mq-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .mq-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .mq-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .mq-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .mq-diagram {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 16px;
              flex-wrap: wrap;
            }
            .mq-producers {
              display: flex;
              flex-direction: column;
              gap: 8px;
            }
            .mq-producer {
              padding: 12px 18px;
              background: rgba(59, 130, 246, 0.15);
              border: 1px solid rgba(59, 130, 246, 0.4);
              border-radius: 10px;
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.85rem;
              animation: produceMsg 2s ease-in-out infinite;
            }
            .mq-producer:nth-child(2) { animation-delay: 0.7s; }
            .mq-producer:nth-child(3) { animation-delay: 1.4s; }
            @keyframes produceMsg {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(5px); }
            }
            .mq-arrows {
              display: flex;
              flex-direction: column;
              gap: 8px;
              color: #6b7280;
            }
            .mq-arrow {
              animation: arrowFlow 1s ease-in-out infinite;
            }
            .mq-arrow:nth-child(2) { animation-delay: 0.3s; }
            .mq-arrow:nth-child(3) { animation-delay: 0.6s; }
            @keyframes arrowFlow {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 1; }
            }
            .mq-queue {
              padding: 20px 30px;
              background: linear-gradient(135deg, #8b5cf6, #6d28d9);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(139, 92, 246, 0.3);
            }
            .mq-queue-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .mq-queue-name {
              font-weight: 600;
              margin-bottom: 8px;
            }
            .mq-messages {
              display: flex;
              gap: 4px;
              justify-content: center;
            }
            .mq-msg {
              padding: 4px 10px;
              background: rgba(255, 255, 255, 0.25);
              border-radius: 4px;
              font-size: 0.7rem;
              animation: msgPulse 1.5s ease-in-out infinite;
            }
            .mq-msg:nth-child(1) { animation-delay: 0s; }
            .mq-msg:nth-child(2) { animation-delay: 0.3s; }
            .mq-msg:nth-child(3) { animation-delay: 0.6s; }
            .mq-msg:nth-child(4) { animation-delay: 0.9s; }
            @keyframes msgPulse {
              0%, 100% { opacity: 0.6; }
              50% { opacity: 1; }
            }
            .mq-queue-count {
              font-size: 0.7rem;
              opacity: 0.8;
              margin-top: 8px;
            }
            .mq-consumers {
              display: flex;
              flex-direction: column;
              gap: 8px;
            }
            .mq-consumer {
              padding: 12px 18px;
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 10px;
              display: flex;
              align-items: center;
              gap: 8px;
              font-size: 0.85rem;
            }
            
            /* Patterns */
            .mq-patterns {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .mq-pat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .mq-pat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .mq-pat-grid {
              display: grid;
              grid-template-columns: repeat(2, 1fr);
              gap: 16px;
            }
            @media (max-width: 600px) {
              .mq-pat-grid { grid-template-columns: 1fr; }
            }
            .mq-pattern {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              display: flex;
              align-items: flex-start;
              gap: 12px;
            }
            .mq-pat-icon {
              font-size: 1.5rem;
            }
            .mq-pat-content {
              flex: 1;
            }
            .mq-pat-name {
              font-weight: 500;
              font-size: 0.9rem;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .mq-pat-desc {
              font-size: 0.75rem;
              color: #6b7280;
            }
          </style>
          
          <div class="mq-viz">
            <!-- Message Flow -->
            <div class="mq-flow">
              <div class="mq-flow-title">Asynchronous Message Flow</div>
              <div class="mq-diagram">
                <div class="mq-producers">
                  <div class="mq-producer">üì§ Order Service</div>
                  <div class="mq-producer">üì§ Payment Service</div>
                  <div class="mq-producer">üì§ User Service</div>
                </div>
                <div class="mq-arrows">
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                </div>
                <div class="mq-queue">
                  <div class="mq-queue-icon">üì¨</div>
                  <div class="mq-queue-name">Message Queue</div>
                  <div class="mq-messages">
                    <span class="mq-msg">msg</span>
                    <span class="mq-msg">msg</span>
                    <span class="mq-msg">msg</span>
                    <span class="mq-msg">msg</span>
                  </div>
                  <div class="mq-queue-count">4 pending messages</div>
                </div>
                <div class="mq-arrows">
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                  <span class="mq-arrow">‚Üí</span>
                </div>
                <div class="mq-consumers">
                  <div class="mq-consumer">üì• Email Worker</div>
                  <div class="mq-consumer">üì• Analytics Worker</div>
                  <div class="mq-consumer">üì• Notification Worker</div>
                </div>
              </div>
            </div>
            
            <!-- Patterns -->
            <div class="mq-patterns">
              <div class="mq-pat-title">Messaging Patterns</div>
              <div class="mq-pat-grid">
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üì§</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Point-to-Point</div>
                    <div class="mq-pat-desc">One producer, one consumer. Each message processed once.</div>
                  </div>
                </div>
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üì¢</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Pub/Sub</div>
                    <div class="mq-pat-desc">Publish to topic, multiple subscribers receive copies.</div>
                  </div>
                </div>
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üîÑ</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Request/Reply</div>
                    <div class="mq-pat-desc">Async RPC with correlation IDs for response matching.</div>
                  </div>
                </div>
                <div class="mq-pattern">
                  <span class="mq-pat-icon">üíÄ</span>
                  <div class="mq-pat-content">
                    <div class="mq-pat-name">Dead Letter Queue</div>
                    <div class="mq-pat-desc">Failed messages stored for later analysis/retry.</div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Message Queues</strong> enable asynchronous communication by allowing components to send messages without waiting for immediate processing. Messages are stored until consumers are ready.</p>
          <p>This pattern improves resilience (producers don't fail if consumers are down), enables load leveling, and allows independent scaling of components.</p>
        `,
        keyPoints: [
          { icon: "üì§", title: "Decoupling", desc: "Producers and consumers operate independently, improving system resilience.", color: "#8b5cf6" },
          { icon: "üìä", title: "Load Leveling", desc: "Buffer traffic spikes, processing messages at sustainable rates.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Guaranteed Delivery", desc: "Messages persist until acknowledged, surviving failures.", color: "#10b981" },
          { icon: "üì¢", title: "Pub/Sub", desc: "Publish to topics, multiple subscribers receive copies.", color: "#f59e0b" }
        ],
        formula: "Throughput = Messages Produced ‚â§ Queue Capacity ‚â• Messages Consumed",
        strategies: [
          { title: "Dead Letter Queues", desc: "Route failed messages to a separate queue for analysis and reprocessing." },
          { title: "Idempotent Consumers", desc: "Design consumers to handle duplicate messages safely (at-least-once delivery)." },
          { title: "Message Ordering", desc: "Use partitioned queues when order matters; distribute for parallelism otherwise." },
          { title: "Backpressure Handling", desc: "Implement flow control when consumers can't keep up with producers." }
        ],
        metrics: [
          { level: "Kafka", downtime: "High throughput, distributed", useCase: "Event streaming, logs" },
          { level: "RabbitMQ", downtime: "Feature-rich, AMQP", useCase: "Complex routing, RPC" },
          { level: "SQS", downtime: "Managed, serverless", useCase: "AWS-native workloads" },
          { level: "Redis Streams", downtime: "In-memory, fast", useCase: "Real-time messaging" }
        ]
      },
      "api-gateway": {
        title: "API Gateway",
        subtitle: "A single entry point for all client requests that handles cross-cutting concerns and routes to appropriate services.",
        badge: { text: "Architecture Pattern", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .apigw-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .apigw-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(6, 182, 212, 0.2);
            }
            .apigw-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .apigw-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #06b6d4;
              border-radius: 50%;
            }
            .apigw-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 12px;
            }
            .apigw-clients {
              display: flex;
              gap: 10px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .apigw-client {
              padding: 10px 16px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.4);
              border-radius: 8px;
              font-size: 0.8rem;
              display: flex;
              align-items: center;
              gap: 6px;
            }
            .apigw-arrow {
              color: #06b6d4;
              font-size: 1rem;
            }
            .apigw-gateway {
              padding: 20px 50px;
              background: linear-gradient(135deg, #06b6d4, #0891b2);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(6, 182, 212, 0.3);
            }
            .apigw-gw-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .apigw-gw-name {
              font-weight: 700;
              font-size: 1.1rem;
            }
            .apigw-features {
              display: flex;
              gap: 8px;
              margin-top: 10px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .apigw-feature {
              padding: 4px 10px;
              background: rgba(255, 255, 255, 0.2);
              border-radius: 12px;
              font-size: 0.65rem;
            }
            .apigw-services {
              display: flex;
              gap: 12px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .apigw-service {
              padding: 14px 20px;
              border-radius: 10px;
              text-align: center;
              min-width: 100px;
            }
            .apigw-service:nth-child(1) { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4); }
            .apigw-service:nth-child(2) { background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4); }
            .apigw-service:nth-child(3) { background: rgba(245, 158, 11, 0.15); border: 1px solid rgba(245, 158, 11, 0.4); }
            .apigw-service:nth-child(4) { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.4); }
            .apigw-svc-icon {
              font-size: 1.3rem;
              margin-bottom: 4px;
            }
            .apigw-svc-name {
              font-size: 0.8rem;
              font-weight: 500;
            }
            .apigw-service:nth-child(1) .apigw-svc-name { color: #3b82f6; }
            .apigw-service:nth-child(2) .apigw-svc-name { color: #10b981; }
            .apigw-service:nth-child(3) .apigw-svc-name { color: #f59e0b; }
            .apigw-service:nth-child(4) .apigw-svc-name { color: #8b5cf6; }
            
            /* Responsibilities */
            .apigw-resp {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .apigw-resp-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .apigw-resp-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .apigw-resp-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .apigw-resp-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .apigw-resp-item {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .apigw-resp-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .apigw-resp-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
            }
          </style>
          
          <div class="apigw-viz">
            <!-- API Flow -->
            <div class="apigw-flow">
              <div class="apigw-flow-title">API Gateway Architecture</div>
              <div class="apigw-diagram">
                <div class="apigw-clients">
                  <div class="apigw-client">üì± Mobile App</div>
                  <div class="apigw-client">üíª Web App</div>
                  <div class="apigw-client">üîå Third Party</div>
                  <div class="apigw-client">üñ•Ô∏è Internal</div>
                </div>
                <div class="apigw-arrow">‚Üì</div>
                <div class="apigw-gateway">
                  <div class="apigw-gw-icon">üö™</div>
                  <div class="apigw-gw-name">API Gateway</div>
                  <div class="apigw-features">
                    <span class="apigw-feature">üîê Auth</span>
                    <span class="apigw-feature">üö¶ Rate Limit</span>
                    <span class="apigw-feature">üîÄ Route</span>
                    <span class="apigw-feature">üìä Analytics</span>
                  </div>
                </div>
                <div class="apigw-arrow">‚Üì</div>
                <div class="apigw-services">
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üë§</div>
                    <div class="apigw-svc-name">Users</div>
                  </div>
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üì¶</div>
                    <div class="apigw-svc-name">Orders</div>
                  </div>
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üí≥</div>
                    <div class="apigw-svc-name">Payments</div>
                  </div>
                  <div class="apigw-service">
                    <div class="apigw-svc-icon">üìß</div>
                    <div class="apigw-svc-name">Notifications</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Responsibilities -->
            <div class="apigw-resp">
              <div class="apigw-resp-title">Gateway Responsibilities</div>
              <div class="apigw-resp-grid">
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">üîê</div>
                  <div class="apigw-resp-name">Authentication</div>
                </div>
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">üö¶</div>
                  <div class="apigw-resp-name">Rate Limiting</div>
                </div>
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">üîÑ</div>
                  <div class="apigw-resp-name">Request Transform</div>
                </div>
                <div class="apigw-resp-item">
                  <div class="apigw-resp-icon">‚öñÔ∏è</div>
                  <div class="apigw-resp-name">Load Balancing</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>An <strong>API Gateway</strong> sits between clients and backend services, providing a unified interface. It handles authentication, rate limiting, request routing, load balancing, and response aggregation.</p>
          <p>This centralizes cross-cutting concerns, simplifies client code, and allows backend services to focus on business logic rather than common infrastructure concerns.</p>
        `,
        keyPoints: [
          { icon: "üîê", title: "Authentication", desc: "Validate tokens, API keys, and enforce security policies at the edge.", color: "#06b6d4" },
          { icon: "üö¶", title: "Rate Limiting", desc: "Protect services from abuse by limiting requests per client.", color: "#ef4444" },
          { icon: "üîÄ", title: "Request Routing", desc: "Route requests to appropriate backend services based on path, headers.", color: "#3b82f6" },
          { icon: "üìä", title: "Response Aggregation", desc: "Combine responses from multiple services into a single response.", color: "#10b981" }
        ],
        formula: "Client ‚Üí Gateway ‚Üí [Auth + Rate Limit + Transform] ‚Üí Service",
        strategies: [
          { title: "Backend for Frontend (BFF)", desc: "Create specialized gateways for each client type (mobile, web) with tailored APIs." },
          { title: "Request/Response Transformation", desc: "Adapt request/response formats between clients and services." },
          { title: "Circuit Breaker Integration", desc: "Fail fast and return cached/fallback responses when services are down." },
          { title: "API Versioning", desc: "Manage multiple API versions, routing to appropriate service versions." }
        ],
        metrics: [
          { level: "Kong", downtime: "Open source, plugins", useCase: "Flexible, self-hosted" },
          { level: "AWS API Gateway", downtime: "Serverless, managed", useCase: "AWS Lambda integration" },
          { level: "Apigee", downtime: "Enterprise features", useCase: "API management platform" },
          { level: "NGINX", downtime: "High performance", useCase: "Custom gateway builds" }
        ]
      },
      cdn: {
        title: "CDN",
        subtitle: "Content Delivery Network - A distributed network of servers that delivers content to users from geographically close locations.",
        badge: { text: "Architecture Pattern", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .cdn-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cdn-network {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .cdn-network-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cdn-network-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .cdn-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 16px;
            }
            .cdn-origin {
              padding: 18px 40px;
              background: linear-gradient(135deg, #10b981, #059669);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(16, 185, 129, 0.3);
            }
            .cdn-origin-icon {
              font-size: 1.8rem;
              margin-bottom: 4px;
            }
            .cdn-origin-text {
              font-weight: 600;
            }
            .cdn-arrows {
              display: flex;
              gap: 30px;
              color: #10b981;
            }
            .cdn-arrow {
              animation: cdnPush 1.5s ease-in-out infinite;
            }
            .cdn-arrow:nth-child(2) { animation-delay: 0.5s; }
            .cdn-arrow:nth-child(3) { animation-delay: 1s; }
            @keyframes cdnPush {
              0%, 100% { transform: translateY(0); opacity: 0.5; }
              50% { transform: translateY(4px); opacity: 1; }
            }
            .cdn-edges {
              display: flex;
              gap: 24px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .cdn-edge {
              text-align: center;
              transition: all 0.3s ease;
            }
            .cdn-edge:hover {
              transform: translateY(-3px);
            }
            .cdn-edge-globe {
              width: 70px;
              height: 70px;
              border-radius: 50%;
              display: flex;
              align-items: center;
              justify-content: center;
              margin: 0 auto 8px;
              font-size: 2rem;
              animation: globePulse 2s ease-in-out infinite;
            }
            .cdn-edge:nth-child(1) .cdn-edge-globe { background: rgba(59, 130, 246, 0.2); border: 2px solid rgba(59, 130, 246, 0.5); animation-delay: 0s; }
            .cdn-edge:nth-child(2) .cdn-edge-globe { background: rgba(139, 92, 246, 0.2); border: 2px solid rgba(139, 92, 246, 0.5); animation-delay: 0.7s; }
            .cdn-edge:nth-child(3) .cdn-edge-globe { background: rgba(245, 158, 11, 0.2); border: 2px solid rgba(245, 158, 11, 0.5); animation-delay: 1.4s; }
            @keyframes globePulse {
              0%, 100% { box-shadow: 0 0 0 0 rgba(16, 185, 129, 0.3); }
              50% { box-shadow: 0 0 0 8px rgba(16, 185, 129, 0); }
            }
            .cdn-edge-name {
              font-size: 0.85rem;
              font-weight: 500;
              margin-bottom: 2px;
            }
            .cdn-edge:nth-child(1) .cdn-edge-name { color: #3b82f6; }
            .cdn-edge:nth-child(2) .cdn-edge-name { color: #8b5cf6; }
            .cdn-edge:nth-child(3) .cdn-edge-name { color: #f59e0b; }
            .cdn-edge-latency {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .cdn-users {
              display: flex;
              gap: 20px;
              flex-wrap: wrap;
              justify-content: center;
              margin-top: 12px;
            }
            .cdn-user {
              display: flex;
              align-items: center;
              gap: 4px;
              font-size: 0.75rem;
              color: #a0a0b0;
            }
            
            /* Benefits */
            .cdn-benefits {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(59, 130, 246, 0.2);
            }
            .cdn-ben-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cdn-ben-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #3b82f6;
              border-radius: 50%;
            }
            .cdn-ben-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .cdn-ben-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .cdn-ben {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .cdn-ben-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .cdn-ben-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .cdn-ben-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="cdn-viz">
            <!-- CDN Network -->
            <div class="cdn-network">
              <div class="cdn-network-title">Global Content Distribution</div>
              <div class="cdn-diagram">
                <div class="cdn-origin">
                  <div class="cdn-origin-icon">üè¢</div>
                  <div class="cdn-origin-text">Origin Server</div>
                </div>
                <div class="cdn-arrows">
                  <span class="cdn-arrow">‚ÜôÔ∏è</span>
                  <span class="cdn-arrow">‚¨áÔ∏è</span>
                  <span class="cdn-arrow">‚ÜòÔ∏è</span>
                </div>
                <div class="cdn-edges">
                  <div class="cdn-edge">
                    <div class="cdn-edge-globe">üåç</div>
                    <div class="cdn-edge-name">Europe</div>
                    <div class="cdn-edge-latency">~20ms</div>
                  </div>
                  <div class="cdn-edge">
                    <div class="cdn-edge-globe">üåé</div>
                    <div class="cdn-edge-name">Americas</div>
                    <div class="cdn-edge-latency">~15ms</div>
                  </div>
                  <div class="cdn-edge">
                    <div class="cdn-edge-globe">üåè</div>
                    <div class="cdn-edge-name">Asia Pacific</div>
                    <div class="cdn-edge-latency">~25ms</div>
                  </div>
                </div>
                <div class="cdn-users">
                  <span class="cdn-user">üë§ User ‚Üí Nearest Edge</span>
                  <span class="cdn-user">‚ö° Low Latency</span>
                  <span class="cdn-user">üíæ Cached Content</span>
                </div>
              </div>
            </div>
            
            <!-- Benefits -->
            <div class="cdn-benefits">
              <div class="cdn-ben-title">CDN Benefits</div>
              <div class="cdn-ben-grid">
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">‚ö°</div>
                  <div class="cdn-ben-name">Speed</div>
                  <div class="cdn-ben-desc">Reduced latency</div>
                </div>
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">üõ°Ô∏è</div>
                  <div class="cdn-ben-name">DDoS Protection</div>
                  <div class="cdn-ben-desc">Absorb attacks</div>
                </div>
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">üìà</div>
                  <div class="cdn-ben-name">Scalability</div>
                  <div class="cdn-ben-desc">Handle traffic spikes</div>
                </div>
                <div class="cdn-ben">
                  <div class="cdn-ben-icon">üí∞</div>
                  <div class="cdn-ben-name">Cost Savings</div>
                  <div class="cdn-ben-desc">Reduce origin load</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>A <strong>CDN</strong> caches content at edge locations worldwide, serving users from the geographically closest server. This dramatically reduces latency and offloads traffic from origin servers.</p>
          <p>CDNs are essential for delivering static assets (images, CSS, JS), streaming media, and even dynamic content through edge computing capabilities.</p>
        `,
        keyPoints: [
          { icon: "üåç", title: "Geographic Distribution", desc: "Edge servers in 100+ locations ensure content is always nearby.", color: "#10b981" },
          { icon: "‚ö°", title: "Reduced Latency", desc: "Serve from edge instead of distant origin - milliseconds vs seconds.", color: "#3b82f6" },
          { icon: "üõ°Ô∏è", title: "DDoS Protection", desc: "Absorb attack traffic at the edge before it reaches origin.", color: "#ef4444" },
          { icon: "üí∞", title: "Bandwidth Savings", desc: "Reduce origin bandwidth costs by serving cached content.", color: "#f59e0b" }
        ],
        formula: "Latency = Round Trip Time to Nearest Edge ‚â™ RTT to Origin",
        strategies: [
          { title: "Cache-Control Headers", desc: "Set appropriate TTLs and cache directives for different content types." },
          { title: "Cache Invalidation", desc: "Purge or refresh cached content when origin content changes." },
          { title: "Edge Computing", desc: "Run logic at the edge for personalization and dynamic content." },
          { title: "Origin Shield", desc: "Add intermediate cache layer to protect origin from edge cache misses." }
        ],
        metrics: [
          { level: "Cloudflare", downtime: "Global, security focus", useCase: "Web apps, DDoS protection" },
          { level: "AWS CloudFront", downtime: "AWS integrated", useCase: "S3, Lambda@Edge" },
          { level: "Fastly", downtime: "Real-time purge", useCase: "Dynamic content, streaming" },
          { level: "Akamai", downtime: "Enterprise, largest", useCase: "Media, enterprise" }
        ]
      },
      "database-sharding": {
        title: "Database Sharding",
        subtitle: "Horizontal partitioning of data across multiple database instances to handle larger datasets and higher throughput.",
        badge: { text: "Architecture Pattern", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .shard-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .shard-flow {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .shard-flow-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .shard-flow-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .shard-diagram {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 14px;
            }
            .shard-query {
              padding: 12px 24px;
              background: rgba(6, 182, 212, 0.15);
              border: 1px solid rgba(6, 182, 212, 0.4);
              border-radius: 8px;
              font-size: 0.8rem;
              font-family: 'JetBrains Mono', monospace;
              color: #06b6d4;
            }
            .shard-arrow {
              color: #6b7280;
              font-size: 0.9rem;
            }
            .shard-router {
              padding: 18px 50px;
              background: linear-gradient(135deg, #f59e0b, #d97706);
              border-radius: 12px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            }
            .shard-router-icon {
              font-size: 1.8rem;
              margin-bottom: 4px;
            }
            .shard-router-text {
              font-weight: 600;
            }
            .shard-router-logic {
              font-size: 0.7rem;
              opacity: 0.9;
              margin-top: 4px;
              font-family: 'JetBrains Mono', monospace;
            }
            .shard-arrows {
              display: flex;
              gap: 50px;
              color: #f59e0b;
            }
            .shard-arr {
              animation: shardRoute 1s ease-in-out infinite;
            }
            .shard-arr:nth-child(2) { animation-delay: 0.3s; }
            .shard-arr:nth-child(3) { animation-delay: 0.6s; }
            @keyframes shardRoute {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 1; }
            }
            .shard-nodes {
              display: flex;
              gap: 16px;
              flex-wrap: wrap;
              justify-content: center;
            }
            .shard-node {
              padding: 18px 24px;
              border-radius: 12px;
              text-align: center;
              min-width: 110px;
              transition: all 0.3s ease;
            }
            .shard-node:hover {
              transform: translateY(-3px);
            }
            .shard-node:nth-child(1) { background: rgba(59, 130, 246, 0.15); border: 1px solid rgba(59, 130, 246, 0.4); }
            .shard-node:nth-child(2) { background: rgba(16, 185, 129, 0.15); border: 1px solid rgba(16, 185, 129, 0.4); }
            .shard-node:nth-child(3) { background: rgba(139, 92, 246, 0.15); border: 1px solid rgba(139, 92, 246, 0.4); }
            .shard-node-icon {
              font-size: 1.8rem;
              margin-bottom: 6px;
            }
            .shard-node-name {
              font-weight: 600;
              font-size: 0.9rem;
              margin-bottom: 4px;
            }
            .shard-node:nth-child(1) .shard-node-name { color: #3b82f6; }
            .shard-node:nth-child(2) .shard-node-name { color: #10b981; }
            .shard-node:nth-child(3) .shard-node-name { color: #8b5cf6; }
            .shard-node-key {
              font-size: 0.7rem;
              color: #6b7280;
              font-family: 'JetBrains Mono', monospace;
            }
            .shard-node-size {
              font-size: 0.65rem;
              color: #6b7280;
              margin-top: 4px;
            }
            
            /* Considerations */
            .shard-consider {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(239, 68, 68, 0.2);
            }
            .shard-consider-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .shard-consider-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ef4444;
              border-radius: 50%;
            }
            .shard-consider-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .shard-consider-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .shard-cons {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .shard-cons-icon {
              font-size: 1.3rem;
              margin-bottom: 6px;
            }
            .shard-cons-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 2px;
            }
            .shard-cons-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="shard-viz">
            <!-- Sharding Flow -->
            <div class="shard-flow">
              <div class="shard-flow-title">Database Sharding Architecture</div>
              <div class="shard-diagram">
                <div class="shard-query">SELECT * FROM users WHERE user_id = 12345</div>
                <div class="shard-arrow">‚Üì</div>
                <div class="shard-router">
                  <div class="shard-router-icon">üóÑÔ∏è</div>
                  <div class="shard-router-text">Shard Router</div>
                  <div class="shard-router-logic">12345 % 3 = 0 ‚Üí Shard 0</div>
                </div>
                <div class="shard-arrows">
                  <span class="shard-arr">‚ÜôÔ∏è</span>
                  <span class="shard-arr">‚¨áÔ∏è</span>
                  <span class="shard-arr">‚ÜòÔ∏è</span>
                </div>
                <div class="shard-nodes">
                  <div class="shard-node">
                    <div class="shard-node-icon">üíæ</div>
                    <div class="shard-node-name">Shard 0</div>
                    <div class="shard-node-key">id % 3 = 0</div>
                    <div class="shard-node-size">~33% of data</div>
                  </div>
                  <div class="shard-node">
                    <div class="shard-node-icon">üíæ</div>
                    <div class="shard-node-name">Shard 1</div>
                    <div class="shard-node-key">id % 3 = 1</div>
                    <div class="shard-node-size">~33% of data</div>
                  </div>
                  <div class="shard-node">
                    <div class="shard-node-icon">üíæ</div>
                    <div class="shard-node-name">Shard 2</div>
                    <div class="shard-node-key">id % 3 = 2</div>
                    <div class="shard-node-size">~33% of data</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Considerations -->
            <div class="shard-consider">
              <div class="shard-consider-title">Sharding Challenges</div>
              <div class="shard-consider-grid">
                <div class="shard-cons">
                  <div class="shard-cons-icon">üîÄ</div>
                  <div class="shard-cons-name">Cross-Shard Joins</div>
                  <div class="shard-cons-desc">Complex queries</div>
                </div>
                <div class="shard-cons">
                  <div class="shard-cons-icon">‚öñÔ∏è</div>
                  <div class="shard-cons-name">Rebalancing</div>
                  <div class="shard-cons-desc">Data migration</div>
                </div>
                <div class="shard-cons">
                  <div class="shard-cons-icon">üî•</div>
                  <div class="shard-cons-name">Hotspots</div>
                  <div class="shard-cons-desc">Uneven load</div>
                </div>
                <div class="shard-cons">
                  <div class="shard-cons-icon">üîë</div>
                  <div class="shard-cons-name">Key Selection</div>
                  <div class="shard-cons-desc">Critical choice</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Database Sharding</strong> distributes data across multiple database instances (shards), with each shard containing a subset of the data. This enables horizontal scaling beyond single-node limits.</p>
          <p>Sharding is essential when a single database can't handle the data volume or query load, but it adds complexity in query routing, joins, and data rebalancing.</p>
        `,
        keyPoints: [
          { icon: "üîë", title: "Shard Key Selection", desc: "Choose a key that distributes data evenly and matches query patterns.", color: "#f59e0b" },
          { icon: "üîÄ", title: "Shard Routing", desc: "Application or proxy layer routes queries to correct shard.", color: "#3b82f6" },
          { icon: "‚öñÔ∏è", title: "Rebalancing", desc: "Redistribute data when adding shards or fixing hotspots.", color: "#8b5cf6" },
          { icon: "üîó", title: "Cross-Shard Queries", desc: "Joins and aggregations across shards are complex and slow.", color: "#ef4444" }
        ],
        formula: "Shard = hash(shard_key) % number_of_shards",
        strategies: [
          { title: "Consistent Hashing", desc: "Minimize data movement when adding/removing shards using hash ring." },
          { title: "Shard-Nothing Architecture", desc: "Design so queries only need data from one shard when possible." },
          { title: "Global Tables", desc: "Replicate small, frequently-joined tables to all shards." },
          { title: "Vitess/ProxySQL", desc: "Use sharding middleware to abstract complexity from applications." }
        ],
        metrics: [
          { level: "Horizontal Scale", downtime: "Add more shards", useCase: "Linear capacity growth" },
          { level: "Shard Skew", downtime: "Data distribution", useCase: "Balance monitoring" },
          { level: "Cross-Shard %", downtime: "Multi-shard queries", useCase: "Design effectiveness" },
          { level: "Rebalance Time", downtime: "Migration duration", useCase: "Operational overhead" }
        ]
      },
      "fault-tolerance": {
        title: "Fault Tolerance",
        subtitle: "The ability of a system to continue operating correctly even when some components fail.",
        badge: { text: "Resilience", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .ft-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .ft-demo {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(239, 68, 68, 0.2);
            }
            .ft-demo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ft-demo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #ef4444;
              border-radius: 50%;
            }
            .ft-servers {
              display: flex;
              justify-content: center;
              gap: 16px;
              margin-bottom: 20px;
              flex-wrap: wrap;
            }
            .ft-server {
              padding: 18px 24px;
              border-radius: 12px;
              text-align: center;
              min-width: 100px;
              border: 2px solid;
              transition: all 0.3s ease;
            }
            .ft-server.healthy {
              background: rgba(16, 185, 129, 0.15);
              border-color: rgba(16, 185, 129, 0.5);
            }
            .ft-server.failed {
              background: rgba(239, 68, 68, 0.15);
              border-color: rgba(239, 68, 68, 0.5);
              opacity: 0.6;
              animation: ftFailPulse 2s ease-in-out infinite;
            }
            @keyframes ftFailPulse {
              0%, 100% { opacity: 0.4; }
              50% { opacity: 0.7; }
            }
            .ft-server-icon {
              font-size: 1.8rem;
              margin-bottom: 6px;
            }
            .ft-server-name {
              font-size: 0.85rem;
              font-weight: 500;
            }
            .ft-server.healthy .ft-server-name { color: #10b981; }
            .ft-server.failed .ft-server-name { color: #ef4444; }
            .ft-server-status {
              font-size: 0.7rem;
              margin-top: 4px;
            }
            .ft-server.healthy .ft-server-status { color: #059669; }
            .ft-server.failed .ft-server-status { color: #dc2626; }
            .ft-result {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 12px;
              padding: 16px 24px;
              background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(6, 182, 212, 0.2));
              border: 1px solid rgba(16, 185, 129, 0.3);
              border-radius: 12px;
            }
            .ft-result-icon {
              font-size: 1.5rem;
            }
            .ft-result-text {
              font-weight: 600;
              color: #10b981;
            }
            .ft-result-sub {
              font-size: 0.8rem;
              color: #6b7280;
            }
            
            /* Patterns */
            .ft-patterns {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .ft-pat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .ft-pat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .ft-pat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .ft-pat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .ft-pattern {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .ft-pat-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .ft-pat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .ft-pat-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="ft-viz">
            <!-- Failure Demo -->
            <div class="ft-demo">
              <div class="ft-demo-title">System Continues Despite Failures</div>
              <div class="ft-servers">
                <div class="ft-server healthy">
                  <div class="ft-server-icon">‚úÖ</div>
                  <div class="ft-server-name">Server 1</div>
                  <div class="ft-server-status">Healthy</div>
                </div>
                <div class="ft-server failed">
                  <div class="ft-server-icon">üí•</div>
                  <div class="ft-server-name">Server 2</div>
                  <div class="ft-server-status">Failed</div>
                </div>
                <div class="ft-server healthy">
                  <div class="ft-server-icon">‚úÖ</div>
                  <div class="ft-server-name">Server 3</div>
                  <div class="ft-server-status">Healthy</div>
                </div>
                <div class="ft-server healthy">
                  <div class="ft-server-icon">‚úÖ</div>
                  <div class="ft-server-name">Server 4</div>
                  <div class="ft-server-status">Healthy</div>
                </div>
              </div>
              <div class="ft-result">
                <span class="ft-result-icon">üõ°Ô∏è</span>
                <div>
                  <div class="ft-result-text">System Still Operational</div>
                  <div class="ft-result-sub">75% capacity ‚Ä¢ Traffic rerouted automatically</div>
                </div>
              </div>
            </div>
            
            <!-- Patterns -->
            <div class="ft-patterns">
              <div class="ft-pat-title">Fault Tolerance Patterns</div>
              <div class="ft-pat-grid">
                <div class="ft-pattern">
                  <div class="ft-pat-icon">üîÑ</div>
                  <div class="ft-pat-name">Redundancy</div>
                  <div class="ft-pat-desc">Multiple instances</div>
                </div>
                <div class="ft-pattern">
                  <div class="ft-pat-icon">üß±</div>
                  <div class="ft-pat-name">Bulkhead</div>
                  <div class="ft-pat-desc">Isolate failures</div>
                </div>
                <div class="ft-pattern">
                  <div class="ft-pat-icon">‚è±Ô∏è</div>
                  <div class="ft-pat-name">Timeout</div>
                  <div class="ft-pat-desc">Fail fast</div>
                </div>
                <div class="ft-pattern">
                  <div class="ft-pat-icon">üîÅ</div>
                  <div class="ft-pat-name">Retry</div>
                  <div class="ft-pat-desc">Exponential backoff</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Fault Tolerance</strong> is the property that enables a system to continue operating properly in the event of failure of some of its components.</p>
          <p>Fault-tolerant systems anticipate failures and are designed to handle them gracefully, often transparently to users. This requires redundancy, failure detection, and automatic recovery mechanisms.</p>
        `,
        keyPoints: [
          { icon: "üîÑ", title: "Redundancy", desc: "Run multiple instances so failure of one doesn't cause system failure.", color: "#ef4444" },
          { icon: "‚ù§Ô∏è", title: "Health Checks", desc: "Continuously monitor component health to detect failures quickly.", color: "#3b82f6" },
          { icon: "üîÄ", title: "Failover", desc: "Automatically route traffic away from failed components.", color: "#10b981" },
          { icon: "üîô", title: "Recovery", desc: "Restart failed components and restore state from backups.", color: "#8b5cf6" }
        ],
        formula: "System Availability = 1 - (Component Failure Rate)^Redundancy",
        strategies: [
          { title: "N+1 Redundancy", desc: "Run one more instance than needed so one can fail without impact." },
          { title: "Bulkhead Pattern", desc: "Isolate components so failure in one doesn't cascade to others." },
          { title: "Timeout & Retry", desc: "Set timeouts on calls and retry with exponential backoff." },
          { title: "Chaos Engineering", desc: "Intentionally inject failures to test and improve fault tolerance." }
        ],
        metrics: [
          { level: "MTBF", downtime: "Mean Time Between Failures", useCase: "Component reliability" },
          { level: "MTTR", downtime: "Mean Time To Recovery", useCase: "Recovery speed" },
          { level: "Blast Radius", downtime: "Failure impact scope", useCase: "Isolation effectiveness" },
          { level: "Recovery Success", downtime: "Auto-recovery rate", useCase: "Self-healing ability" }
        ]
      },
      "circuit-breaker": {
        title: "Circuit Breaker",
        subtitle: "A pattern that prevents cascading failures by stopping calls to a failing service.",
        badge: { text: "Resilience", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .cb-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .cb-states {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .cb-states-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 24px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cb-states-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .cb-state-machine {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 16px;
              flex-wrap: wrap;
            }
            .cb-state {
              text-align: center;
              padding: 20px;
              border-radius: 16px;
              min-width: 120px;
              transition: all 0.3s ease;
            }
            .cb-state:hover {
              transform: scale(1.05);
            }
            .cb-state.closed {
              background: rgba(16, 185, 129, 0.15);
              border: 2px solid rgba(16, 185, 129, 0.5);
            }
            .cb-state.open {
              background: rgba(239, 68, 68, 0.15);
              border: 2px solid rgba(239, 68, 68, 0.5);
            }
            .cb-state.half-open {
              background: rgba(245, 158, 11, 0.15);
              border: 2px solid rgba(245, 158, 11, 0.5);
            }
            .cb-state-circle {
              width: 60px;
              height: 60px;
              border-radius: 50%;
              margin: 0 auto 12px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 1.8rem;
            }
            .cb-state.closed .cb-state-circle { background: rgba(16, 185, 129, 0.3); }
            .cb-state.open .cb-state-circle { background: rgba(239, 68, 68, 0.3); animation: openPulse 1s ease-in-out infinite; }
            .cb-state.half-open .cb-state-circle { background: rgba(245, 158, 11, 0.3); animation: testPulse 1.5s ease-in-out infinite; }
            @keyframes openPulse {
              0%, 100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
              50% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            }
            @keyframes testPulse {
              0%, 100% { opacity: 0.7; }
              50% { opacity: 1; }
            }
            .cb-state-name {
              font-weight: 600;
              font-size: 1rem;
              margin-bottom: 4px;
            }
            .cb-state.closed .cb-state-name { color: #10b981; }
            .cb-state.open .cb-state-name { color: #ef4444; }
            .cb-state.half-open .cb-state-name { color: #f59e0b; }
            .cb-state-desc {
              font-size: 0.75rem;
              color: #6b7280;
              margin-bottom: 8px;
            }
            .cb-state-action {
              font-size: 0.7rem;
              padding: 4px 10px;
              border-radius: 12px;
              display: inline-block;
            }
            .cb-state.closed .cb-state-action { background: rgba(16, 185, 129, 0.2); color: #10b981; }
            .cb-state.open .cb-state-action { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
            .cb-state.half-open .cb-state-action { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
            .cb-arrow {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 4px;
              color: #6b7280;
            }
            .cb-arrow-icon {
              font-size: 1.5rem;
              color: #8b5cf6;
            }
            .cb-arrow-label {
              font-size: 0.65rem;
              text-align: center;
              max-width: 80px;
            }
            
            /* Timeline */
            .cb-timeline {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .cb-timeline-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .cb-timeline-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .cb-timeline-bar {
              display: flex;
              height: 40px;
              border-radius: 8px;
              overflow: hidden;
              margin-bottom: 12px;
            }
            .cb-tl-segment {
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.7rem;
              font-weight: 500;
            }
            .cb-tl-closed { flex: 4; background: linear-gradient(90deg, #10b981, #059669); color: white; }
            .cb-tl-open { flex: 2; background: linear-gradient(90deg, #ef4444, #dc2626); color: white; }
            .cb-tl-half { flex: 1; background: linear-gradient(90deg, #f59e0b, #d97706); color: white; }
            .cb-tl-closed2 { flex: 3; background: linear-gradient(90deg, #059669, #10b981); color: white; }
            .cb-timeline-labels {
              display: flex;
              justify-content: space-between;
              font-size: 0.7rem;
              color: #6b7280;
            }
          </style>
          
          <div class="cb-viz">
            <!-- State Machine -->
            <div class="cb-states">
              <div class="cb-states-title">Circuit Breaker State Machine</div>
              <div class="cb-state-machine">
                <div class="cb-state closed">
                  <div class="cb-state-circle">üü¢</div>
                  <div class="cb-state-name">CLOSED</div>
                  <div class="cb-state-desc">Normal operation</div>
                  <div class="cb-state-action">‚úì Requests pass through</div>
                </div>
                <div class="cb-arrow">
                  <span class="cb-arrow-icon">‚Üí</span>
                  <span class="cb-arrow-label">Failures exceed threshold</span>
                </div>
                <div class="cb-state open">
                  <div class="cb-state-circle">üî¥</div>
                  <div class="cb-state-name">OPEN</div>
                  <div class="cb-state-desc">Circuit tripped</div>
                  <div class="cb-state-action">‚úó Fail fast immediately</div>
                </div>
                <div class="cb-arrow">
                  <span class="cb-arrow-icon">‚Üí</span>
                  <span class="cb-arrow-label">Timeout expires</span>
                </div>
                <div class="cb-state half-open">
                  <div class="cb-state-circle">üü°</div>
                  <div class="cb-state-name">HALF-OPEN</div>
                  <div class="cb-state-desc">Testing recovery</div>
                  <div class="cb-state-action">‚ö° Limited requests</div>
                </div>
              </div>
            </div>
            
            <!-- Timeline -->
            <div class="cb-timeline">
              <div class="cb-timeline-title">Circuit Breaker Timeline Example</div>
              <div class="cb-timeline-bar">
                <div class="cb-tl-segment cb-tl-closed">CLOSED</div>
                <div class="cb-tl-segment cb-tl-open">OPEN</div>
                <div class="cb-tl-segment cb-tl-half">TEST</div>
                <div class="cb-tl-segment cb-tl-closed2">CLOSED</div>
              </div>
              <div class="cb-timeline-labels">
                <span>Normal</span>
                <span>‚Üê Service fails</span>
                <span>Recovery test ‚Üí</span>
                <span>Healthy</span>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p>The <strong>Circuit Breaker</strong> pattern prevents an application from repeatedly trying to execute an operation that's likely to fail, allowing it to fail fast and recover gracefully.</p>
          <p>Like an electrical circuit breaker, it "trips" when failures exceed a threshold, preventing cascading failures and giving the failing service time to recover.</p>
        `,
        keyPoints: [
          { icon: "üü¢", title: "Closed State", desc: "Normal operation - requests pass through, failures are counted.", color: "#10b981" },
          { icon: "üî¥", title: "Open State", desc: "Circuit tripped - requests fail immediately without calling service.", color: "#ef4444" },
          { icon: "üü°", title: "Half-Open State", desc: "Testing recovery - limited requests allowed to check if service recovered.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Fail Fast", desc: "Return errors immediately instead of waiting for timeouts.", color: "#8b5cf6" }
        ],
        formula: "Open when: Failure Rate > Threshold within Time Window",
        strategies: [
          { title: "Threshold Configuration", desc: "Set failure rate and time window thresholds appropriate to service SLAs." },
          { title: "Fallback Responses", desc: "Return cached data, default values, or degraded functionality when open." },
          { title: "Health Check Endpoints", desc: "Use dedicated health endpoints to test service recovery." },
          { title: "Monitoring & Alerts", desc: "Alert when circuits open to trigger investigation and response." }
        ],
        metrics: [
          { level: "Hystrix", downtime: "Netflix, Java", useCase: "Original implementation" },
          { level: "Resilience4j", downtime: "Lightweight, Java", useCase: "Modern alternative" },
          { level: "Polly", downtime: ".NET library", useCase: "C# applications" },
          { level: "Istio", downtime: "Service mesh", useCase: "Infrastructure-level" }
        ]
      },
      "rate-limiting": {
        title: "Rate Limiting",
        subtitle: "Controlling the rate of requests to protect services from overload and abuse.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .rl-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .rl-bucket {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .rl-bucket-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rl-bucket-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .rl-flow {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 20px;
              flex-wrap: wrap;
            }
            .rl-requests {
              display: flex;
              flex-direction: column;
              align-items: center;
              gap: 8px;
            }
            .rl-req-row {
              display: flex;
              gap: 4px;
            }
            .rl-req {
              width: 24px;
              height: 24px;
              background: rgba(59, 130, 246, 0.3);
              border: 1px solid rgba(59, 130, 246, 0.5);
              border-radius: 4px;
              display: flex;
              align-items: center;
              justify-content: center;
              font-size: 0.65rem;
              animation: reqFlow 1.5s ease-in-out infinite;
            }
            .rl-req:nth-child(2) { animation-delay: 0.2s; }
            .rl-req:nth-child(3) { animation-delay: 0.4s; }
            .rl-req:nth-child(4) { animation-delay: 0.6s; }
            .rl-req:nth-child(5) { animation-delay: 0.8s; }
            @keyframes reqFlow {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(3px); }
            }
            .rl-req-label {
              font-size: 0.7rem;
              color: #6b7280;
            }
            .rl-arrow {
              color: #6b7280;
              font-size: 1.2rem;
            }
            .rl-limiter {
              position: relative;
              padding: 24px 32px;
              background: linear-gradient(135deg, #f59e0b, #d97706);
              border-radius: 14px;
              color: white;
              text-align: center;
              box-shadow: 0 8px 32px rgba(245, 158, 11, 0.3);
            }
            .rl-limiter-icon {
              font-size: 2rem;
              margin-bottom: 6px;
            }
            .rl-limiter-name {
              font-weight: 600;
              font-size: 1rem;
            }
            .rl-limiter-config {
              font-size: 0.75rem;
              opacity: 0.9;
              margin-top: 4px;
            }
            .rl-bucket-visual {
              margin-top: 12px;
              padding: 8px 12px;
              background: rgba(0, 0, 0, 0.2);
              border-radius: 8px;
            }
            .rl-tokens {
              display: flex;
              gap: 4px;
              justify-content: center;
            }
            .rl-token {
              width: 16px;
              height: 16px;
              background: #fff;
              border-radius: 50%;
              opacity: 0.9;
            }
            .rl-token.used {
              opacity: 0.2;
            }
            .rl-token-label {
              font-size: 0.6rem;
              text-align: center;
              margin-top: 4px;
              opacity: 0.8;
            }
            .rl-output {
              display: flex;
              flex-direction: column;
              gap: 12px;
            }
            .rl-allowed {
              padding: 14px 20px;
              background: rgba(16, 185, 129, 0.15);
              border: 1px solid rgba(16, 185, 129, 0.4);
              border-radius: 10px;
              text-align: center;
            }
            .rl-allowed-icon {
              font-size: 1.3rem;
              margin-bottom: 4px;
            }
            .rl-allowed-text {
              font-size: 0.8rem;
              color: #10b981;
              font-weight: 500;
            }
            .rl-rejected {
              padding: 14px 20px;
              background: rgba(239, 68, 68, 0.15);
              border: 1px solid rgba(239, 68, 68, 0.4);
              border-radius: 10px;
              text-align: center;
            }
            .rl-rejected-icon {
              font-size: 1.3rem;
              margin-bottom: 4px;
            }
            .rl-rejected-text {
              font-size: 0.8rem;
              color: #ef4444;
              font-weight: 500;
            }
            .rl-rejected-code {
              font-size: 0.65rem;
              color: #6b7280;
            }
            
            /* Algorithms */
            .rl-algorithms {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .rl-algo-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .rl-algo-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .rl-algo-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .rl-algo-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .rl-algo {
              padding: 16px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .rl-algo-icon {
              font-size: 1.5rem;
              margin-bottom: 8px;
            }
            .rl-algo-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .rl-algo-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="rl-viz">
            <!-- Token Bucket Flow -->
            <div class="rl-bucket">
              <div class="rl-bucket-title">Token Bucket Rate Limiting</div>
              <div class="rl-flow">
                <div class="rl-requests">
                  <div class="rl-req-row">
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                    <div class="rl-req">üì®</div>
                  </div>
                  <div class="rl-req-label">Incoming Requests</div>
                </div>
                <div class="rl-arrow">‚Üí</div>
                <div class="rl-limiter">
                  <div class="rl-limiter-icon">üö¶</div>
                  <div class="rl-limiter-name">Rate Limiter</div>
                  <div class="rl-limiter-config">100 req/min</div>
                  <div class="rl-bucket-visual">
                    <div class="rl-tokens">
                      <div class="rl-token"></div>
                      <div class="rl-token"></div>
                      <div class="rl-token"></div>
                      <div class="rl-token used"></div>
                      <div class="rl-token used"></div>
                    </div>
                    <div class="rl-token-label">3/5 tokens available</div>
                  </div>
                </div>
                <div class="rl-arrow">‚Üí</div>
                <div class="rl-output">
                  <div class="rl-allowed">
                    <div class="rl-allowed-icon">‚úÖ</div>
                    <div class="rl-allowed-text">3 Allowed</div>
                  </div>
                  <div class="rl-rejected">
                    <div class="rl-rejected-icon">‚ùå</div>
                    <div class="rl-rejected-text">2 Rejected</div>
                    <div class="rl-rejected-code">HTTP 429</div>
                  </div>
                </div>
              </div>
            </div>
            
            <!-- Algorithms -->
            <div class="rl-algorithms">
              <div class="rl-algo-title">Rate Limiting Algorithms</div>
              <div class="rl-algo-grid">
                <div class="rl-algo">
                  <div class="rl-algo-icon">ü™£</div>
                  <div class="rl-algo-name">Token Bucket</div>
                  <div class="rl-algo-desc">Allows bursts, smooth average</div>
                </div>
                <div class="rl-algo">
                  <div class="rl-algo-icon">üíß</div>
                  <div class="rl-algo-name">Leaky Bucket</div>
                  <div class="rl-algo-desc">Fixed output rate</div>
                </div>
                <div class="rl-algo">
                  <div class="rl-algo-icon">ü™ü</div>
                  <div class="rl-algo-name">Fixed Window</div>
                  <div class="rl-algo-desc">Reset each interval</div>
                </div>
                <div class="rl-algo">
                  <div class="rl-algo-icon">üìä</div>
                  <div class="rl-algo-name">Sliding Window</div>
                  <div class="rl-algo-desc">Smooth rolling limit</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Rate Limiting</strong> restricts the number of requests a client can make in a given time period. It protects services from being overwhelmed and ensures fair resource allocation.</p>
          <p>Rate limits can be applied per user, per API key, per IP address, or globally. They're essential for API security, cost control, and maintaining service quality.</p>
        `,
        keyPoints: [
          { icon: "ü™£", title: "Token Bucket", desc: "Tokens added at fixed rate; requests consume tokens. Allows bursts up to bucket size.", color: "#f59e0b" },
          { icon: "üíß", title: "Leaky Bucket", desc: "Requests queue and process at fixed rate. Smooths traffic, no bursts.", color: "#3b82f6" },
          { icon: "ü™ü", title: "Fixed Window", desc: "Count requests in fixed time windows. Simple but allows edge bursts.", color: "#8b5cf6" },
          { icon: "üîÑ", title: "Sliding Window", desc: "Rolling time window for smoother limiting. More accurate but complex.", color: "#10b981" }
        ],
        formula: "Rate Limit = Max Requests / Time Window (e.g., 100/minute)",
        strategies: [
          { title: "Tiered Limits", desc: "Different limits for different user tiers (free vs premium) or endpoints." },
          { title: "Distributed Rate Limiting", desc: "Use Redis or similar for consistent limits across multiple servers." },
          { title: "Graceful Rejection", desc: "Return 429 with Retry-After header telling client when to retry." },
          { title: "Request Prioritization", desc: "Allow critical requests through even when rate limited." }
        ],
        metrics: [
          { level: "Per-User", downtime: "By API key/user ID", useCase: "Fair usage per account" },
          { level: "Per-IP", downtime: "By client IP", useCase: "DDoS protection" },
          { level: "Global", downtime: "All requests", useCase: "Overall capacity protection" },
          { level: "Per-Endpoint", downtime: "By API route", useCase: "Protect expensive operations" }
        ]
      },
      "graceful-degradation": {
        title: "Graceful Degradation",
        subtitle: "Maintaining partial functionality when some components fail rather than complete system failure.",
        badge: { text: "Resilience", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .gd-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .gd-levels {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(16, 185, 129, 0.2);
            }
            .gd-levels-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .gd-levels-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #10b981;
              border-radius: 50%;
            }
            .gd-bars {
              display: flex;
              align-items: flex-end;
              justify-content: center;
              gap: 20px;
              height: 180px;
              margin-bottom: 16px;
            }
            .gd-bar {
              display: flex;
              flex-direction: column;
              align-items: center;
              text-align: center;
            }
            .gd-bar-fill {
              width: 80px;
              border-radius: 10px 10px 0 0;
              display: flex;
              flex-direction: column;
              align-items: center;
              justify-content: flex-end;
              padding-bottom: 12px;
              color: white;
              transition: all 0.3s ease;
            }
            .gd-bar.full .gd-bar-fill {
              height: 160px;
              background: linear-gradient(180deg, #10b981, #059669);
            }
            .gd-bar.degraded .gd-bar-fill {
              height: 112px;
              background: linear-gradient(180deg, #f59e0b, #d97706);
            }
            .gd-bar.minimal .gd-bar-fill {
              height: 64px;
              background: linear-gradient(180deg, #ef4444, #dc2626);
            }
            .gd-bar-percent {
              font-size: 1.3rem;
              font-weight: 700;
            }
            .gd-bar-label {
              font-size: 0.85rem;
              font-weight: 500;
              margin-top: 8px;
            }
            .gd-bar.full .gd-bar-label { color: #10b981; }
            .gd-bar.degraded .gd-bar-label { color: #f59e0b; }
            .gd-bar.minimal .gd-bar-label { color: #ef4444; }
            .gd-bar-features {
              font-size: 0.7rem;
              color: #6b7280;
              margin-top: 4px;
            }
            .gd-message {
              text-align: center;
              padding: 12px 20px;
              background: rgba(16, 185, 129, 0.1);
              border: 1px dashed rgba(16, 185, 129, 0.3);
              border-radius: 10px;
              color: #10b981;
              font-size: 0.85rem;
            }
            
            /* Fallback strategies */
            .gd-strategies {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(245, 158, 11, 0.2);
            }
            .gd-strat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .gd-strat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #f59e0b;
              border-radius: 50%;
            }
            .gd-strat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .gd-strat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .gd-strat {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
            }
            .gd-strat-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .gd-strat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 3px;
            }
            .gd-strat-desc {
              font-size: 0.65rem;
              color: #6b7280;
            }
          </style>
          
          <div class="gd-viz">
            <!-- Service Levels -->
            <div class="gd-levels">
              <div class="gd-levels-title">Service Level Degradation</div>
              <div class="gd-bars">
                <div class="gd-bar full">
                  <div class="gd-bar-fill">
                    <span class="gd-bar-percent">100%</span>
                  </div>
                  <div class="gd-bar-label">Full Service</div>
                  <div class="gd-bar-features">All features enabled</div>
                </div>
                <div class="gd-bar degraded">
                  <div class="gd-bar-fill">
                    <span class="gd-bar-percent">70%</span>
                  </div>
                  <div class="gd-bar-label">Degraded</div>
                  <div class="gd-bar-features">Core features only</div>
                </div>
                <div class="gd-bar minimal">
                  <div class="gd-bar-fill">
                    <span class="gd-bar-percent">30%</span>
                  </div>
                  <div class="gd-bar-label">Minimal</div>
                  <div class="gd-bar-features">Read-only mode</div>
                </div>
              </div>
              <div class="gd-message">
                üí° Better to serve limited features than none at all
              </div>
            </div>
            
            <!-- Fallback Strategies -->
            <div class="gd-strategies">
              <div class="gd-strat-title">Fallback Strategies</div>
              <div class="gd-strat-grid">
                <div class="gd-strat">
                  <div class="gd-strat-icon">üö©</div>
                  <div class="gd-strat-name">Feature Flags</div>
                  <div class="gd-strat-desc">Disable failing features</div>
                </div>
                <div class="gd-strat">
                  <div class="gd-strat-icon">üíæ</div>
                  <div class="gd-strat-name">Cached Data</div>
                  <div class="gd-strat-desc">Serve stale content</div>
                </div>
                <div class="gd-strat">
                  <div class="gd-strat-icon">üìÑ</div>
                  <div class="gd-strat-name">Static Fallback</div>
                  <div class="gd-strat-desc">Pre-generated pages</div>
                </div>
                <div class="gd-strat">
                  <div class="gd-strat-icon">üì¢</div>
                  <div class="gd-strat-name">User Notice</div>
                  <div class="gd-strat-desc">Inform about status</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Graceful Degradation</strong> is a design principle where a system continues to provide service at a reduced level of functionality when some components fail.</p>
          <p>Rather than complete failure, the system falls back to simpler functionality, cached data, or reduced features. Users may experience degraded service, but the core experience remains available.</p>
        `,
        keyPoints: [
          { icon: "üìâ", title: "Reduced Functionality", desc: "Disable non-critical features to maintain core functionality.", color: "#10b981" },
          { icon: "üíæ", title: "Cached Fallbacks", desc: "Serve stale cached data when fresh data is unavailable.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Default Values", desc: "Return sensible defaults when personalization services fail.", color: "#8b5cf6" },
          { icon: "üì¢", title: "User Communication", desc: "Inform users about degraded state and expected recovery.", color: "#f59e0b" }
        ],
        formula: "Availability = Core Features Always + Optional Features When Possible",
        strategies: [
          { title: "Feature Flags", desc: "Quickly disable features that depend on failing services." },
          { title: "Static Fallbacks", desc: "Pre-generate static versions of dynamic content for emergencies." },
          { title: "Read-Only Mode", desc: "Disable writes but allow reads when database is overloaded." },
          { title: "Priority Queues", desc: "Process critical requests first, delay non-critical during overload." }
        ],
        metrics: [
          { level: "Feature Toggle", downtime: "LaunchDarkly, Flagsmith", useCase: "Runtime feature control" },
          { level: "Fallback Cache", downtime: "Stale-while-revalidate", useCase: "Content availability" },
          { level: "Load Shedding", downtime: "Drop low-priority", useCase: "Protect critical paths" },
          { level: "Async Processing", downtime: "Queue for later", useCase: "Handle burst traffic" }
        ]
      },
      "disaster-recovery": {
        title: "Disaster Recovery",
        subtitle: "Strategies and procedures for recovering systems and data after catastrophic failures.",
        badge: { text: "Resilience", color: "#dc2626", bg: "rgba(220, 38, 38, 0.15)" },
        color: "#dc2626",
        diagram: `
          <style>
            .dr-viz {
              display: flex;
              flex-direction: column;
              gap: 24px;
            }
            .dr-failover {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(220, 38, 38, 0.2);
            }
            .dr-failover-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 20px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .dr-failover-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #dc2626;
              border-radius: 50%;
            }
            .dr-sites {
              display: flex;
              align-items: center;
              justify-content: center;
              gap: 30px;
              flex-wrap: wrap;
              margin-bottom: 20px;
            }
            .dr-site {
              padding: 20px 30px;
              border-radius: 14px;
              text-align: center;
              min-width: 140px;
            }
            .dr-site.primary {
              background: rgba(239, 68, 68, 0.15);
              border: 2px dashed rgba(239, 68, 68, 0.5);
              animation: drFail 2s ease-in-out infinite;
            }
            @keyframes drFail {
              0%, 100% { opacity: 0.5; }
              50% { opacity: 0.8; }
            }
            .dr-site.dr {
              background: rgba(16, 185, 129, 0.15);
              border: 2px solid rgba(16, 185, 129, 0.5);
            }
            .dr-site-icon {
              font-size: 2.5rem;
              margin-bottom: 8px;
            }
            .dr-site-name {
              font-weight: 600;
              font-size: 1rem;
              margin-bottom: 4px;
            }
            .dr-site.primary .dr-site-name { color: #ef4444; }
            .dr-site.dr .dr-site-name { color: #10b981; }
            .dr-site-status {
              font-size: 0.75rem;
              padding: 3px 10px;
              border-radius: 10px;
              display: inline-block;
            }
            .dr-site.primary .dr-site-status { background: rgba(239, 68, 68, 0.2); color: #f87171; }
            .dr-site.dr .dr-site-status { background: rgba(16, 185, 129, 0.2); color: #34d399; }
            .dr-arrow {
              font-size: 2rem;
              color: #10b981;
              animation: drArrow 1s ease-in-out infinite;
            }
            @keyframes drArrow {
              0%, 100% { transform: translateX(0); }
              50% { transform: translateX(5px); }
            }
            .dr-metrics {
              display: flex;
              justify-content: center;
              gap: 20px;
            }
            .dr-metric {
              padding: 14px 24px;
              background: linear-gradient(135deg, rgba(220, 38, 38, 0.2), rgba(139, 92, 246, 0.2));
              border-radius: 10px;
              text-align: center;
            }
            .dr-metric-value {
              font-size: 1.3rem;
              font-weight: 700;
              color: #e5e5e5;
            }
            .dr-metric-label {
              font-size: 0.7rem;
              color: #6b7280;
              margin-top: 2px;
            }
            
            /* DR Strategies */
            .dr-strategies {
              background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9));
              border-radius: 16px;
              padding: 24px;
              border: 1px solid rgba(139, 92, 246, 0.2);
            }
            .dr-strat-title {
              font-size: 0.75rem;
              text-transform: uppercase;
              letter-spacing: 1px;
              color: #6b7280;
              margin-bottom: 16px;
              display: flex;
              align-items: center;
              gap: 8px;
            }
            .dr-strat-title::before {
              content: '';
              width: 8px;
              height: 8px;
              background: #8b5cf6;
              border-radius: 50%;
            }
            .dr-strat-grid {
              display: grid;
              grid-template-columns: repeat(4, 1fr);
              gap: 12px;
            }
            @media (max-width: 700px) {
              .dr-strat-grid { grid-template-columns: repeat(2, 1fr); }
            }
            .dr-strat {
              padding: 14px;
              background: rgba(30, 35, 50, 0.6);
              border-radius: 10px;
              text-align: center;
              border: 1px solid rgba(255, 255, 255, 0.05);
            }
            .dr-strat-icon {
              font-size: 1.4rem;
              margin-bottom: 6px;
            }
            .dr-strat-name {
              font-size: 0.8rem;
              font-weight: 500;
              color: #e5e5e5;
              margin-bottom: 4px;
            }
            .dr-strat-rto {
              font-size: 0.65rem;
              color: #6b7280;
              margin-bottom: 6px;
            }
            .dr-strat-cost {
              font-size: 0.6rem;
              padding: 2px 8px;
              border-radius: 8px;
              display: inline-block;
            }
            .dr-strat:nth-child(1) .dr-strat-cost { background: rgba(16, 185, 129, 0.2); color: #10b981; }
            .dr-strat:nth-child(2) .dr-strat-cost { background: rgba(59, 130, 246, 0.2); color: #3b82f6; }
            .dr-strat:nth-child(3) .dr-strat-cost { background: rgba(245, 158, 11, 0.2); color: #f59e0b; }
            .dr-strat:nth-child(4) .dr-strat-cost { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
          </style>
          
          <div class="dr-viz">
            <!-- Failover Demo -->
            <div class="dr-failover">
              <div class="dr-failover-title">Disaster Recovery Failover</div>
              <div class="dr-sites">
                <div class="dr-site primary">
                  <div class="dr-site-icon">üí•</div>
                  <div class="dr-site-name">Primary Site</div>
                  <div class="dr-site-status">FAILED</div>
                </div>
                <div class="dr-arrow">‚û°Ô∏è</div>
                <div class="dr-site dr">
                  <div class="dr-site-icon">üè¢</div>
                  <div class="dr-site-name">DR Site</div>
                  <div class="dr-site-status">ACTIVE</div>
                </div>
              </div>
              <div class="dr-metrics">
                <div class="dr-metric">
                  <div class="dr-metric-value">4h</div>
                  <div class="dr-metric-label">RTO (Recovery Time)</div>
                </div>
                <div class="dr-metric">
                  <div class="dr-metric-value">1h</div>
                  <div class="dr-metric-label">RPO (Data Loss)</div>
                </div>
              </div>
            </div>
            
            <!-- DR Strategies -->
            <div class="dr-strategies">
              <div class="dr-strat-title">DR Strategy Tiers</div>
              <div class="dr-strat-grid">
                <div class="dr-strat">
                  <div class="dr-strat-icon">üíæ</div>
                  <div class="dr-strat-name">Backup & Restore</div>
                  <div class="dr-strat-rto">RTO: Hours-Days</div>
                  <div class="dr-strat-cost">$ Low Cost</div>
                </div>
                <div class="dr-strat">
                  <div class="dr-strat-icon">üî•</div>
                  <div class="dr-strat-name">Pilot Light</div>
                  <div class="dr-strat-rto">RTO: 10s of min</div>
                  <div class="dr-strat-cost">$$ Medium</div>
                </div>
                <div class="dr-strat">
                  <div class="dr-strat-icon">üå°Ô∏è</div>
                  <div class="dr-strat-name">Warm Standby</div>
                  <div class="dr-strat-rto">RTO: Minutes</div>
                  <div class="dr-strat-cost">$$$ Higher</div>
                </div>
                <div class="dr-strat">
                  <div class="dr-strat-icon">üîÑ</div>
                  <div class="dr-strat-name">Active-Active</div>
                  <div class="dr-strat-rto">RTO: Near-Zero</div>
                  <div class="dr-strat-cost">$$$$ Highest</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `
          <p><strong>Disaster Recovery</strong> encompasses the policies, tools, and procedures to enable recovery of critical systems and data after a disaster - whether natural, hardware failure, or human error.</p>
          <p>DR planning defines Recovery Time Objective (RTO - how quickly to recover) and Recovery Point Objective (RPO - how much data loss is acceptable).</p>
        `,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "RTO", desc: "Recovery Time Objective - maximum acceptable downtime after disaster.", color: "#dc2626" },
          { icon: "üíæ", title: "RPO", desc: "Recovery Point Objective - maximum acceptable data loss (time-based).", color: "#3b82f6" },
          { icon: "üåç", title: "Geographic Redundancy", desc: "DR site in different region to survive regional disasters.", color: "#10b981" },
          { icon: "üîÑ", title: "Failover Testing", desc: "Regularly test DR procedures to ensure they work when needed.", color: "#8b5cf6" }
        ],
        formula: "DR Cost ‚àù 1/(RTO √ó RPO) ‚Äî Lower objectives = Higher cost",
        strategies: [
          { title: "Backup & Restore", desc: "Cheapest option - restore from backups. Highest RTO/RPO." },
          { title: "Pilot Light", desc: "Core systems running at DR site, scale up when needed." },
          { title: "Warm Standby", desc: "Scaled-down copy running, quickly scales to full capacity." },
          { title: "Multi-Site Active-Active", desc: "Full capacity at both sites. Lowest RTO/RPO, highest cost." }
        ],
        metrics: [
          { level: "Backup & Restore", downtime: "Hours to days", useCase: "Non-critical, cost-sensitive" },
          { level: "Pilot Light", downtime: "10s of minutes", useCase: "Core business systems" },
          { level: "Warm Standby", downtime: "Minutes", useCase: "Production workloads" },
          { level: "Active-Active", downtime: "Near-zero", useCase: "Mission-critical systems" }
        ]
      },
      "data-modeling": {
        title: "Data Modeling",
        subtitle: "The process of designing the structure, relationships, and constraints of data to optimize storage and access patterns.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .dm-viz { display: flex; flex-direction: column; gap: 24px; }
            .dm-models { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
            .dm-model { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 16px; padding: 20px; width: 180px; text-align: center; }
            .dm-model-icon { font-size: 2.5rem; margin-bottom: 12px; }
            .dm-model-name { font-weight: 600; font-size: 1.1rem; color: #8b5cf6; margin-bottom: 8px; }
            .dm-model-desc { font-size: 0.8rem; color: #a0a0b0; }
            .dm-example { background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.2); border-radius: 12px; padding: 20px; }
            .dm-example-title { font-weight: 600; color: #8b5cf6; margin-bottom: 16px; }
            .dm-table { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .dm-entity { background: rgba(30, 35, 50, 0.8); border-radius: 8px; padding: 12px; min-width: 120px; }
            .dm-entity-name { font-weight: 600; color: #e5e5e5; font-size: 0.9rem; margin-bottom: 8px; border-bottom: 1px solid rgba(139, 92, 246, 0.3); padding-bottom: 6px; }
            .dm-entity-fields { font-size: 0.75rem; color: #a0a0b0; }
            .dm-arrow { font-size: 1.5rem; color: #8b5cf6; align-self: center; }
          </style>
          <div class="dm-viz">
            <div class="dm-models">
              <div class="dm-model"><div class="dm-model-icon">üìä</div><div class="dm-model-name">Relational</div><div class="dm-model-desc">Tables, rows, foreign keys. SQL databases.</div></div>
              <div class="dm-model"><div class="dm-model-icon">üìÑ</div><div class="dm-model-name">Document</div><div class="dm-model-desc">JSON/BSON documents. Flexible schema.</div></div>
              <div class="dm-model"><div class="dm-model-icon">üîó</div><div class="dm-model-name">Graph</div><div class="dm-model-desc">Nodes and edges. Relationship-centric.</div></div>
              <div class="dm-model"><div class="dm-model-icon">üìã</div><div class="dm-model-name">Key-Value</div><div class="dm-model-desc">Simple pairs. Ultra-fast lookups.</div></div>
            </div>
            <div class="dm-example">
              <div class="dm-example-title">Entity Relationship Example</div>
              <div class="dm-table">
                <div class="dm-entity"><div class="dm-entity-name">üë§ User</div><div class="dm-entity-fields">id (PK)<br>name<br>email</div></div>
                <span class="dm-arrow">1:N ‚Üí</span>
                <div class="dm-entity"><div class="dm-entity-name">üì¶ Order</div><div class="dm-entity-fields">id (PK)<br>user_id (FK)<br>total</div></div>
                <span class="dm-arrow">N:M ‚Üî</span>
                <div class="dm-entity"><div class="dm-entity-name">üè∑Ô∏è Product</div><div class="dm-entity-fields">id (PK)<br>name<br>price</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Data Modeling</strong> is the process of creating a visual representation of data structures and their relationships. It defines how data is stored, organized, and manipulated in a database system.</p><p>Good data modeling optimizes for query patterns, ensures data integrity, and balances normalization with performance needs.</p>`,
        keyPoints: [
          { icon: "üèóÔ∏è", title: "Conceptual Model", desc: "High-level business entities and relationships, independent of technology.", color: "#8b5cf6" },
          { icon: "üìê", title: "Logical Model", desc: "Detailed structure with attributes, keys, and relationships without physical considerations.", color: "#3b82f6" },
          { icon: "üíæ", title: "Physical Model", desc: "Implementation-specific design including indexes, partitions, and storage details.", color: "#10b981" },
          { icon: "‚öñÔ∏è", title: "Normalization", desc: "Organizing data to reduce redundancy (1NF, 2NF, 3NF) vs denormalization for read performance.", color: "#f59e0b" }
        ],
        formula: "Model Quality = Query Efficiency √ó Data Integrity √ó Flexibility",
        strategies: [
          { title: "Start with Queries", desc: "Design your data model based on access patterns and query requirements, not just entities." },
          { title: "Normalize First", desc: "Start normalized (3NF), then selectively denormalize for performance-critical queries." },
          { title: "Use Appropriate Types", desc: "Choose the right database type (relational, document, graph) based on data relationships." },
          { title: "Version Your Models", desc: "Plan for schema evolution from the start with migration strategies." }
        ],
        metrics: [
          { level: "1NF", downtime: "Atomic values only", useCase: "Basic data integrity" },
          { level: "2NF", downtime: "No partial dependencies", useCase: "Reduce redundancy" },
          { level: "3NF", downtime: "No transitive dependencies", useCase: "Full normalization" },
          { level: "BCNF", downtime: "Every determinant is a key", useCase: "Strict normalization" }
        ]
      },
      "schema-evolution": {
        title: "Schema Evolution",
        subtitle: "Managing changes to database schemas over time without breaking existing applications or losing data.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .se-viz { display: flex; flex-direction: column; gap: 24px; }
            .se-timeline { display: flex; align-items: center; gap: 8px; padding: 20px; background: rgba(139, 92, 246, 0.1); border-radius: 12px; overflow-x: auto; }
            .se-version { background: rgba(30, 35, 50, 0.8); border: 2px solid #8b5cf6; border-radius: 8px; padding: 12px 16px; min-width: 100px; text-align: center; }
            .se-version-num { font-size: 0.7rem; color: #8b5cf6; margin-bottom: 4px; }
            .se-version-change { font-size: 0.8rem; color: #e5e5e5; }
            .se-arrow { font-size: 1.5rem; color: #8b5cf6; }
            .se-compat { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .se-compat-card { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 200px; text-align: center; }
            .se-compat-icon { font-size: 2rem; margin-bottom: 8px; }
            .se-compat-type { font-weight: 600; font-size: 1rem; margin-bottom: 6px; }
            .se-compat-desc { font-size: 0.75rem; color: #a0a0b0; }
            .se-good { border: 1px solid rgba(34, 197, 94, 0.3); color: #22c55e; }
            .se-bad { border: 1px solid rgba(239, 68, 68, 0.3); color: #ef4444; }
          </style>
          <div class="se-viz">
            <div class="se-timeline">
              <div class="se-version"><div class="se-version-num">v1.0</div><div class="se-version-change">Initial Schema</div></div>
              <span class="se-arrow">‚Üí</span>
              <div class="se-version"><div class="se-version-num">v1.1</div><div class="se-version-change">+ email field</div></div>
              <span class="se-arrow">‚Üí</span>
              <div class="se-version"><div class="se-version-num">v1.2</div><div class="se-version-change">+ address table</div></div>
              <span class="se-arrow">‚Üí</span>
              <div class="se-version"><div class="se-version-num">v2.0</div><div class="se-version-change">Rename column</div></div>
            </div>
            <div class="se-compat">
              <div class="se-compat-card se-good"><div class="se-compat-icon">‚úÖ</div><div class="se-compat-type">Backward Compatible</div><div class="se-compat-desc">Old code reads new data<br>(Add optional field, add table)</div></div>
              <div class="se-compat-card se-good"><div class="se-compat-icon">‚úÖ</div><div class="se-compat-type">Forward Compatible</div><div class="se-compat-desc">New code reads old data<br>(Ignore unknown fields)</div></div>
              <div class="se-compat-card se-bad"><div class="se-compat-icon">‚ö†Ô∏è</div><div class="se-compat-type">Breaking Change</div><div class="se-compat-desc">Rename, remove, or change type<br>(Requires migration)</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Schema Evolution</strong> refers to the ability to modify a database schema while maintaining compatibility with existing data and applications. It's crucial for long-running systems that need to adapt to changing requirements.</p><p>Key challenges include managing backward/forward compatibility, coordinating deployments, and migrating existing data safely.</p>`,
        keyPoints: [
          { icon: "‚¨ÜÔ∏è", title: "Additive Changes", desc: "Adding new optional fields or tables is safest - always backward compatible.", color: "#22c55e" },
          { icon: "üîÑ", title: "Migration Scripts", desc: "Version-controlled scripts (Flyway, Liquibase) to evolve schema incrementally.", color: "#3b82f6" },
          { icon: "ü§ù", title: "Compatibility", desc: "Maintain backward/forward compatibility during rolling deployments.", color: "#f59e0b" },
          { icon: "üìã", title: "Expand-Contract", desc: "Add new, migrate data, deprecate old - safe pattern for breaking changes.", color: "#8b5cf6" }
        ],
        formula: "Safe Evolution = Backward Compatible + Forward Compatible Changes",
        strategies: [
          { title: "Expand-Contract Pattern", desc: "Add new column/table, migrate data, update code, then remove old - never break compatibility." },
          { title: "Use Migration Tools", desc: "Version control schema changes with tools like Flyway, Liquibase, or Alembic." },
          { title: "Never Delete Immediately", desc: "Deprecate first, monitor for usage, then delete after confirmation period." },
          { title: "Test Rollbacks", desc: "Every migration should have a tested rollback path for failed deployments." }
        ],
        metrics: [
          { level: "Add Column", downtime: "Zero downtime", useCase: "New optional fields" },
          { level: "Add Table", downtime: "Zero downtime", useCase: "New entities" },
          { level: "Rename Column", downtime: "Expand-contract", useCase: "2-phase deployment" },
          { level: "Change Type", downtime: "Data migration", useCase: "Careful planning needed" }
        ]
      },
      "indexing-strategies": {
        title: "Indexing Strategies",
        subtitle: "Techniques for creating and optimizing database indexes to improve query performance.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .idx-viz { display: flex; flex-direction: column; gap: 24px; }
            .idx-comparison { display: flex; gap: 20px; align-items: center; justify-content: center; flex-wrap: wrap; }
            .idx-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; text-align: center; width: 200px; }
            .idx-box-title { font-size: 0.8rem; color: #a0a0b0; margin-bottom: 8px; }
            .idx-box-value { font-size: 2rem; font-weight: 700; }
            .idx-slow { color: #ef4444; border: 1px solid rgba(239, 68, 68, 0.3); }
            .idx-fast { color: #22c55e; border: 1px solid rgba(34, 197, 94, 0.3); }
            .idx-arrow { font-size: 2rem; color: #8b5cf6; }
            .idx-types { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 12px; }
            .idx-type { background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.2); border-radius: 10px; padding: 14px; text-align: center; }
            .idx-type-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .idx-type-name { font-weight: 600; color: #8b5cf6; font-size: 0.9rem; margin-bottom: 4px; }
            .idx-type-desc { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="idx-viz">
            <div class="idx-comparison">
              <div class="idx-box idx-slow"><div class="idx-box-title">Without Index (Full Scan)</div><div class="idx-box-value">O(n)</div></div>
              <span class="idx-arrow">‚Üí üöÄ ‚Üí</span>
              <div class="idx-box idx-fast"><div class="idx-box-title">With B-Tree Index</div><div class="idx-box-value">O(log n)</div></div>
            </div>
            <div class="idx-types">
              <div class="idx-type"><div class="idx-type-icon">üå≥</div><div class="idx-type-name">B-Tree</div><div class="idx-type-desc">Range queries, sorting, equality</div></div>
              <div class="idx-type"><div class="idx-type-icon">#Ô∏è‚É£</div><div class="idx-type-name">Hash</div><div class="idx-type-desc">Exact match lookups only</div></div>
              <div class="idx-type"><div class="idx-type-icon">üìù</div><div class="idx-type-name">Full-Text</div><div class="idx-type-desc">Text search, tokenization</div></div>
              <div class="idx-type"><div class="idx-type-icon">üó∫Ô∏è</div><div class="idx-type-name">Spatial</div><div class="idx-type-desc">Geographic, geometry data</div></div>
              <div class="idx-type"><div class="idx-type-icon">üîó</div><div class="idx-type-name">Composite</div><div class="idx-type-desc">Multiple columns combined</div></div>
              <div class="idx-type"><div class="idx-type-icon">üìé</div><div class="idx-type-name">Covering</div><div class="idx-type-desc">All query data in index</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Indexing</strong> is a database optimization technique that creates data structures (indexes) to speed up data retrieval. Without indexes, databases must scan entire tables to find matching rows.</p><p>Proper indexing strategy balances read performance gains against write overhead and storage costs.</p>`,
        keyPoints: [
          { icon: "üå≥", title: "B-Tree Index", desc: "Most common type. Supports equality, range queries, and ORDER BY. Default in most databases.", color: "#8b5cf6" },
          { icon: "üîó", title: "Composite Index", desc: "Index on multiple columns. Order matters - leftmost prefix rule applies.", color: "#3b82f6" },
          { icon: "üìé", title: "Covering Index", desc: "Index contains all columns needed by query - avoids table lookup.", color: "#22c55e" },
          { icon: "‚ö†Ô∏è", title: "Write Overhead", desc: "Each index adds write cost. Over-indexing hurts insert/update performance.", color: "#ef4444" }
        ],
        formula: "Query Time = O(log n) with index vs O(n) full scan",
        strategies: [
          { title: "Index Query Patterns", desc: "Create indexes based on actual query patterns, especially WHERE, JOIN, and ORDER BY clauses." },
          { title: "Composite Index Order", desc: "Put high-cardinality and equality columns first, range columns last." },
          { title: "Monitor and Tune", desc: "Use EXPLAIN plans to verify index usage. Remove unused indexes regularly." },
          { title: "Consider Partial Indexes", desc: "Index only a subset of rows (e.g., active users only) to reduce size and overhead." }
        ],
        metrics: [
          { level: "Primary Key", downtime: "Unique, clustered", useCase: "Row identification" },
          { level: "Secondary", downtime: "Non-clustered", useCase: "Query optimization" },
          { level: "Unique", downtime: "Enforces uniqueness", useCase: "Constraints + lookup" },
          { level: "Partial", downtime: "Filtered subset", useCase: "Conditional queries" }
        ]
      },
      "data-migration": {
        title: "Data Migration",
        subtitle: "The process of transferring data between storage systems, formats, or computing environments.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .mig-viz { display: flex; flex-direction: column; gap: 24px; }
            .mig-flow { display: flex; align-items: center; gap: 12px; justify-content: center; flex-wrap: wrap; padding: 20px; background: rgba(139, 92, 246, 0.1); border-radius: 12px; }
            .mig-db { background: rgba(30, 35, 50, 0.8); border: 2px solid; border-radius: 12px; padding: 16px 24px; text-align: center; }
            .mig-source { border-color: #ef4444; }
            .mig-target { border-color: #22c55e; }
            .mig-db-icon { font-size: 2rem; margin-bottom: 6px; }
            .mig-db-label { font-size: 0.8rem; color: #a0a0b0; }
            .mig-db-name { font-weight: 600; color: #e5e5e5; }
            .mig-arrow { display: flex; flex-direction: column; align-items: center; gap: 4px; }
            .mig-arrow-icon { font-size: 2rem; color: #8b5cf6; }
            .mig-arrow-label { font-size: 0.7rem; color: #8b5cf6; }
            .mig-phases { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .mig-phase { background: rgba(30, 35, 50, 0.8); border-radius: 8px; padding: 12px 16px; text-align: center; flex: 1; min-width: 100px; }
            .mig-phase-num { font-size: 1.2rem; font-weight: 700; color: #8b5cf6; }
            .mig-phase-name { font-size: 0.75rem; color: #a0a0b0; margin-top: 4px; }
          </style>
          <div class="mig-viz">
            <div class="mig-flow">
              <div class="mig-db mig-source"><div class="mig-db-icon">üóÑÔ∏è</div><div class="mig-db-label">Source</div><div class="mig-db-name">Old System</div></div>
              <div class="mig-arrow"><div class="mig-arrow-icon">‚Üí ETL ‚Üí</div><div class="mig-arrow-label">Extract, Transform, Load</div></div>
              <div class="mig-db mig-target"><div class="mig-db-icon">‚òÅÔ∏è</div><div class="mig-db-label">Target</div><div class="mig-db-name">New System</div></div>
            </div>
            <div class="mig-phases">
              <div class="mig-phase"><div class="mig-phase-num">1</div><div class="mig-phase-name">Analyze</div></div>
              <div class="mig-phase"><div class="mig-phase-num">2</div><div class="mig-phase-name">Plan</div></div>
              <div class="mig-phase"><div class="mig-phase-num">3</div><div class="mig-phase-name">Design</div></div>
              <div class="mig-phase"><div class="mig-phase-num">4</div><div class="mig-phase-name">Test</div></div>
              <div class="mig-phase"><div class="mig-phase-num">5</div><div class="mig-phase-name">Migrate</div></div>
              <div class="mig-phase"><div class="mig-phase-num">6</div><div class="mig-phase-name">Validate</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Data Migration</strong> is the process of moving data from one system to another while transforming it to fit the new environment. This includes database upgrades, cloud migrations, and system consolidations.</p><p>Successful migrations require careful planning, validation, and often dual-running systems during transition.</p>`,
        keyPoints: [
          { icon: "üìã", title: "ETL Pipeline", desc: "Extract from source, Transform to target format, Load into new system.", color: "#8b5cf6" },
          { icon: "‚úÖ", title: "Data Validation", desc: "Verify completeness, accuracy, and integrity after migration.", color: "#22c55e" },
          { icon: "üîÑ", title: "Dual-Running", desc: "Run both systems in parallel during transition to ensure correctness.", color: "#3b82f6" },
          { icon: "‚Ü©Ô∏è", title: "Rollback Plan", desc: "Always have a tested path to revert if migration fails.", color: "#ef4444" }
        ],
        formula: "Migration Success = Complete Data + Zero Downtime + Validated Results",
        strategies: [
          { title: "Big Bang vs Phased", desc: "Choose between single cutover (faster, riskier) or incremental migration (slower, safer)." },
          { title: "Shadow Traffic", desc: "Replay production traffic to new system and compare results before cutover." },
          { title: "Data Reconciliation", desc: "Automated comparison of source and target data to ensure nothing is lost or corrupted." },
          { title: "Feature Flags", desc: "Toggle traffic between old and new systems for gradual rollout." }
        ],
        metrics: [
          { level: "Big Bang", downtime: "Single cutover", useCase: "Simple systems, short window" },
          { level: "Phased", downtime: "Incremental", useCase: "Complex systems, low risk" },
          { level: "Parallel", downtime: "Both systems run", useCase: "Critical systems, validation" },
          { level: "Online", downtime: "Zero downtime", useCase: "High availability required" }
        ]
      },
      "backup-restore": {
        title: "Backup & Restore",
        subtitle: "Strategies for creating copies of data and recovering from data loss or system failures.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .br-viz { display: flex; flex-direction: column; gap: 24px; }
            .br-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .br-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; padding: 16px; width: 150px; text-align: center; }
            .br-type-icon { font-size: 2rem; margin-bottom: 8px; }
            .br-type-name { font-weight: 600; color: #8b5cf6; font-size: 0.95rem; margin-bottom: 4px; }
            .br-type-desc { font-size: 0.7rem; color: #a0a0b0; }
            .br-321 { background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 12px; padding: 20px; text-align: center; }
            .br-321-title { font-weight: 600; color: #22c55e; font-size: 1.1rem; margin-bottom: 12px; }
            .br-321-rule { display: flex; justify-content: center; gap: 24px; flex-wrap: wrap; }
            .br-321-item { font-size: 2rem; font-weight: 700; color: #22c55e; }
            .br-321-item span { display: block; font-size: 0.75rem; font-weight: 400; color: #a0a0b0; }
          </style>
          <div class="br-viz">
            <div class="br-types">
              <div class="br-type"><div class="br-type-icon">üì∏</div><div class="br-type-name">Full Backup</div><div class="br-type-desc">Complete copy of all data</div></div>
              <div class="br-type"><div class="br-type-icon">üìù</div><div class="br-type-name">Incremental</div><div class="br-type-desc">Only changes since last backup</div></div>
              <div class="br-type"><div class="br-type-icon">üîÑ</div><div class="br-type-name">Differential</div><div class="br-type-desc">Changes since last full backup</div></div>
              <div class="br-type"><div class="br-type-icon">‚è±Ô∏è</div><div class="br-type-name">Continuous</div><div class="br-type-desc">Real-time replication (CDP)</div></div>
            </div>
            <div class="br-321">
              <div class="br-321-title">3-2-1 Backup Rule</div>
              <div class="br-321-rule">
                <div class="br-321-item">3<span>Total copies</span></div>
                <div class="br-321-item">2<span>Different media</span></div>
                <div class="br-321-item">1<span>Offsite location</span></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Backup & Restore</strong> encompasses strategies and processes for protecting data against loss and recovering from failures. It's a fundamental aspect of disaster recovery and business continuity.</p><p>Key considerations include backup frequency, retention policies, storage location, and recovery time objectives.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "RPO", desc: "Recovery Point Objective - maximum acceptable data loss (e.g., 1 hour).", color: "#ef4444" },
          { icon: "‚è∞", title: "RTO", desc: "Recovery Time Objective - maximum acceptable downtime for recovery.", color: "#f59e0b" },
          { icon: "üîê", title: "Encryption", desc: "Encrypt backups at rest and in transit to protect sensitive data.", color: "#8b5cf6" },
          { icon: "üß™", title: "Test Restores", desc: "Regularly test restoration process - untested backups may fail.", color: "#22c55e" }
        ],
        formula: "Backup Strategy = RPO √ó RTO √ó Cost √ó Complexity",
        strategies: [
          { title: "3-2-1 Rule", desc: "Keep 3 copies on 2 different media types with 1 offsite location." },
          { title: "Automated Backups", desc: "Schedule regular automated backups with monitoring and alerting." },
          { title: "Immutable Backups", desc: "Write-once storage protects against ransomware and accidental deletion." },
          { title: "Regular Testing", desc: "Perform periodic restore drills to validate backup integrity and procedures." }
        ],
        metrics: [
          { level: "Full + Daily Incremental", downtime: "24h RPO", useCase: "Standard applications" },
          { level: "Hourly Incremental", downtime: "1h RPO", useCase: "Important systems" },
          { level: "Continuous (CDP)", downtime: "Minutes RPO", useCase: "Critical databases" },
          { level: "Synchronous Replication", downtime: "Zero RPO", useCase: "Mission-critical" }
        ]
      },
      "data-retention": {
        title: "Data Retention & Archival",
        subtitle: "Policies and mechanisms for storing, aging, and disposing of data over its lifecycle.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .ret-viz { display: flex; flex-direction: column; gap: 24px; }
            .ret-lifecycle { display: flex; align-items: center; gap: 8px; padding: 20px; background: rgba(139, 92, 246, 0.1); border-radius: 12px; overflow-x: auto; }
            .ret-stage { background: rgba(30, 35, 50, 0.8); border-radius: 8px; padding: 12px 16px; text-align: center; min-width: 90px; }
            .ret-stage-icon { font-size: 1.5rem; margin-bottom: 4px; }
            .ret-stage-name { font-size: 0.75rem; color: #e5e5e5; margin-bottom: 2px; }
            .ret-stage-time { font-size: 0.65rem; color: #a0a0b0; }
            .ret-hot { border: 1px solid #ef4444; }
            .ret-warm { border: 1px solid #f59e0b; }
            .ret-cold { border: 1px solid #3b82f6; }
            .ret-archive { border: 1px solid #8b5cf6; }
            .ret-delete { border: 1px solid #6b7280; }
            .ret-arrow { color: #8b5cf6; font-size: 1.2rem; }
            .ret-tiers { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 12px; }
            .ret-tier { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 10px; padding: 14px; text-align: center; }
            .ret-tier-name { font-weight: 600; font-size: 0.9rem; margin-bottom: 4px; }
            .ret-tier-cost { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="ret-viz">
            <div class="ret-lifecycle">
              <div class="ret-stage ret-hot"><div class="ret-stage-icon">üî•</div><div class="ret-stage-name">Hot</div><div class="ret-stage-time">0-30 days</div></div>
              <span class="ret-arrow">‚Üí</span>
              <div class="ret-stage ret-warm"><div class="ret-stage-icon">üå°Ô∏è</div><div class="ret-stage-name">Warm</div><div class="ret-stage-time">30-90 days</div></div>
              <span class="ret-arrow">‚Üí</span>
              <div class="ret-stage ret-cold"><div class="ret-stage-icon">‚ùÑÔ∏è</div><div class="ret-stage-name">Cold</div><div class="ret-stage-time">90-365 days</div></div>
              <span class="ret-arrow">‚Üí</span>
              <div class="ret-stage ret-archive"><div class="ret-stage-icon">üì¶</div><div class="ret-stage-name">Archive</div><div class="ret-stage-time">1-7 years</div></div>
              <span class="ret-arrow">‚Üí</span>
              <div class="ret-stage ret-delete"><div class="ret-stage-icon">üóëÔ∏è</div><div class="ret-stage-name">Delete</div><div class="ret-stage-time">After policy</div></div>
            </div>
            <div class="ret-tiers">
              <div class="ret-tier"><div class="ret-tier-name" style="color:#ef4444">Hot Storage</div><div class="ret-tier-cost">$$$$  ‚Ä¢  Fast access</div></div>
              <div class="ret-tier"><div class="ret-tier-name" style="color:#f59e0b">Warm Storage</div><div class="ret-tier-cost">$$$  ‚Ä¢  Moderate access</div></div>
              <div class="ret-tier"><div class="ret-tier-name" style="color:#3b82f6">Cold Storage</div><div class="ret-tier-cost">$$  ‚Ä¢  Infrequent access</div></div>
              <div class="ret-tier"><div class="ret-tier-name" style="color:#8b5cf6">Archive</div><div class="ret-tier-cost">$  ‚Ä¢  Rare access</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Data Retention & Archival</strong> defines how long data is kept, where it's stored at each stage of its lifecycle, and when it's deleted. Proper policies balance accessibility, cost, and compliance requirements.</p><p>Tiered storage moves data to cheaper, slower storage as it ages, optimizing costs while maintaining required access.</p>`,
        keyPoints: [
          { icon: "üìú", title: "Compliance", desc: "Regulatory requirements (GDPR, HIPAA, SOX) dictate minimum and maximum retention periods.", color: "#ef4444" },
          { icon: "üí∞", title: "Cost Optimization", desc: "Move aging data to cheaper tiers - archive storage costs ~90% less than hot.", color: "#22c55e" },
          { icon: "üîÑ", title: "Lifecycle Rules", desc: "Automated policies transition and delete data based on age and access patterns.", color: "#3b82f6" },
          { icon: "üóëÔ∏è", title: "Secure Deletion", desc: "Cryptographic erasure or physical destruction for sensitive data disposal.", color: "#8b5cf6" }
        ],
        formula: "Retention Cost = Œ£(Data Size √ó Tier Cost √ó Duration)",
        strategies: [
          { title: "Define Policies by Data Class", desc: "Different retention periods for logs (30d), transactions (7y), user data (account lifetime)." },
          { title: "Automate Lifecycle", desc: "Use cloud lifecycle policies (S3 Lifecycle, Azure Blob) to auto-tier and delete." },
          { title: "Legal Hold Support", desc: "Override deletion for data subject to litigation or investigation holds." },
          { title: "Audit Trail", desc: "Log all retention actions for compliance auditing and legal discovery." }
        ],
        metrics: [
          { level: "S3 Standard", downtime: "Hot tier", useCase: "Frequent access" },
          { level: "S3 Infrequent Access", downtime: "Warm tier", useCase: "Monthly access" },
          { level: "S3 Glacier", downtime: "Cold tier (minutes)", useCase: "Quarterly access" },
          { level: "Glacier Deep Archive", downtime: "Archive (hours)", useCase: "Yearly access" }
        ]
      },
      "eventual-consistency": {
        title: "Eventual Consistency",
        subtitle: "A consistency model where all replicas will eventually converge to the same state given enough time.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .ec-viz { display: flex; flex-direction: column; gap: 24px; }
            .ec-timeline { background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 20px; }
            .ec-timeline-title { font-size: 0.85rem; color: #8b5cf6; margin-bottom: 16px; font-weight: 600; }
            .ec-nodes { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .ec-node { text-align: center; }
            .ec-node-icon { font-size: 2rem; margin-bottom: 8px; }
            .ec-node-values { display: flex; flex-direction: column; gap: 4px; }
            .ec-value { background: rgba(30, 35, 50, 0.8); padding: 6px 12px; border-radius: 6px; font-size: 0.8rem; font-family: monospace; }
            .ec-stale { border: 1px solid #f59e0b; color: #f59e0b; }
            .ec-current { border: 1px solid #22c55e; color: #22c55e; }
            .ec-time { font-size: 0.65rem; color: #a0a0b0; margin-top: 2px; }
            .ec-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .ec-model { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 180px; text-align: center; }
            .ec-model-name { font-weight: 600; font-size: 0.95rem; margin-bottom: 6px; }
            .ec-model-desc { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="ec-viz">
            <div class="ec-timeline">
              <div class="ec-timeline-title">Replication Convergence Over Time</div>
              <div class="ec-nodes">
                <div class="ec-node"><div class="ec-node-icon">üñ•Ô∏è Node A</div><div class="ec-node-values"><div class="ec-value ec-current">v=42 ‚úì</div><div class="ec-time">t=0: Write</div></div></div>
                <div class="ec-node"><div class="ec-node-icon">üñ•Ô∏è Node B</div><div class="ec-node-values"><div class="ec-value ec-stale">v=41 ‚è≥</div><div class="ec-time">t=0: Stale</div></div></div>
                <div class="ec-node"><div class="ec-node-icon">üñ•Ô∏è Node C</div><div class="ec-node-values"><div class="ec-value ec-stale">v=41 ‚è≥</div><div class="ec-time">t=0: Stale</div></div></div>
              </div>
              <div style="text-align:center; margin: 16px 0; color: #8b5cf6; font-size: 1.5rem;">‚Üì Eventually (ms to seconds) ‚Üì</div>
              <div class="ec-nodes">
                <div class="ec-node"><div class="ec-node-values"><div class="ec-value ec-current">v=42 ‚úì</div></div></div>
                <div class="ec-node"><div class="ec-node-values"><div class="ec-value ec-current">v=42 ‚úì</div></div></div>
                <div class="ec-node"><div class="ec-node-values"><div class="ec-value ec-current">v=42 ‚úì</div></div></div>
              </div>
            </div>
            <div class="ec-compare">
              <div class="ec-model" style="border:1px solid #22c55e"><div class="ec-model-name" style="color:#22c55e">Strong Consistency</div><div class="ec-model-desc">Read always sees latest write. Higher latency.</div></div>
              <div class="ec-model" style="border:1px solid #8b5cf6"><div class="ec-model-name" style="color:#8b5cf6">Eventual Consistency</div><div class="ec-model-desc">Temporary staleness OK. Lower latency, higher availability.</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Eventual Consistency</strong> is a consistency model used in distributed systems where replicas are allowed to diverge temporarily but will eventually converge to the same state.</p><p>It trades immediate consistency for higher availability and lower latency, making it ideal for systems where temporary staleness is acceptable.</p>`,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "Convergence Window", desc: "Time between write and all replicas syncing - typically milliseconds to seconds.", color: "#8b5cf6" },
          { icon: "üìñ", title: "Read-Your-Writes", desc: "Session consistency ensures users see their own updates immediately.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Conflict Resolution", desc: "Last-write-wins, vector clocks, or CRDTs handle concurrent updates.", color: "#f59e0b" },
          { icon: "‚úÖ", title: "Use Cases", desc: "Social media feeds, shopping carts, DNS - where staleness is acceptable.", color: "#22c55e" }
        ],
        formula: "Availability > Immediate Consistency (CAP trade-off)",
        strategies: [
          { title: "Choose Appropriate Scope", desc: "Use eventual consistency for non-critical data, strong for financial transactions." },
          { title: "Implement Read-Your-Writes", desc: "Route reads to the same node as writes for session consistency." },
          { title: "Use CRDTs", desc: "Conflict-free Replicated Data Types automatically resolve concurrent updates." },
          { title: "Set Expectations", desc: "UI should handle and communicate potential staleness to users." }
        ],
        metrics: [
          { level: "Strong", downtime: "All nodes sync", useCase: "Financial, inventory" },
          { level: "Eventual", downtime: "Async replication", useCase: "Social, caching" },
          { level: "Causal", downtime: "Preserve ordering", useCase: "Collaborative editing" },
          { level: "Read-Your-Writes", downtime: "Session sticky", useCase: "User-facing apps" }
        ]
      },
      "idempotency": {
        title: "Idempotency",
        subtitle: "The property where an operation produces the same result regardless of how many times it's executed.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .idem-viz { display: flex; flex-direction: column; gap: 24px; }
            .idem-demo { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .idem-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; text-align: center; }
            .idem-good { border: 1px solid rgba(34, 197, 94, 0.3); }
            .idem-bad { border: 1px solid rgba(239, 68, 68, 0.3); }
            .idem-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 12px; }
            .idem-code { background: rgba(0,0,0,0.3); padding: 8px 12px; border-radius: 6px; font-family: monospace; font-size: 0.75rem; margin-bottom: 8px; }
            .idem-result { font-size: 0.8rem; color: #a0a0b0; }
            .idem-key { background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; padding: 16px; text-align: center; }
            .idem-key-title { font-weight: 600; color: #8b5cf6; margin-bottom: 12px; }
            .idem-key-flow { display: flex; align-items: center; justify-content: center; gap: 8px; flex-wrap: wrap; }
            .idem-key-item { background: rgba(30, 35, 50, 0.8); padding: 8px 12px; border-radius: 6px; font-size: 0.8rem; }
          </style>
          <div class="idem-viz">
            <div class="idem-demo">
              <div class="idem-box idem-good"><div class="idem-title" style="color:#22c55e">‚úÖ Idempotent</div><div class="idem-code">PUT /user/123<br>{ "name": "John" }</div><div class="idem-result">Run 1x or 10x ‚Üí same state</div></div>
              <div class="idem-box idem-bad"><div class="idem-title" style="color:#ef4444">‚ùå Not Idempotent</div><div class="idem-code">POST /account/deposit<br>{ "amount": 100 }</div><div class="idem-result">Run 10x ‚Üí $1000 added!</div></div>
              <div class="idem-box idem-good"><div class="idem-title" style="color:#22c55e">‚úÖ Made Idempotent</div><div class="idem-code">POST /account/deposit<br>{ "key": "txn-123" }</div><div class="idem-result">Duplicate key ‚Üí no-op</div></div>
            </div>
            <div class="idem-key">
              <div class="idem-key-title">Idempotency Key Pattern</div>
              <div class="idem-key-flow">
                <div class="idem-key-item">Client generates UUID</div>
                <span style="color:#8b5cf6">‚Üí</span>
                <div class="idem-key-item">Send with request</div>
                <span style="color:#8b5cf6">‚Üí</span>
                <div class="idem-key-item">Server checks cache</div>
                <span style="color:#8b5cf6">‚Üí</span>
                <div class="idem-key-item">Return cached or execute</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Idempotency</strong> ensures that performing an operation multiple times has the same effect as performing it once. This is crucial in distributed systems where network failures may cause retries.</p><p>Without idempotency, retried operations could result in duplicate charges, double-counted votes, or corrupted data.</p>`,
        keyPoints: [
          { icon: "üîë", title: "Idempotency Keys", desc: "Unique client-generated IDs that servers use to detect and ignore duplicates.", color: "#8b5cf6" },
          { icon: "üíæ", title: "Request Deduplication", desc: "Store processed request IDs and return cached responses for duplicates.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Natural Idempotency", desc: "PUT, DELETE are naturally idempotent. POST typically needs explicit handling.", color: "#22c55e" },
          { icon: "‚ö†Ô∏è", title: "TTL Considerations", desc: "Idempotency caches need appropriate TTL - long enough for retries, short enough for storage.", color: "#f59e0b" }
        ],
        formula: "f(f(x)) = f(x) ‚Äî Applying operation twice equals applying once",
        strategies: [
          { title: "Use Idempotency Keys", desc: "Require unique request IDs for non-idempotent operations (payments, orders)." },
          { title: "Design Idempotent APIs", desc: "Use PUT for updates, include version/ETag for optimistic locking." },
          { title: "Database Constraints", desc: "Use unique constraints on business keys to prevent duplicate records." },
          { title: "Transactional Outbox", desc: "Store idempotency state in same transaction as business logic." }
        ],
        metrics: [
          { level: "GET", downtime: "Naturally idempotent", useCase: "Read operations" },
          { level: "PUT", downtime: "Naturally idempotent", useCase: "Full updates" },
          { level: "DELETE", downtime: "Naturally idempotent", useCase: "Remove resources" },
          { level: "POST", downtime: "Needs idempotency key", useCase: "Create operations" }
        ]
      },
      "data-privacy": {
        title: "Data Privacy & Compliance",
        subtitle: "Protecting personal data and ensuring compliance with regulations like GDPR, CCPA, and HIPAA.",
        badge: { text: "Data Management", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .dp-viz { display: flex; flex-direction: column; gap: 24px; }
            .dp-regs { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .dp-reg { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; padding: 16px; width: 140px; text-align: center; }
            .dp-reg-icon { font-size: 2rem; margin-bottom: 8px; }
            .dp-reg-name { font-weight: 600; color: #8b5cf6; font-size: 0.95rem; margin-bottom: 4px; }
            .dp-reg-region { font-size: 0.7rem; color: #a0a0b0; }
            .dp-pii { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 12px; padding: 16px; }
            .dp-pii-title { font-weight: 600; color: #ef4444; margin-bottom: 12px; }
            .dp-pii-list { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .dp-pii-item { background: rgba(30, 35, 50, 0.8); padding: 6px 12px; border-radius: 6px; font-size: 0.75rem; color: #e5e5e5; }
            .dp-rights { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 10px; }
            .dp-right { background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.2); border-radius: 8px; padding: 10px; text-align: center; font-size: 0.75rem; color: #22c55e; }
          </style>
          <div class="dp-viz">
            <div class="dp-regs">
              <div class="dp-reg"><div class="dp-reg-icon">üá™üá∫</div><div class="dp-reg-name">GDPR</div><div class="dp-reg-region">European Union</div></div>
              <div class="dp-reg"><div class="dp-reg-icon">üá∫üá∏</div><div class="dp-reg-name">CCPA</div><div class="dp-reg-region">California, USA</div></div>
              <div class="dp-reg"><div class="dp-reg-icon">üè•</div><div class="dp-reg-name">HIPAA</div><div class="dp-reg-region">Healthcare, USA</div></div>
              <div class="dp-reg"><div class="dp-reg-icon">üí≥</div><div class="dp-reg-name">PCI-DSS</div><div class="dp-reg-region">Payment Cards</div></div>
            </div>
            <div class="dp-pii">
              <div class="dp-pii-title">‚ö†Ô∏è PII - Personally Identifiable Information</div>
              <div class="dp-pii-list">
                <div class="dp-pii-item">Full Name</div>
                <div class="dp-pii-item">Email</div>
                <div class="dp-pii-item">Phone</div>
                <div class="dp-pii-item">SSN</div>
                <div class="dp-pii-item">Address</div>
                <div class="dp-pii-item">DOB</div>
                <div class="dp-pii-item">IP Address</div>
                <div class="dp-pii-item">Biometrics</div>
              </div>
            </div>
            <div class="dp-rights">
              <div class="dp-right">üìã Right to Access</div>
              <div class="dp-right">‚úèÔ∏è Right to Rectify</div>
              <div class="dp-right">üóëÔ∏è Right to Erasure</div>
              <div class="dp-right">üì¶ Right to Portability</div>
              <div class="dp-right">üö´ Right to Object</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Data Privacy & Compliance</strong> involves protecting personal information and meeting regulatory requirements. This includes identifying PII, implementing proper controls, and providing user rights.</p><p>Non-compliance can result in severe fines (up to 4% of global revenue for GDPR) and reputational damage.</p>`,
        keyPoints: [
          { icon: "üîç", title: "Data Discovery", desc: "Know where PII exists across all systems - databases, logs, backups, caches.", color: "#8b5cf6" },
          { icon: "üîê", title: "Encryption & Masking", desc: "Encrypt PII at rest and in transit. Mask in non-production environments.", color: "#3b82f6" },
          { icon: "üìù", title: "Consent Management", desc: "Track and respect user consent for data collection and processing purposes.", color: "#22c55e" },
          { icon: "üóëÔ∏è", title: "Data Deletion", desc: "Implement processes to honor deletion requests across all systems.", color: "#ef4444" }
        ],
        formula: "Compliance = Policy + Technical Controls + Audit Trail",
        strategies: [
          { title: "Data Classification", desc: "Classify all data by sensitivity level with appropriate handling procedures." },
          { title: "Privacy by Design", desc: "Build privacy considerations into system architecture from the start." },
          { title: "Audit Logging", desc: "Log all access to PII for compliance auditing and breach investigation." },
          { title: "Regular Assessments", desc: "Conduct privacy impact assessments and penetration testing regularly." }
        ],
        metrics: [
          { level: "GDPR", downtime: "Up to ‚Ç¨20M or 4% revenue", useCase: "EU citizens" },
          { level: "CCPA", downtime: "Up to $7,500 per violation", useCase: "CA residents" },
          { level: "HIPAA", downtime: "Up to $1.5M per category/year", useCase: "Healthcare data" },
          { level: "PCI-DSS", downtime: "Fines + lose card processing", useCase: "Payment data" }
        ]
      },
      "monolith-modular": {
        title: "Monolith vs Modular Monolith",
        subtitle: "Comparing traditional monolithic architecture with well-structured modular monolith design.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .mm-viz { display: flex; flex-direction: column; gap: 24px; }
            .mm-compare { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .mm-arch { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 16px; padding: 20px; width: 220px; text-align: center; }
            .mm-title { font-weight: 600; font-size: 1rem; margin-bottom: 12px; }
            .mm-diagram { background: rgba(30, 35, 50, 0.8); border-radius: 8px; padding: 12px; margin-bottom: 12px; min-height: 100px; display: flex; flex-direction: column; gap: 4px; justify-content: center; }
            .mm-block { padding: 6px; border-radius: 4px; font-size: 0.7rem; }
            .mm-pros { font-size: 0.7rem; color: #22c55e; text-align: left; }
            .mm-cons { font-size: 0.7rem; color: #ef4444; text-align: left; margin-top: 6px; }
            .mm-trad { border: 1px solid rgba(239, 68, 68, 0.3); }
            .mm-mod { border: 1px solid rgba(16, 185, 129, 0.3); }
            .mm-micro { border: 1px solid rgba(59, 130, 246, 0.3); }
          </style>
          <div class="mm-viz">
            <div class="mm-compare">
              <div class="mm-arch mm-trad">
                <div class="mm-title" style="color:#ef4444">Big Ball of Mud</div>
                <div class="mm-diagram"><div class="mm-block" style="background:#ef4444;color:#fff">Everything Mixed Together<br>üçù Spaghetti Code</div></div>
                <div class="mm-cons">‚úó No boundaries<br>‚úó Hard to change<br>‚úó Difficult testing</div>
              </div>
              <div class="mm-arch mm-mod">
                <div class="mm-title" style="color:#10b981">Modular Monolith</div>
                <div class="mm-diagram">
                  <div class="mm-block" style="background:#10b981;color:#fff">üì¶ Users</div>
                  <div class="mm-block" style="background:#059669;color:#fff">üì¶ Orders</div>
                  <div class="mm-block" style="background:#047857;color:#fff">üì¶ Products</div>
                </div>
                <div class="mm-pros">‚úì Clear boundaries<br>‚úì Single deployment<br>‚úì Easy refactoring</div>
              </div>
              <div class="mm-arch mm-micro">
                <div class="mm-title" style="color:#3b82f6">Microservices</div>
                <div class="mm-diagram" style="flex-direction:row;flex-wrap:wrap;gap:6px;justify-content:center;">
                  <div class="mm-block" style="background:#3b82f6;color:#fff">üî≤</div>
                  <div class="mm-block" style="background:#3b82f6;color:#fff">üî≤</div>
                  <div class="mm-block" style="background:#3b82f6;color:#fff">üî≤</div>
                </div>
                <div class="mm-pros">‚úì Independent scaling<br>‚úì Tech flexibility</div>
                <div class="mm-cons">‚úó Complex ops<br>‚úó Network overhead</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Modular Monolith</strong> is an architectural style that combines the simplicity of a monolith with the organizational benefits of modularity. Code is organized into well-defined modules with clear boundaries and interfaces.</p><p>It's often a better starting point than microservices, allowing teams to extract services later if needed.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Module Boundaries", desc: "Each module owns its domain, data, and API. No direct database access across modules.", color: "#10b981" },
          { icon: "üöÄ", title: "Single Deployment", desc: "Simpler operations - one artifact, one database, easier debugging.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Migration Path", desc: "Modules can be extracted to services when scale or team structure requires.", color: "#f59e0b" },
          { icon: "üß™", title: "Testability", desc: "Modules can be tested in isolation with clear interfaces.", color: "#8b5cf6" }
        ],
        formula: "Start Modular Monolith ‚Üí Extract Services When Needed",
        strategies: [
          { title: "Define Module Contracts", desc: "Each module exposes a public API; internals are private. No reaching into other modules." },
          { title: "Separate Module Schemas", desc: "Each module has its own database schema or namespace - no cross-module table access." },
          { title: "Use Events for Integration", desc: "Modules communicate via in-process events, easy to convert to async messaging later." },
          { title: "Team Alignment", desc: "Align modules with team ownership for clear responsibility and reduced coordination." }
        ],
        metrics: [
          { level: "Monolith", downtime: "1 deployment, 1 DB", useCase: "Simple, small team" },
          { level: "Modular Monolith", downtime: "1 deployment, structured", useCase: "Growing complexity" },
          { level: "Microservices", downtime: "N deployments, N DBs", useCase: "Scale, large teams" },
          { level: "Serverless", downtime: "Function-level", useCase: "Event-driven, variable load" }
        ]
      },
      "event-driven": {
        title: "Event-Driven Architecture",
        subtitle: "A design pattern where system components communicate through the production and consumption of events.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .eda-viz { display: flex; flex-direction: column; gap: 24px; }
            .eda-flow { display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; padding: 20px; background: rgba(16, 185, 129, 0.1); border-radius: 12px; }
            .eda-producer { background: #3b82f6; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; }
            .eda-broker { background: linear-gradient(135deg, #10b981, #059669); color: white; padding: 16px 24px; border-radius: 12px; font-weight: 600; font-size: 1.1rem; }
            .eda-consumers { display: flex; flex-direction: column; gap: 6px; }
            .eda-consumer { background: #8b5cf6; color: white; padding: 8px 16px; border-radius: 6px; font-size: 0.85rem; }
            .eda-arrow { font-size: 1.5rem; color: #10b981; }
            .eda-event { background: rgba(30, 35, 50, 0.8); border: 1px solid #10b981; border-radius: 8px; padding: 8px 12px; font-family: monospace; font-size: 0.75rem; color: #10b981; }
            .eda-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .eda-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 10px; padding: 14px; width: 150px; text-align: center; }
            .eda-type-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .eda-type-name { font-weight: 600; color: #10b981; font-size: 0.85rem; }
          </style>
          <div class="eda-viz">
            <div class="eda-flow">
              <div class="eda-producer">Producer</div>
              <span class="eda-arrow">‚Üí</span>
              <div class="eda-event">{ "type": "OrderCreated" }</div>
              <span class="eda-arrow">‚Üí</span>
              <div class="eda-broker">üì® Event Broker</div>
              <span class="eda-arrow">‚Üí</span>
              <div class="eda-consumers">
                <div class="eda-consumer">üìß Notification</div>
                <div class="eda-consumer">üì¶ Inventory</div>
                <div class="eda-consumer">üí≥ Billing</div>
              </div>
            </div>
            <div class="eda-types">
              <div class="eda-type"><div class="eda-type-icon">üì¢</div><div class="eda-type-name">Pub/Sub</div></div>
              <div class="eda-type"><div class="eda-type-icon">üì¨</div><div class="eda-type-name">Event Sourcing</div></div>
              <div class="eda-type"><div class="eda-type-icon">üîÑ</div><div class="eda-type-name">Stream Processing</div></div>
              <div class="eda-type"><div class="eda-type-icon">üìã</div><div class="eda-type-name">CQRS</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Event-Driven Architecture</strong> is a design paradigm where the flow of the program is determined by events - significant changes in state that are broadcast to interested parties.</p><p>It enables loose coupling, scalability, and real-time processing, but adds complexity in debugging and maintaining consistency.</p>`,
        keyPoints: [
          { icon: "üîì", title: "Loose Coupling", desc: "Producers don't know about consumers. Add new consumers without changing producers.", color: "#10b981" },
          { icon: "üìà", title: "Scalability", desc: "Consumers process independently and can scale based on their own load.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Async Processing", desc: "Non-blocking operations improve responsiveness and throughput.", color: "#f59e0b" },
          { icon: "‚ö†Ô∏è", title: "Eventual Consistency", desc: "State across services converges over time, not immediately.", color: "#ef4444" }
        ],
        formula: "Event = { type, timestamp, payload, metadata }",
        strategies: [
          { title: "Design Events as Facts", desc: "Events are immutable facts about what happened, not commands for what to do." },
          { title: "Include Context", desc: "Events should contain enough information for consumers without additional lookups." },
          { title: "Idempotent Consumers", desc: "Design consumers to handle duplicate events safely (at-least-once delivery)." },
          { title: "Schema Evolution", desc: "Plan for event schema changes with versioning and backward compatibility." }
        ],
        metrics: [
          { level: "Kafka", downtime: "High throughput, durable", useCase: "Event streaming" },
          { level: "RabbitMQ", downtime: "Flexible routing", useCase: "Task queues" },
          { level: "AWS EventBridge", downtime: "Serverless, rules-based", useCase: "Cloud-native events" },
          { level: "Redis Pub/Sub", downtime: "Low latency, ephemeral", useCase: "Real-time notifications" }
        ]
      },
      "cqrs": {
        title: "CQRS",
        subtitle: "Command Query Responsibility Segregation - separating read and write operations into different models.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .cqrs-viz { display: flex; flex-direction: column; gap: 24px; }
            .cqrs-flow { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .cqrs-side { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; }
            .cqrs-write { border: 1px solid rgba(239, 68, 68, 0.3); }
            .cqrs-read { border: 1px solid rgba(59, 130, 246, 0.3); }
            .cqrs-title { font-weight: 600; font-size: 1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
            .cqrs-stack { display: flex; flex-direction: column; gap: 6px; }
            .cqrs-layer { padding: 8px; border-radius: 6px; text-align: center; font-size: 0.8rem; }
            .cqrs-sync { display: flex; align-items: center; justify-content: center; gap: 8px; padding: 16px; background: rgba(16, 185, 129, 0.1); border-radius: 8px; }
            .cqrs-sync-icon { font-size: 1.5rem; color: #10b981; }
            .cqrs-sync-text { font-size: 0.85rem; color: #a0a0b0; }
          </style>
          <div class="cqrs-viz">
            <div class="cqrs-flow">
              <div class="cqrs-side cqrs-write">
                <div class="cqrs-title" style="color:#ef4444">‚úèÔ∏è Command Side</div>
                <div class="cqrs-stack">
                  <div class="cqrs-layer" style="background:#ef4444;color:white">Commands</div>
                  <div class="cqrs-layer" style="background:rgba(239,68,68,0.3);color:#ef4444">Command Handlers</div>
                  <div class="cqrs-layer" style="background:rgba(239,68,68,0.2);color:#ef4444">Domain Model</div>
                  <div class="cqrs-layer" style="background:rgba(239,68,68,0.1);color:#ef4444">Write DB</div>
                </div>
              </div>
              <div class="cqrs-side cqrs-read">
                <div class="cqrs-title" style="color:#3b82f6">üìñ Query Side</div>
                <div class="cqrs-stack">
                  <div class="cqrs-layer" style="background:#3b82f6;color:white">Queries</div>
                  <div class="cqrs-layer" style="background:rgba(59,130,246,0.3);color:#3b82f6">Query Handlers</div>
                  <div class="cqrs-layer" style="background:rgba(59,130,246,0.2);color:#3b82f6">Read Model</div>
                  <div class="cqrs-layer" style="background:rgba(59,130,246,0.1);color:#3b82f6">Read DB (Optimized)</div>
                </div>
              </div>
            </div>
            <div class="cqrs-sync">
              <span class="cqrs-sync-icon">üîÑ</span>
              <span class="cqrs-sync-text">Events sync Write ‚Üí Read models (eventually consistent)</span>
            </div>
          </div>
        `,
        definition: `<p><strong>CQRS</strong> separates the responsibility for handling commands (writes) from queries (reads) into different models. This allows each side to be optimized independently for its specific workload.</p><p>Often combined with Event Sourcing, CQRS enables complex domains, high scalability, and optimized read performance.</p>`,
        keyPoints: [
          { icon: "‚úèÔ∏è", title: "Commands", desc: "Intent to change state. Validated, processed by domain logic, may be rejected.", color: "#ef4444" },
          { icon: "üìñ", title: "Queries", desc: "Requests for data. Never modify state. Can be heavily cached and optimized.", color: "#3b82f6" },
          { icon: "üìä", title: "Read Models", desc: "Denormalized views optimized for specific queries. Multiple views from same data.", color: "#10b981" },
          { icon: "‚è±Ô∏è", title: "Eventual Consistency", desc: "Read models updated asynchronously. Slight lag between write and read.", color: "#f59e0b" }
        ],
        formula: "CQRS = Separate Write Model + Separate Read Model(s)",
        strategies: [
          { title: "Start Simple", desc: "CQRS adds complexity. Use only when read/write patterns differ significantly." },
          { title: "Event Sourcing Synergy", desc: "Events from write side naturally project to read models, enabling audit and replay." },
          { title: "Multiple Read Models", desc: "Create specialized read models for different query patterns (list, detail, reports)." },
          { title: "Handle Staleness", desc: "UI should account for eventual consistency - optimistic updates, loading states." }
        ],
        metrics: [
          { level: "Same Model", downtime: "Traditional CRUD", useCase: "Simple applications" },
          { level: "Separate Models", downtime: "CQRS", useCase: "Complex domains" },
          { level: "+ Event Sourcing", downtime: "Full audit trail", useCase: "Financial, legal" },
          { level: "+ Multiple DBs", downtime: "Polyglot persistence", useCase: "Extreme scale" }
        ]
      },
      "saga-pattern": {
        title: "Saga Pattern",
        subtitle: "Managing distributed transactions across multiple services through a sequence of local transactions.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .saga-viz { display: flex; flex-direction: column; gap: 24px; }
            .saga-flow { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; justify-content: center; padding: 20px; background: rgba(16, 185, 129, 0.1); border-radius: 12px; }
            .saga-step { background: rgba(30, 35, 50, 0.8); border: 2px solid #10b981; border-radius: 8px; padding: 10px 14px; text-align: center; }
            .saga-step-num { font-size: 0.7rem; color: #10b981; }
            .saga-step-name { font-size: 0.8rem; color: #e5e5e5; }
            .saga-arrow { color: #10b981; font-size: 1.2rem; }
            .saga-fail { border-color: #ef4444 !important; }
            .saga-fail .saga-step-num { color: #ef4444; }
            .saga-comp { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; margin-top: 12px; }
            .saga-comp-step { background: rgba(239, 68, 68, 0.2); border: 1px dashed #ef4444; border-radius: 6px; padding: 8px 12px; font-size: 0.75rem; color: #ef4444; }
            .saga-types { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .saga-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 10px; padding: 16px; width: 180px; text-align: center; }
            .saga-type-icon { font-size: 2rem; margin-bottom: 8px; }
            .saga-type-name { font-weight: 600; color: #10b981; font-size: 0.9rem; margin-bottom: 4px; }
            .saga-type-desc { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="saga-viz">
            <div class="saga-flow">
              <div class="saga-step"><div class="saga-step-num">T1</div><div class="saga-step-name">Create Order</div></div>
              <span class="saga-arrow">‚Üí</span>
              <div class="saga-step"><div class="saga-step-num">T2</div><div class="saga-step-name">Reserve Stock</div></div>
              <span class="saga-arrow">‚Üí</span>
              <div class="saga-step saga-fail"><div class="saga-step-num">T3 ‚úó</div><div class="saga-step-name">Charge Payment</div></div>
              <span class="saga-arrow" style="color:#ef4444">‚Üê Compensate</span>
            </div>
            <div class="saga-comp">
              <div class="saga-comp-step">C2: Release Stock</div>
              <div class="saga-comp-step">C1: Cancel Order</div>
            </div>
            <div class="saga-types">
              <div class="saga-type"><div class="saga-type-icon">üé≠</div><div class="saga-type-name">Choreography</div><div class="saga-type-desc">Services react to events. Decentralized, harder to trace.</div></div>
              <div class="saga-type"><div class="saga-type-icon">üéØ</div><div class="saga-type-name">Orchestration</div><div class="saga-type-desc">Central coordinator controls flow. Easier debugging.</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Saga Pattern</strong> manages data consistency across microservices through a sequence of local transactions. If any step fails, compensating transactions are executed to undo previous steps.</p><p>Unlike distributed transactions (2PC), sagas don't lock resources and provide eventual consistency.</p>`,
        keyPoints: [
          { icon: "üìù", title: "Local Transactions", desc: "Each service executes its own ACID transaction. No distributed locks.", color: "#10b981" },
          { icon: "‚Ü©Ô∏è", title: "Compensating Actions", desc: "Semantic undo operations that reverse the effect of completed steps.", color: "#ef4444" },
          { icon: "üé≠", title: "Choreography", desc: "Services publish events, others react. Loose coupling, complex tracing.", color: "#3b82f6" },
          { icon: "üéØ", title: "Orchestration", desc: "Central saga coordinator directs flow. Easier debugging, single point of failure.", color: "#8b5cf6" }
        ],
        formula: "Saga = T1 ‚Üí T2 ‚Üí T3... + C3 ‚Üê C2 ‚Üê C1 (on failure)",
        strategies: [
          { title: "Design Compensations First", desc: "Plan how to undo each step before implementing. Some actions can't be undone." },
          { title: "Idempotent Steps", desc: "Both transactions and compensations must handle retries safely." },
          { title: "Saga State Tracking", desc: "Persist saga state to handle failures mid-saga and enable recovery." },
          { title: "Timeouts and Deadlines", desc: "Set timeouts for each step and overall saga to prevent hanging transactions." }
        ],
        metrics: [
          { level: "2PC", downtime: "Strong consistency, locks", useCase: "Single database" },
          { level: "Saga Choreography", downtime: "Event-driven, decentralized", useCase: "Simple workflows" },
          { level: "Saga Orchestration", downtime: "Central control, traceable", useCase: "Complex workflows" },
          { level: "TCC", downtime: "Try-Confirm-Cancel", useCase: "Reservation patterns" }
        ]
      },
      "hexagonal-architecture": {
        title: "Hexagonal / Clean Architecture",
        subtitle: "Isolating business logic from external concerns through ports and adapters.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .hex-viz { display: flex; flex-direction: column; gap: 24px; align-items: center; }
            .hex-layers { position: relative; width: 280px; height: 200px; }
            .hex-layer { position: absolute; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-weight: 600; text-align: center; }
            .hex-outer { width: 100%; height: 100%; background: rgba(59, 130, 246, 0.2); border: 2px solid #3b82f6; left: 0; top: 0; font-size: 0.75rem; color: #3b82f6; padding: 8px; }
            .hex-middle { width: 70%; height: 70%; background: rgba(16, 185, 129, 0.3); border: 2px solid #10b981; left: 15%; top: 15%; font-size: 0.8rem; color: #10b981; }
            .hex-inner { width: 40%; height: 40%; background: rgba(245, 158, 11, 0.4); border: 2px solid #f59e0b; left: 30%; top: 30%; font-size: 0.85rem; color: #f59e0b; }
            .hex-ports { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .hex-port { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 8px; padding: 10px 14px; text-align: center; width: 130px; }
            .hex-port-type { font-size: 0.7rem; color: #a0a0b0; }
            .hex-port-name { font-size: 0.85rem; font-weight: 600; color: #10b981; }
          </style>
          <div class="hex-viz">
            <div class="hex-layers">
              <div class="hex-layer hex-outer">Infrastructure<br>(DB, API, UI)</div>
              <div class="hex-layer hex-middle">Application<br>Services</div>
              <div class="hex-layer hex-inner">Domain<br>Core</div>
            </div>
            <div class="hex-ports">
              <div class="hex-port"><div class="hex-port-type">Driving Port</div><div class="hex-port-name">REST API</div></div>
              <div class="hex-port"><div class="hex-port-type">Driving Port</div><div class="hex-port-name">CLI</div></div>
              <div class="hex-port"><div class="hex-port-type">Driven Port</div><div class="hex-port-name">Database</div></div>
              <div class="hex-port"><div class="hex-port-type">Driven Port</div><div class="hex-port-name">Email</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Hexagonal Architecture</strong> (Ports & Adapters) isolates the core business logic from external concerns like databases, APIs, and UIs. The domain is at the center, accessed through ports with adapters.</p><p>This enables testability, flexibility to swap implementations, and protects business logic from infrastructure changes.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "Domain Core", desc: "Pure business logic with no external dependencies. Easily testable.", color: "#f59e0b" },
          { icon: "üîå", title: "Ports", desc: "Interfaces that define how the application interacts with the outside world.", color: "#10b981" },
          { icon: "üîÑ", title: "Adapters", desc: "Implementations of ports - REST controllers, database repos, message handlers.", color: "#3b82f6" },
          { icon: "‚¨ÜÔ∏è", title: "Dependency Inversion", desc: "Outer layers depend on inner layers, never the reverse.", color: "#8b5cf6" }
        ],
        formula: "Core ‚Üí Application ‚Üí Infrastructure (dependencies point inward)",
        strategies: [
          { title: "Define Ports as Interfaces", desc: "Use interfaces for all external interactions - persistence, messaging, external APIs." },
          { title: "Keep Domain Pure", desc: "No framework dependencies, no I/O in domain layer. Pure business logic only." },
          { title: "Use Dependency Injection", desc: "Wire adapters to ports at application startup for flexibility and testing." },
          { title: "Test Domain Independently", desc: "Unit test domain with mock adapters. Integration test with real adapters." }
        ],
        metrics: [
          { level: "Domain Layer", downtime: "Business logic", useCase: "Entities, value objects" },
          { level: "Application Layer", downtime: "Use cases", useCase: "Orchestration" },
          { level: "Ports", downtime: "Interfaces", useCase: "Contracts" },
          { level: "Adapters", downtime: "Implementations", useCase: "Infrastructure" }
        ]
      },
      "service-mesh": {
        title: "Service Mesh",
        subtitle: "A dedicated infrastructure layer for handling service-to-service communication.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .sm-viz { display: flex; flex-direction: column; gap: 24px; }
            .sm-cluster { background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 20px; }
            .sm-services { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .sm-service { text-align: center; }
            .sm-app { background: #3b82f6; color: white; padding: 12px 20px; border-radius: 8px 8px 0 0; font-size: 0.85rem; font-weight: 600; }
            .sm-sidecar { background: #10b981; color: white; padding: 8px 20px; border-radius: 0 0 8px 8px; font-size: 0.75rem; }
            .sm-connection { display: flex; align-items: center; justify-content: center; margin: 16px 0; }
            .sm-conn-line { height: 2px; background: linear-gradient(90deg, #10b981, #3b82f6, #10b981); flex: 1; max-width: 200px; }
            .sm-conn-label { background: rgba(30, 35, 50, 0.8); padding: 4px 12px; border-radius: 4px; font-size: 0.7rem; color: #10b981; margin: 0 8px; }
            .sm-features { display: grid; grid-template-columns: repeat(auto-fit, minmax(110px, 1fr)); gap: 8px; }
            .sm-feature { background: rgba(30, 35, 50, 0.8); border-radius: 6px; padding: 10px; text-align: center; font-size: 0.75rem; color: #e5e5e5; }
          </style>
          <div class="sm-viz">
            <div class="sm-cluster">
              <div class="sm-services">
                <div class="sm-service"><div class="sm-app">Service A</div><div class="sm-sidecar">üîó Envoy Proxy</div></div>
                <div class="sm-service"><div class="sm-app">Service B</div><div class="sm-sidecar">üîó Envoy Proxy</div></div>
                <div class="sm-service"><div class="sm-app">Service C</div><div class="sm-sidecar">üîó Envoy Proxy</div></div>
              </div>
              <div class="sm-connection">
                <div class="sm-conn-line"></div>
                <div class="sm-conn-label">mTLS + Observability</div>
                <div class="sm-conn-line"></div>
              </div>
            </div>
            <div class="sm-features">
              <div class="sm-feature">üîí mTLS</div>
              <div class="sm-feature">‚öñÔ∏è Load Balancing</div>
              <div class="sm-feature">üîÅ Retries</div>
              <div class="sm-feature">üìä Metrics</div>
              <div class="sm-feature">üîç Tracing</div>
              <div class="sm-feature">üö¶ Traffic Control</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Service Mesh</strong> is a dedicated infrastructure layer that handles service-to-service communication. It typically uses sidecar proxies deployed alongside each service to manage traffic, security, and observability.</p><p>Popular implementations include Istio, Linkerd, and Consul Connect.</p>`,
        keyPoints: [
          { icon: "üîó", title: "Sidecar Proxy", desc: "Each service has a proxy (Envoy) that handles all network traffic.", color: "#10b981" },
          { icon: "üîí", title: "mTLS", desc: "Automatic mutual TLS encryption between all services.", color: "#3b82f6" },
          { icon: "üìä", title: "Observability", desc: "Automatic metrics, tracing, and logging for all service calls.", color: "#f59e0b" },
          { icon: "üö¶", title: "Traffic Management", desc: "Canary deployments, A/B testing, circuit breaking, rate limiting.", color: "#8b5cf6" }
        ],
        formula: "Service Mesh = Sidecar Proxies + Control Plane",
        strategies: [
          { title: "Start with Observability", desc: "Deploy mesh for visibility first, then add security and traffic policies." },
          { title: "Gradual Rollout", desc: "Add services to the mesh incrementally, not all at once." },
          { title: "Understand Overhead", desc: "Sidecars add latency and resource consumption. Measure impact." },
          { title: "Use Managed Options", desc: "Consider managed meshes (AWS App Mesh, GKE with Istio) to reduce ops burden." }
        ],
        metrics: [
          { level: "Istio", downtime: "Full featured, complex", useCase: "Enterprise Kubernetes" },
          { level: "Linkerd", downtime: "Lightweight, simple", useCase: "Kubernetes" },
          { level: "Consul Connect", downtime: "Multi-platform", useCase: "VMs + Kubernetes" },
          { level: "AWS App Mesh", downtime: "Managed, AWS native", useCase: "AWS workloads" }
        ]
      },
      "bff": {
        title: "Backend for Frontend (BFF)",
        subtitle: "Creating dedicated backend services tailored to specific frontend requirements.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .bff-viz { display: flex; flex-direction: column; gap: 20px; }
            .bff-clients { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .bff-stack { text-align: center; }
            .bff-client { background: #3b82f6; color: white; padding: 10px 20px; border-radius: 8px; font-size: 0.85rem; font-weight: 600; }
            .bff-arrow { font-size: 1.2rem; color: #10b981; margin: 8px 0; }
            .bff-backend { background: #10b981; color: white; padding: 10px 16px; border-radius: 8px; font-size: 0.8rem; }
            .bff-services { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; margin-top: 16px; padding-top: 16px; border-top: 1px dashed rgba(16, 185, 129, 0.3); }
            .bff-service { background: rgba(139, 92, 246, 0.2); border: 1px solid #8b5cf6; color: #8b5cf6; padding: 10px 16px; border-radius: 8px; font-size: 0.8rem; }
          </style>
          <div class="bff-viz">
            <div class="bff-clients">
              <div class="bff-stack">
                <div class="bff-client">üì± Mobile App</div>
                <div class="bff-arrow">‚Üì</div>
                <div class="bff-backend">Mobile BFF</div>
              </div>
              <div class="bff-stack">
                <div class="bff-client">üíª Web App</div>
                <div class="bff-arrow">‚Üì</div>
                <div class="bff-backend">Web BFF</div>
              </div>
              <div class="bff-stack">
                <div class="bff-client">‚åö Wearable</div>
                <div class="bff-arrow">‚Üì</div>
                <div class="bff-backend">IoT BFF</div>
              </div>
            </div>
            <div class="bff-services">
              <div class="bff-service">üë§ User Service</div>
              <div class="bff-service">üì¶ Order Service</div>
              <div class="bff-service">üí≥ Payment Service</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Backend for Frontend (BFF)</strong> is a pattern where a dedicated backend is created for each type of frontend client (web, mobile, IoT). Each BFF aggregates and tailors data specifically for its client's needs.</p><p>This eliminates the "one API fits all" problem and allows frontend teams to own their backend interface.</p>`,
        keyPoints: [
          { icon: "üì±", title: "Client-Specific", desc: "Each frontend type gets an API tailored to its exact needs and constraints.", color: "#3b82f6" },
          { icon: "üîó", title: "Aggregation", desc: "BFF combines data from multiple microservices into client-friendly responses.", color: "#10b981" },
          { icon: "üë•", title: "Team Ownership", desc: "Frontend teams can own and evolve their BFF independently.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Optimization", desc: "Reduce payload size, minimize roundtrips, optimize for network conditions.", color: "#8b5cf6" }
        ],
        formula: "BFF = API Gateway + Client-Specific Aggregation",
        strategies: [
          { title: "One BFF per Client Type", desc: "Web, mobile, and third-party each get their own BFF. Share code where possible." },
          { title: "Frontend Team Ownership", desc: "Frontend developers own their BFF - reduces cross-team coordination." },
          { title: "Keep BFFs Thin", desc: "BFFs should aggregate and transform, not contain business logic." },
          { title: "Consider GraphQL", desc: "GraphQL can provide similar benefits with a single flexible endpoint." }
        ],
        metrics: [
          { level: "Generic API", downtime: "One size fits all", useCase: "Simple apps" },
          { level: "BFF Pattern", downtime: "Per-client backend", useCase: "Multi-client apps" },
          { level: "GraphQL", downtime: "Flexible queries", useCase: "Variable data needs" },
          { level: "API Gateway + BFF", downtime: "Full separation", useCase: "Large teams" }
        ]
      },
      "strangler-fig": {
        title: "Strangler Fig Pattern",
        subtitle: "Incrementally replacing a legacy system by gradually routing traffic to new implementations.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .sf-viz { display: flex; flex-direction: column; gap: 20px; }
            .sf-phases { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .sf-phase { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 160px; text-align: center; }
            .sf-phase-num { font-size: 0.7rem; color: #a0a0b0; margin-bottom: 8px; }
            .sf-bars { display: flex; height: 60px; border-radius: 6px; overflow: hidden; }
            .sf-legacy { background: #ef4444; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem; }
            .sf-new { background: #10b981; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem; }
            .sf-router { background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 16px; text-align: center; }
            .sf-router-title { font-weight: 600; color: #10b981; margin-bottom: 12px; }
            .sf-router-flow { display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .sf-router-item { padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; }
          </style>
          <div class="sf-viz">
            <div class="sf-phases">
              <div class="sf-phase"><div class="sf-phase-num">Phase 1</div><div class="sf-bars"><div class="sf-legacy" style="width:100%">Legacy</div></div></div>
              <div class="sf-phase"><div class="sf-phase-num">Phase 2</div><div class="sf-bars"><div class="sf-legacy" style="width:70%">70%</div><div class="sf-new" style="width:30%">30%</div></div></div>
              <div class="sf-phase"><div class="sf-phase-num">Phase 3</div><div class="sf-bars"><div class="sf-legacy" style="width:30%">30%</div><div class="sf-new" style="width:70%">70%</div></div></div>
              <div class="sf-phase"><div class="sf-phase-num">Phase 4</div><div class="sf-bars"><div class="sf-new" style="width:100%">New ‚úì</div></div></div>
            </div>
            <div class="sf-router">
              <div class="sf-router-title">üîÄ Strangler Facade (Router)</div>
              <div class="sf-router-flow">
                <div class="sf-router-item" style="background:#3b82f6;color:white">Request</div>
                <span style="color:#10b981">‚Üí</span>
                <div class="sf-router-item" style="background:rgba(16,185,129,0.3);color:#10b981">Route Decision</div>
                <span style="color:#10b981">‚Üí</span>
                <div class="sf-router-item" style="background:#ef4444;color:white">Legacy</div>
                <span style="color:#a0a0b0">or</span>
                <div class="sf-router-item" style="background:#10b981;color:white">New</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Strangler Fig Pattern</strong> is a migration strategy where a new system is gradually built around the edges of an existing legacy system. Traffic is incrementally routed to the new implementation until the old system can be decommissioned.</p><p>Named after strangler fig trees that grow around host trees, eventually replacing them.</p>`,
        keyPoints: [
          { icon: "üîÄ", title: "Facade/Router", desc: "A routing layer directs traffic to legacy or new system based on rules.", color: "#10b981" },
          { icon: "üìà", title: "Incremental", desc: "Migrate feature by feature, reducing risk and enabling continuous delivery.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Parallel Running", desc: "Both systems run simultaneously during migration for comparison and fallback.", color: "#f59e0b" },
          { icon: "üóëÔ∏è", title: "Eventual Removal", desc: "Once all traffic migrates, legacy system is decommissioned.", color: "#ef4444" }
        ],
        formula: "Migration = Extract Feature ‚Üí Build New ‚Üí Route Traffic ‚Üí Repeat",
        strategies: [
          { title: "Start at the Edge", desc: "Begin with features that have fewer dependencies and clearer boundaries." },
          { title: "Use Feature Flags", desc: "Toggle traffic between old and new for testing and gradual rollout." },
          { title: "Compare Results", desc: "Run both systems and compare outputs to verify correctness." },
          { title: "Keep Legacy Running", desc: "Don't remove legacy code until new system is proven in production." }
        ],
        metrics: [
          { level: "Big Bang", downtime: "High risk, fast", useCase: "Small systems" },
          { level: "Strangler", downtime: "Low risk, incremental", useCase: "Large legacy systems" },
          { level: "Branch by Abstraction", downtime: "Codebase migration", useCase: "Library replacement" },
          { level: "Feature Toggles", downtime: "Traffic control", useCase: "Gradual rollout" }
        ]
      },
      "retries-backoff": {
        title: "Retries with Backoff",
        subtitle: "Automatically retrying failed operations with increasing delays to handle transient failures.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .rb-viz { display: flex; flex-direction: column; gap: 24px; }
            .rb-timeline { display: flex; align-items: flex-end; gap: 8px; justify-content: center; flex-wrap: wrap; padding: 20px; background: rgba(245, 158, 11, 0.1); border-radius: 12px; }
            .rb-attempt { display: flex; flex-direction: column; align-items: center; gap: 4px; }
            .rb-bar { width: 50px; background: linear-gradient(to top, #f59e0b, #fbbf24); border-radius: 4px 4px 0 0; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 4px; color: white; font-size: 0.7rem; font-weight: 600; }
            .rb-label { font-size: 0.7rem; color: #a0a0b0; }
            .rb-status { font-size: 1rem; }
            .rb-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .rb-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 10px; padding: 14px; width: 150px; text-align: center; }
            .rb-type-name { font-weight: 600; color: #f59e0b; font-size: 0.9rem; margin-bottom: 4px; }
            .rb-type-formula { font-size: 0.7rem; color: #a0a0b0; font-family: monospace; }
          </style>
          <div class="rb-viz">
            <div class="rb-timeline">
              <div class="rb-attempt"><div class="rb-status">‚ùå</div><div class="rb-bar" style="height:20px">0s</div><div class="rb-label">Attempt 1</div></div>
              <div class="rb-attempt"><div class="rb-status">‚ùå</div><div class="rb-bar" style="height:40px">1s</div><div class="rb-label">Attempt 2</div></div>
              <div class="rb-attempt"><div class="rb-status">‚ùå</div><div class="rb-bar" style="height:60px">2s</div><div class="rb-label">Attempt 3</div></div>
              <div class="rb-attempt"><div class="rb-status">‚ùå</div><div class="rb-bar" style="height:80px">4s</div><div class="rb-label">Attempt 4</div></div>
              <div class="rb-attempt"><div class="rb-status">‚úÖ</div><div class="rb-bar" style="height:100px;background:linear-gradient(to top, #22c55e, #4ade80)">8s</div><div class="rb-label">Attempt 5</div></div>
            </div>
            <div class="rb-types">
              <div class="rb-type"><div class="rb-type-name">Fixed</div><div class="rb-type-formula">delay = constant</div></div>
              <div class="rb-type"><div class="rb-type-name">Exponential</div><div class="rb-type-formula">delay = base √ó 2^n</div></div>
              <div class="rb-type"><div class="rb-type-name">+ Jitter</div><div class="rb-type-formula">delay ¬± random</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Retries with Backoff</strong> is a resilience pattern where failed operations are automatically retried after a delay. Exponential backoff increases the delay between retries to avoid overwhelming a recovering service.</p><p>Adding jitter (randomness) prevents thundering herd problems when many clients retry simultaneously.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "Transient Failures", desc: "Retries help with temporary issues like network blips or brief service overload.", color: "#f59e0b" },
          { icon: "üìà", title: "Exponential Backoff", desc: "Double delay each retry: 1s, 2s, 4s, 8s... Gives service time to recover.", color: "#3b82f6" },
          { icon: "üé≤", title: "Jitter", desc: "Add randomness to prevent synchronized retry storms from multiple clients.", color: "#10b981" },
          { icon: "üõë", title: "Max Retries", desc: "Set limits to avoid infinite retries. Fail fast if service is truly down.", color: "#ef4444" }
        ],
        formula: "Delay = min(base √ó 2^attempt + random_jitter, max_delay)",
        strategies: [
          { title: "Identify Retryable Errors", desc: "Retry 503, 429, timeouts. Don't retry 400, 401, 404 - they won't succeed." },
          { title: "Use Jitter", desc: "Add random delay (0-100% of calculated delay) to spread retry load." },
          { title: "Set Reasonable Limits", desc: "Max 3-5 retries with reasonable max delay (30s-60s) before giving up." },
          { title: "Combine with Circuit Breaker", desc: "Stop retrying entirely when circuit opens to prevent cascade failures." }
        ],
        metrics: [
          { level: "Fixed Delay", downtime: "Same wait each time", useCase: "Simple cases" },
          { level: "Linear Backoff", downtime: "Delay increases linearly", useCase: "Moderate load" },
          { level: "Exponential", downtime: "Delay doubles", useCase: "Burst recovery" },
          { level: "Exponential + Jitter", downtime: "Best practice", useCase: "Production systems" }
        ]
      },
      "timeouts": {
        title: "Timeouts",
        subtitle: "Setting time limits on operations to prevent indefinite waiting and resource exhaustion.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .to-viz { display: flex; flex-direction: column; gap: 24px; }
            .to-timeline { background: rgba(245, 158, 11, 0.1); border-radius: 12px; padding: 20px; }
            .to-bar { display: flex; align-items: center; gap: 8px; margin-bottom: 12px; }
            .to-bar-label { width: 100px; font-size: 0.8rem; color: #a0a0b0; }
            .to-bar-track { flex: 1; height: 24px; background: rgba(30, 35, 50, 0.8); border-radius: 4px; overflow: hidden; display: flex; }
            .to-bar-fill { height: 100%; display: flex; align-items: center; justify-content: flex-end; padding-right: 8px; font-size: 0.7rem; color: white; font-weight: 600; }
            .to-success { background: linear-gradient(90deg, #22c55e, #4ade80); }
            .to-timeout { background: linear-gradient(90deg, #3b82f6, #ef4444); }
            .to-types { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .to-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 8px; padding: 12px; width: 130px; text-align: center; }
            .to-type-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .to-type-name { font-weight: 600; color: #f59e0b; font-size: 0.85rem; }
            .to-type-val { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="to-viz">
            <div class="to-timeline">
              <div class="to-bar"><div class="to-bar-label">Normal (200ms)</div><div class="to-bar-track"><div class="to-bar-fill to-success" style="width:20%">‚úì</div></div></div>
              <div class="to-bar"><div class="to-bar-label">Slow (800ms)</div><div class="to-bar-track"><div class="to-bar-fill to-success" style="width:80%">‚úì</div></div></div>
              <div class="to-bar"><div class="to-bar-label">Timeout! (>1s)</div><div class="to-bar-track"><div class="to-bar-fill to-timeout" style="width:100%">‚è±Ô∏è TIMEOUT</div></div></div>
            </div>
            <div class="to-types">
              <div class="to-type"><div class="to-type-icon">üîå</div><div class="to-type-name">Connection</div><div class="to-type-val">1-5 seconds</div></div>
              <div class="to-type"><div class="to-type-icon">üìñ</div><div class="to-type-name">Read</div><div class="to-type-val">5-30 seconds</div></div>
              <div class="to-type"><div class="to-type-icon">‚úçÔ∏è</div><div class="to-type-name">Write</div><div class="to-type-val">10-60 seconds</div></div>
              <div class="to-type"><div class="to-type-icon">üîÑ</div><div class="to-type-name">Idle</div><div class="to-type-val">30-300 seconds</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Timeouts</strong> set maximum time limits for operations like network calls, database queries, or acquiring locks. Without timeouts, a hanging dependency can block resources indefinitely, causing cascading failures.</p><p>Proper timeout values balance between giving operations enough time to complete and failing fast when dependencies are unhealthy.</p>`,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "Connection Timeout", desc: "Time to establish connection. Should be short (1-5s) - fast failure if unreachable.", color: "#f59e0b" },
          { icon: "üìñ", title: "Read/Socket Timeout", desc: "Time waiting for data after connection. Based on expected operation duration.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Request Timeout", desc: "Overall time for entire operation including retries and processing.", color: "#10b981" },
          { icon: "‚ö†Ô∏è", title: "Deadline Propagation", desc: "Pass remaining time budget through call chain to prevent timeout after timeout.", color: "#ef4444" }
        ],
        formula: "Timeout = P99 latency √ó 2-3 (with headroom for variance)",
        strategies: [
          { title: "Set All Timeouts", desc: "Never use infinite timeouts. Every external call needs a timeout." },
          { title: "Base on SLOs", desc: "Set timeouts based on latency SLOs - P99 response time plus margin." },
          { title: "Propagate Deadlines", desc: "Pass remaining time through the call chain to fail fast in downstream services." },
          { title: "Monitor Timeout Rates", desc: "High timeout rates indicate performance issues or incorrect timeout values." }
        ],
        metrics: [
          { level: "Database", downtime: "1-30s typical", useCase: "Query complexity" },
          { level: "HTTP API", downtime: "1-10s typical", useCase: "Service calls" },
          { level: "gRPC", downtime: "Built-in deadlines", useCase: "Microservices" },
          { level: "Message Queue", downtime: "Visibility timeout", useCase: "Async processing" }
        ]
      },
      "bulkheads": {
        title: "Bulkheads",
        subtitle: "Isolating components to prevent failures from cascading across the entire system.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .bh-viz { display: flex; flex-direction: column; gap: 24px; }
            .bh-ship { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 12px; padding: 20px; }
            .bh-title { font-size: 0.85rem; color: #f59e0b; margin-bottom: 12px; font-weight: 600; text-align: center; }
            .bh-compartments { display: flex; gap: 4px; }
            .bh-comp { flex: 1; height: 80px; border-radius: 4px; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 4px; font-size: 0.75rem; border: 2px solid; }
            .bh-ok { background: rgba(34, 197, 94, 0.2); border-color: #22c55e; color: #22c55e; }
            .bh-fail { background: rgba(239, 68, 68, 0.3); border-color: #ef4444; color: #ef4444; }
            .bh-wall { width: 6px; background: linear-gradient(to bottom, #f59e0b, #d97706); border-radius: 2px; }
            .bh-pools { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .bh-pool { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(245, 158, 11, 0.2); border-radius: 10px; padding: 14px; width: 140px; text-align: center; }
            .bh-pool-name { font-weight: 600; color: #f59e0b; font-size: 0.85rem; margin-bottom: 8px; }
            .bh-pool-bar { height: 8px; background: rgba(100, 100, 120, 0.3); border-radius: 4px; overflow: hidden; }
            .bh-pool-fill { height: 100%; border-radius: 4px; }
          </style>
          <div class="bh-viz">
            <div class="bh-ship">
              <div class="bh-title">üö¢ Bulkhead Isolation (like ship compartments)</div>
              <div class="bh-compartments">
                <div class="bh-comp bh-ok">‚úì Auth<br>5/10 threads</div>
                <div class="bh-wall"></div>
                <div class="bh-comp bh-fail">‚úó Payment<br>FULL 10/10</div>
                <div class="bh-wall"></div>
                <div class="bh-comp bh-ok">‚úì Search<br>3/10 threads</div>
                <div class="bh-wall"></div>
                <div class="bh-comp bh-ok">‚úì Orders<br>7/10 threads</div>
              </div>
            </div>
            <div class="bh-pools">
              <div class="bh-pool"><div class="bh-pool-name">Thread Pool</div><div class="bh-pool-bar"><div class="bh-pool-fill" style="width:60%;background:#22c55e"></div></div></div>
              <div class="bh-pool"><div class="bh-pool-name">Connection Pool</div><div class="bh-pool-bar"><div class="bh-pool-fill" style="width:80%;background:#f59e0b"></div></div></div>
              <div class="bh-pool"><div class="bh-pool-name">Semaphore</div><div class="bh-pool-bar"><div class="bh-pool-fill" style="width:40%;background:#3b82f6"></div></div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Bulkheads</strong> isolate components so that failures in one area don't cascade to others. Named after ship compartments that prevent a single breach from sinking the entire vessel.</p><p>Implementation includes separate thread pools, connection pools, or process isolation for different services or features.</p>`,
        keyPoints: [
          { icon: "üßµ", title: "Thread Pool Isolation", desc: "Separate thread pools per service. One slow service can't exhaust all threads.", color: "#f59e0b" },
          { icon: "üîå", title: "Connection Pool Isolation", desc: "Separate connection pools prevent one service from consuming all connections.", color: "#3b82f6" },
          { icon: "üé´", title: "Semaphore Isolation", desc: "Limit concurrent calls per service with semaphores or rate limiters.", color: "#10b981" },
          { icon: "üì¶", title: "Process Isolation", desc: "Run critical services in separate processes or containers for strongest isolation.", color: "#8b5cf6" }
        ],
        formula: "System Availability = Œ†(Compartment Availability)",
        strategies: [
          { title: "Identify Failure Domains", desc: "Group services by criticality and failure modes for isolation boundaries." },
          { title: "Size Pools Appropriately", desc: "Too small = artificial throttling. Too large = insufficient isolation." },
          { title: "Monitor Pool Saturation", desc: "Alert when pools approach capacity before they cause rejections." },
          { title: "Combine with Circuit Breaker", desc: "Open circuit when bulkhead consistently fills up, allowing faster recovery." }
        ],
        metrics: [
          { level: "Thread Pool", downtime: "Per-service threads", useCase: "Synchronous calls" },
          { level: "Semaphore", downtime: "Concurrent call limit", useCase: "Lightweight limiting" },
          { level: "Connection Pool", downtime: "Per-service connections", useCase: "Database/HTTP" },
          { level: "Process", downtime: "Container isolation", useCase: "Critical services" }
        ]
      },
      "health-checks": {
        title: "Health Checks",
        subtitle: "Probes that verify if a service is running correctly and ready to handle traffic.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .hc-viz { display: flex; flex-direction: column; gap: 24px; }
            .hc-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .hc-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 160px; text-align: center; }
            .hc-type-icon { font-size: 2rem; margin-bottom: 8px; }
            .hc-type-name { font-weight: 600; font-size: 0.95rem; margin-bottom: 4px; }
            .hc-type-desc { font-size: 0.7rem; color: #a0a0b0; }
            .hc-liveness { border: 1px solid rgba(34, 197, 94, 0.3); }
            .hc-liveness .hc-type-name { color: #22c55e; }
            .hc-readiness { border: 1px solid rgba(59, 130, 246, 0.3); }
            .hc-readiness .hc-type-name { color: #3b82f6; }
            .hc-startup { border: 1px solid rgba(245, 158, 11, 0.3); }
            .hc-startup .hc-type-name { color: #f59e0b; }
            .hc-flow { background: rgba(34, 197, 94, 0.1); border-radius: 12px; padding: 16px; display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .hc-step { background: rgba(30, 35, 50, 0.8); padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; color: #e5e5e5; }
            .hc-arrow { color: #22c55e; }
          </style>
          <div class="hc-viz">
            <div class="hc-types">
              <div class="hc-type hc-liveness"><div class="hc-type-icon">üíö</div><div class="hc-type-name">Liveness</div><div class="hc-type-desc">Is the process alive? Restart if failing.</div></div>
              <div class="hc-type hc-readiness"><div class="hc-type-icon">üíô</div><div class="hc-type-name">Readiness</div><div class="hc-type-desc">Ready for traffic? Remove from LB if not.</div></div>
              <div class="hc-type hc-startup"><div class="hc-type-icon">üß°</div><div class="hc-type-name">Startup</div><div class="hc-type-desc">Has it finished starting? Delay other probes.</div></div>
            </div>
            <div class="hc-flow">
              <div class="hc-step">GET /health/live</div>
              <span class="hc-arrow">‚Üí</span>
              <div class="hc-step">Check process</div>
              <span class="hc-arrow">‚Üí</span>
              <div class="hc-step">200 OK ‚úì</div>
              <span class="hc-arrow">or</span>
              <div class="hc-step" style="border:1px solid #ef4444;color:#ef4444">503 Unhealthy</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Health Checks</strong> are endpoints that report on a service's operational status. They're used by load balancers, orchestrators (Kubernetes), and monitoring systems to detect and handle failures.</p><p>Different types of health checks serve different purposes: liveness for restarts, readiness for traffic routing.</p>`,
        keyPoints: [
          { icon: "üíö", title: "Liveness Probe", desc: "Checks if the process is alive. Failures trigger container restart.", color: "#22c55e" },
          { icon: "üíô", title: "Readiness Probe", desc: "Checks if ready for traffic. Failures remove from load balancer.", color: "#3b82f6" },
          { icon: "üß°", title: "Startup Probe", desc: "Used for slow-starting apps. Delays liveness/readiness until app is up.", color: "#f59e0b" },
          { icon: "üîç", title: "Deep Health Check", desc: "Checks dependencies (DB, cache). Use for readiness, not liveness.", color: "#8b5cf6" }
        ],
        formula: "Healthy = Liveness ‚àß Readiness ‚àß Dependencies OK",
        strategies: [
          { title: "Separate Liveness from Readiness", desc: "Liveness: process alive. Readiness: can serve traffic. Don't mix them." },
          { title: "Keep Liveness Simple", desc: "Liveness should only check if process is stuck, not dependencies." },
          { title: "Set Appropriate Intervals", desc: "Check every 10-30s. Too frequent = overhead. Too slow = delayed detection." },
          { title: "Include Dependency Checks in Readiness", desc: "Check DB, cache connections in readiness to avoid routing to broken instances." }
        ],
        metrics: [
          { level: "/health/live", downtime: "Process check", useCase: "Liveness probe" },
          { level: "/health/ready", downtime: "Traffic readiness", useCase: "Readiness probe" },
          { level: "/health/startup", downtime: "Init complete", useCase: "Slow-start apps" },
          { level: "/health/deep", downtime: "All dependencies", useCase: "Debugging" }
        ]
      },
      "failover": {
        title: "Failover",
        subtitle: "Automatically switching to a backup system when the primary fails.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .fo-viz { display: flex; flex-direction: column; gap: 24px; }
            .fo-scenario { background: rgba(245, 158, 11, 0.1); border-radius: 12px; padding: 20px; }
            .fo-title { font-size: 0.85rem; color: #f59e0b; margin-bottom: 16px; font-weight: 600; text-align: center; }
            .fo-systems { display: flex; align-items: center; justify-content: center; gap: 20px; flex-wrap: wrap; }
            .fo-system { text-align: center; }
            .fo-box { padding: 16px 24px; border-radius: 10px; font-weight: 600; font-size: 0.9rem; margin-bottom: 6px; }
            .fo-primary { background: rgba(239, 68, 68, 0.2); border: 2px dashed #ef4444; color: #ef4444; }
            .fo-standby { background: #22c55e; color: white; border: 2px solid #22c55e; }
            .fo-label { font-size: 0.75rem; color: #a0a0b0; }
            .fo-arrow { font-size: 2rem; color: #f59e0b; }
            .fo-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .fo-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 10px; padding: 14px; width: 140px; text-align: center; }
            .fo-type-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .fo-type-name { font-weight: 600; color: #f59e0b; font-size: 0.85rem; margin-bottom: 2px; }
            .fo-type-time { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="fo-viz">
            <div class="fo-scenario">
              <div class="fo-title">üîÑ Automatic Failover</div>
              <div class="fo-systems">
                <div class="fo-system"><div class="fo-box fo-primary">‚ùå Primary Failed</div><div class="fo-label">Detected by monitor</div></div>
                <span class="fo-arrow">‚Üí</span>
                <div class="fo-system"><div class="fo-box fo-standby">‚úì Standby ‚Üí Active</div><div class="fo-label">Traffic redirected</div></div>
              </div>
            </div>
            <div class="fo-types">
              <div class="fo-type"><div class="fo-type-icon">üî•</div><div class="fo-type-name">Hot Standby</div><div class="fo-type-time">Seconds failover</div></div>
              <div class="fo-type"><div class="fo-type-icon">üå°Ô∏è</div><div class="fo-type-name">Warm Standby</div><div class="fo-type-time">Minutes failover</div></div>
              <div class="fo-type"><div class="fo-type-icon">‚ùÑÔ∏è</div><div class="fo-type-name">Cold Standby</div><div class="fo-type-time">Hours failover</div></div>
              <div class="fo-type"><div class="fo-type-icon">‚ö°</div><div class="fo-type-name">Active-Active</div><div class="fo-type-time">Zero failover</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Failover</strong> is the process of automatically switching to a redundant or standby system when the primary system fails. It's essential for high availability and business continuity.</p><p>Failover can be automatic (detected and switched by systems) or manual (requiring human intervention).</p>`,
        keyPoints: [
          { icon: "üî•", title: "Hot Standby", desc: "Replica runs in sync, ready to take over instantly. Highest cost, fastest failover.", color: "#ef4444" },
          { icon: "üå°Ô∏è", title: "Warm Standby", desc: "Server running but not fully synced. Minutes to restore and catch up.", color: "#f59e0b" },
          { icon: "‚ùÑÔ∏è", title: "Cold Standby", desc: "Hardware ready but not running. Hours to provision and restore.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Active-Active", desc: "Both systems serve traffic. No failover needed, just rebalancing.", color: "#22c55e" }
        ],
        formula: "RTO = Detection Time + Failover Time + Recovery Time",
        strategies: [
          { title: "Automate Detection", desc: "Use health checks and monitoring to detect failures within seconds." },
          { title: "Test Failover Regularly", desc: "Scheduled failover drills ensure the process works when needed." },
          { title: "Consider Failback", desc: "Plan how to return to primary after it's restored - manual or automatic." },
          { title: "Avoid Split-Brain", desc: "Use fencing, quorum, or leader election to prevent both systems being active." }
        ],
        metrics: [
          { level: "Active-Active", downtime: "~0 seconds", useCase: "Mission-critical" },
          { level: "Hot Standby", downtime: "Seconds", useCase: "High availability" },
          { level: "Warm Standby", downtime: "Minutes", useCase: "Standard production" },
          { level: "Cold Standby", downtime: "Hours", useCase: "Cost-sensitive DR" }
        ]
      },
      "chaos-engineering": {
        title: "Chaos Engineering",
        subtitle: "Deliberately injecting failures to test and improve system resilience.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .ce-viz { display: flex; flex-direction: column; gap: 24px; }
            .ce-cycle { display: flex; align-items: center; justify-content: center; gap: 8px; flex-wrap: wrap; padding: 20px; background: rgba(245, 158, 11, 0.1); border-radius: 12px; }
            .ce-step { background: rgba(30, 35, 50, 0.8); border: 1px solid #f59e0b; border-radius: 8px; padding: 12px 16px; text-align: center; }
            .ce-step-num { font-size: 0.7rem; color: #f59e0b; }
            .ce-step-name { font-size: 0.85rem; color: #e5e5e5; font-weight: 600; }
            .ce-arrow { color: #f59e0b; font-size: 1.2rem; }
            .ce-faults { display: grid; grid-template-columns: repeat(auto-fit, minmax(100px, 1fr)); gap: 10px; }
            .ce-fault { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; padding: 10px; text-align: center; }
            .ce-fault-icon { font-size: 1.3rem; margin-bottom: 4px; }
            .ce-fault-name { font-size: 0.75rem; color: #ef4444; }
          </style>
          <div class="ce-viz">
            <div class="ce-cycle">
              <div class="ce-step"><div class="ce-step-num">1</div><div class="ce-step-name">Hypothesis</div></div>
              <span class="ce-arrow">‚Üí</span>
              <div class="ce-step"><div class="ce-step-num">2</div><div class="ce-step-name">Inject Fault</div></div>
              <span class="ce-arrow">‚Üí</span>
              <div class="ce-step"><div class="ce-step-num">3</div><div class="ce-step-name">Observe</div></div>
              <span class="ce-arrow">‚Üí</span>
              <div class="ce-step"><div class="ce-step-num">4</div><div class="ce-step-name">Learn & Fix</div></div>
              <span class="ce-arrow">‚Ü∫</span>
            </div>
            <div class="ce-faults">
              <div class="ce-fault"><div class="ce-fault-icon">üíÄ</div><div class="ce-fault-name">Kill Instance</div></div>
              <div class="ce-fault"><div class="ce-fault-icon">üåê</div><div class="ce-fault-name">Network Delay</div></div>
              <div class="ce-fault"><div class="ce-fault-icon">üíæ</div><div class="ce-fault-name">Disk Full</div></div>
              <div class="ce-fault"><div class="ce-fault-icon">üî•</div><div class="ce-fault-name">CPU Stress</div></div>
              <div class="ce-fault"><div class="ce-fault-icon">üîå</div><div class="ce-fault-name">DNS Failure</div></div>
              <div class="ce-fault"><div class="ce-fault-icon">‚è±Ô∏è</div><div class="ce-fault-name">Clock Skew</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Chaos Engineering</strong> is the discipline of experimenting on a system to build confidence in its ability to withstand turbulent conditions. It involves intentionally injecting failures to discover weaknesses.</p><p>Pioneered by Netflix with Chaos Monkey, it's now a critical practice for building resilient systems.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "Hypothesis", desc: "Define what you expect to happen. 'If X fails, system should Y.'", color: "#f59e0b" },
          { icon: "üí•", title: "Blast Radius", desc: "Start small in non-prod, gradually increase scope to production.", color: "#ef4444" },
          { icon: "üìä", title: "Observe", desc: "Monitor metrics, logs, user impact during experiments.", color: "#3b82f6" },
          { icon: "üîß", title: "Learn & Improve", desc: "Fix discovered issues and add monitoring for similar failures.", color: "#22c55e" }
        ],
        formula: "Resilience = Known Unknowns + Tested Failure Modes",
        strategies: [
          { title: "Start Small", desc: "Begin with gamedays in staging before running experiments in production." },
          { title: "Define Steady State", desc: "Know your normal metrics so you can detect when chaos causes degradation." },
          { title: "Have a Kill Switch", desc: "Always be able to stop the experiment immediately if impact is too severe." },
          { title: "Run in Production", desc: "Only production has real traffic patterns and scale. Test there when ready." }
        ],
        metrics: [
          { level: "Chaos Monkey", downtime: "Random instance kills", useCase: "Netflix, basic" },
          { level: "Gremlin", downtime: "Commercial platform", useCase: "Enterprise" },
          { level: "Litmus", downtime: "Kubernetes-native", useCase: "Cloud-native" },
          { level: "AWS FIS", downtime: "Managed service", useCase: "AWS workloads" }
        ]
      },
      "auto-scaling": {
        title: "Auto Scaling Policies",
        subtitle: "Automatically adjusting compute capacity based on demand to optimize cost and performance.",
        badge: { text: "Resilience", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .as-viz { display: flex; flex-direction: column; gap: 24px; }
            .as-chart { background: rgba(245, 158, 11, 0.1); border-radius: 12px; padding: 20px; }
            .as-title { font-size: 0.85rem; color: #f59e0b; margin-bottom: 12px; font-weight: 600; }
            .as-graph { display: flex; align-items: flex-end; gap: 6px; height: 100px; padding: 0 10px; }
            .as-bar { flex: 1; border-radius: 3px 3px 0 0; transition: all 0.3s; position: relative; }
            .as-bar-label { position: absolute; top: -18px; left: 50%; transform: translateX(-50%); font-size: 0.6rem; color: #a0a0b0; white-space: nowrap; }
            .as-policies { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .as-policy { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 10px; padding: 14px; width: 140px; text-align: center; }
            .as-policy-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .as-policy-name { font-weight: 600; color: #f59e0b; font-size: 0.85rem; margin-bottom: 2px; }
            .as-policy-desc { font-size: 0.65rem; color: #a0a0b0; }
          </style>
          <div class="as-viz">
            <div class="as-chart">
              <div class="as-title">üìä Traffic vs Instances (Auto-scaling)</div>
              <div class="as-graph">
                <div class="as-bar" style="height:30%;background:#3b82f6"><div class="as-bar-label">2 inst</div></div>
                <div class="as-bar" style="height:35%;background:#3b82f6"></div>
                <div class="as-bar" style="height:50%;background:#3b82f6"><div class="as-bar-label">4 inst</div></div>
                <div class="as-bar" style="height:70%;background:#f59e0b"></div>
                <div class="as-bar" style="height:90%;background:#f59e0b"><div class="as-bar-label">8 inst</div></div>
                <div class="as-bar" style="height:100%;background:#ef4444"></div>
                <div class="as-bar" style="height:85%;background:#f59e0b"><div class="as-bar-label">6 inst</div></div>
                <div class="as-bar" style="height:60%;background:#3b82f6"></div>
                <div class="as-bar" style="height:40%;background:#3b82f6"><div class="as-bar-label">3 inst</div></div>
                <div class="as-bar" style="height:25%;background:#22c55e"><div class="as-bar-label">2 inst</div></div>
              </div>
            </div>
            <div class="as-policies">
              <div class="as-policy"><div class="as-policy-icon">üìà</div><div class="as-policy-name">Target Tracking</div><div class="as-policy-desc">Maintain CPU at 70%</div></div>
              <div class="as-policy"><div class="as-policy-icon">‚ö°</div><div class="as-policy-name">Step Scaling</div><div class="as-policy-desc">+2 at 80%, +4 at 90%</div></div>
              <div class="as-policy"><div class="as-policy-icon">üìÖ</div><div class="as-policy-name">Scheduled</div><div class="as-policy-desc">Scale up at 9 AM</div></div>
              <div class="as-policy"><div class="as-policy-icon">üîÆ</div><div class="as-policy-name">Predictive</div><div class="as-policy-desc">ML-based forecasting</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Auto Scaling</strong> automatically adjusts the number of compute instances based on demand. It ensures sufficient capacity during traffic spikes while reducing costs during quiet periods.</p><p>Policies can be based on metrics (CPU, memory), schedules, or predictive algorithms.</p>`,
        keyPoints: [
          { icon: "üìà", title: "Target Tracking", desc: "Maintain a metric at target value (e.g., CPU at 70%). Simplest approach.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Step Scaling", desc: "Add/remove specific amounts at thresholds. More control for spiky traffic.", color: "#3b82f6" },
          { icon: "üìÖ", title: "Scheduled", desc: "Scale based on time patterns. Good for predictable load cycles.", color: "#10b981" },
          { icon: "‚è±Ô∏è", title: "Cooldown", desc: "Wait period after scaling to prevent rapid oscillation.", color: "#ef4444" }
        ],
        formula: "Desired Capacity = Current Load / Target Load √ó Current Capacity",
        strategies: [
          { title: "Choose Right Metric", desc: "CPU works for compute-bound; request count better for I/O-bound workloads." },
          { title: "Set Appropriate Cooldowns", desc: "3-5 min typical. Too short = thrashing. Too long = slow response." },
          { title: "Pre-warm for Known Spikes", desc: "Use scheduled scaling before known events (launches, sales)." },
          { title: "Consider Warm Pool", desc: "Keep pre-initialized instances ready for faster scale-out." }
        ],
        metrics: [
          { level: "Target Tracking", downtime: "Maintain target metric", useCase: "General purpose" },
          { level: "Step Scaling", downtime: "Stepped thresholds", useCase: "Gradual response" },
          { level: "Scheduled", downtime: "Time-based", useCase: "Predictable patterns" },
          { level: "Predictive", downtime: "ML forecasting", useCase: "Complex patterns" }
        ]
      },
      "auth-authz": {
        title: "Authentication vs Authorization",
        subtitle: "Verifying identity (who you are) versus checking permissions (what you can do).",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .aa-viz { display: flex; flex-direction: column; gap: 24px; }
            .aa-compare { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .aa-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; }
            .aa-title { font-weight: 600; font-size: 1.1rem; margin-bottom: 12px; display: flex; align-items: center; gap: 8px; }
            .aa-q { font-size: 0.85rem; color: #a0a0b0; margin-bottom: 8px; }
            .aa-examples { font-size: 0.75rem; }
            .aa-example { padding: 6px 10px; background: rgba(30, 35, 50, 0.8); border-radius: 4px; margin-bottom: 4px; }
            .aa-authn { border: 1px solid rgba(59, 130, 246, 0.3); }
            .aa-authn .aa-title { color: #3b82f6; }
            .aa-authz { border: 1px solid rgba(34, 197, 94, 0.3); }
            .aa-authz .aa-title { color: #22c55e; }
            .aa-flow { background: rgba(239, 68, 68, 0.1); border-radius: 12px; padding: 16px; display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .aa-step { padding: 10px 16px; border-radius: 6px; font-size: 0.85rem; font-weight: 600; }
          </style>
          <div class="aa-viz">
            <div class="aa-compare">
              <div class="aa-box aa-authn">
                <div class="aa-title">üîë Authentication</div>
                <div class="aa-q">"Who are you?"</div>
                <div class="aa-examples">
                  <div class="aa-example">Username/Password</div>
                  <div class="aa-example">OAuth/SSO</div>
                  <div class="aa-example">Biometrics</div>
                  <div class="aa-example">API Keys</div>
                </div>
              </div>
              <div class="aa-box aa-authz">
                <div class="aa-title">üõ°Ô∏è Authorization</div>
                <div class="aa-q">"What can you do?"</div>
                <div class="aa-examples">
                  <div class="aa-example">Roles (Admin, User)</div>
                  <div class="aa-example">Permissions (read, write)</div>
                  <div class="aa-example">Scopes (email, profile)</div>
                  <div class="aa-example">Policies (ABAC)</div>
                </div>
              </div>
            </div>
            <div class="aa-flow">
              <div class="aa-step" style="background:#3b82f6;color:white">Login (AuthN)</div>
              <span style="color:#ef4444">‚Üí</span>
              <div class="aa-step" style="background:#22c55e;color:white">Check Perms (AuthZ)</div>
              <span style="color:#ef4444">‚Üí</span>
              <div class="aa-step" style="background:rgba(30,35,50,0.8);color:#e5e5e5">Access Resource</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Authentication</strong> verifies identity - confirming users are who they claim to be. <strong>Authorization</strong> determines permissions - what authenticated users are allowed to do.</p><p>Both are essential for security. Authentication happens first, followed by authorization for each resource access.</p>`,
        keyPoints: [
          { icon: "üîë", title: "Authentication (AuthN)", desc: "Verifies identity via credentials, tokens, certificates, or biometrics.", color: "#3b82f6" },
          { icon: "üõ°Ô∏è", title: "Authorization (AuthZ)", desc: "Grants or denies access based on roles, permissions, or policies.", color: "#22c55e" },
          { icon: "üë§", title: "RBAC", desc: "Role-Based Access Control - assign permissions to roles, roles to users.", color: "#f59e0b" },
          { icon: "üìã", title: "ABAC", desc: "Attribute-Based Access Control - dynamic policies based on attributes.", color: "#8b5cf6" }
        ],
        formula: "Access = Authenticated ‚àß Authorized",
        strategies: [
          { title: "Separate Concerns", desc: "Use dedicated identity provider (IdP) for AuthN, service-level AuthZ." },
          { title: "Principle of Least Privilege", desc: "Grant minimum permissions needed for the task. Review regularly." },
          { title: "Centralize Policies", desc: "Use policy engines (OPA, Cedar) for consistent authorization across services." },
          { title: "Audit Everything", desc: "Log all authentication attempts and authorization decisions." }
        ],
        metrics: [
          { level: "RBAC", downtime: "Role-based", useCase: "Simple permissions" },
          { level: "ABAC", downtime: "Attribute-based", useCase: "Complex policies" },
          { level: "ReBAC", downtime: "Relationship-based", useCase: "Resource hierarchies" },
          { level: "PBAC", downtime: "Policy-based", useCase: "Fine-grained control" }
        ]
      },
      "oauth-jwt": {
        title: "OAuth / JWT",
        subtitle: "Industry-standard protocols for secure authorization delegation and token-based authentication.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .oj-viz { display: flex; flex-direction: column; gap: 24px; }
            .oj-flow { background: rgba(239, 68, 68, 0.1); border-radius: 12px; padding: 16px; }
            .oj-title { font-size: 0.85rem; color: #ef4444; margin-bottom: 12px; font-weight: 600; }
            .oj-steps { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .oj-step { background: rgba(30, 35, 50, 0.8); padding: 8px 12px; border-radius: 6px; font-size: 0.75rem; text-align: center; }
            .oj-arrow { color: #ef4444; }
            .oj-jwt { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 12px; padding: 16px; }
            .oj-jwt-title { font-weight: 600; color: #ef4444; margin-bottom: 12px; }
            .oj-parts { display: flex; gap: 4px; font-family: monospace; font-size: 0.8rem; flex-wrap: wrap; }
            .oj-part { padding: 8px 12px; border-radius: 4px; }
          </style>
          <div class="oj-viz">
            <div class="oj-flow">
              <div class="oj-title">OAuth 2.0 Authorization Code Flow</div>
              <div class="oj-steps">
                <div class="oj-step">üë§ User</div>
                <span class="oj-arrow">‚Üí</span>
                <div class="oj-step">üì± App</div>
                <span class="oj-arrow">‚Üí</span>
                <div class="oj-step">üîê Auth Server</div>
                <span class="oj-arrow">‚Üí</span>
                <div class="oj-step">üîë Auth Code</div>
                <span class="oj-arrow">‚Üí</span>
                <div class="oj-step">üé´ Access Token</div>
                <span class="oj-arrow">‚Üí</span>
                <div class="oj-step">üì¶ API Access</div>
              </div>
            </div>
            <div class="oj-jwt">
              <div class="oj-jwt-title">JWT Token Structure</div>
              <div class="oj-parts">
                <div class="oj-part" style="background:#ef4444;color:white">Header</div>
                <span style="color:#a0a0b0">.</span>
                <div class="oj-part" style="background:#f59e0b;color:white">Payload</div>
                <span style="color:#a0a0b0">.</span>
                <div class="oj-part" style="background:#3b82f6;color:white">Signature</div>
              </div>
              <div style="font-size:0.7rem;color:#a0a0b0;margin-top:8px">eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiJ1c2VyMTIzIn0.signature</div>
            </div>
          </div>
        `,
        definition: `<p><strong>OAuth 2.0</strong> is an authorization framework that enables third-party applications to access user resources without exposing credentials. <strong>JWT</strong> (JSON Web Token) is a compact token format often used with OAuth.</p><p>OAuth defines flows for different use cases (web apps, mobile, server-to-server), while JWT provides a stateless, verifiable token format.</p>`,
        keyPoints: [
          { icon: "üîê", title: "OAuth 2.0", desc: "Authorization framework for delegating access. Defines grant types for different scenarios.", color: "#ef4444" },
          { icon: "üé´", title: "JWT", desc: "Stateless token with header, payload, and signature. Self-contained and verifiable.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Refresh Tokens", desc: "Long-lived tokens to get new access tokens without re-authentication.", color: "#3b82f6" },
          { icon: "üÜî", title: "OpenID Connect", desc: "Identity layer on OAuth 2.0. Adds ID tokens for authentication.", color: "#10b981" }
        ],
        formula: "JWT = base64(header).base64(payload).signature",
        strategies: [
          { title: "Use Authorization Code + PKCE", desc: "Most secure flow for web and mobile apps. Protects against interception." },
          { title: "Short-Lived Access Tokens", desc: "5-15 minute expiry for access tokens. Use refresh tokens for longer sessions." },
          { title: "Validate Signatures", desc: "Always verify JWT signatures. Never trust unsigned or alg=none tokens." },
          { title: "Store Tokens Securely", desc: "HttpOnly cookies for web, secure storage for mobile. Never localStorage." }
        ],
        metrics: [
          { level: "Auth Code", downtime: "Server-side apps", useCase: "Web applications" },
          { level: "Auth Code + PKCE", downtime: "Public clients", useCase: "Mobile, SPA" },
          { level: "Client Credentials", downtime: "Machine-to-machine", useCase: "Microservices" },
          { level: "Device Code", downtime: "Input-limited devices", useCase: "TV, CLI" }
        ]
      },
      "secrets-management": {
        title: "Secrets Management",
        subtitle: "Securely storing, accessing, and rotating sensitive credentials and keys.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .sm-viz { display: flex; flex-direction: column; gap: 24px; }
            .sm-vault { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 2px solid #ef4444; border-radius: 16px; padding: 20px; text-align: center; }
            .sm-vault-icon { font-size: 3rem; margin-bottom: 8px; }
            .sm-vault-name { font-weight: 600; color: #ef4444; font-size: 1.1rem; margin-bottom: 12px; }
            .sm-secrets { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .sm-secret { background: rgba(239, 68, 68, 0.2); padding: 6px 12px; border-radius: 4px; font-size: 0.75rem; font-family: monospace; color: #e5e5e5; }
            .sm-flow { display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .sm-step { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(239, 68, 68, 0.3); padding: 10px 16px; border-radius: 8px; font-size: 0.8rem; color: #e5e5e5; }
            .sm-arrow { color: #ef4444; font-size: 1.2rem; }
          </style>
          <div class="sm-viz">
            <div class="sm-vault">
              <div class="sm-vault-icon">üîê</div>
              <div class="sm-vault-name">Secrets Vault</div>
              <div class="sm-secrets">
                <div class="sm-secret">DB_PASSWORD=***</div>
                <div class="sm-secret">API_KEY=***</div>
                <div class="sm-secret">TLS_CERT=***</div>
                <div class="sm-secret">ENCRYPTION_KEY=***</div>
              </div>
            </div>
            <div class="sm-flow">
              <div class="sm-step">üöÄ App Startup</div>
              <span class="sm-arrow">‚Üí</span>
              <div class="sm-step">üîë Authenticate</div>
              <span class="sm-arrow">‚Üí</span>
              <div class="sm-step">üì• Fetch Secrets</div>
              <span class="sm-arrow">‚Üí</span>
              <div class="sm-step">üîÑ Auto-Rotate</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Secrets Management</strong> involves securely storing, accessing, distributing, and rotating sensitive data like passwords, API keys, certificates, and encryption keys.</p><p>Proper secrets management prevents credentials from being hardcoded, exposed in logs, or stored in version control.</p>`,
        keyPoints: [
          { icon: "üîê", title: "Centralized Vault", desc: "Store secrets in a dedicated system (HashiCorp Vault, AWS Secrets Manager).", color: "#ef4444" },
          { icon: "üîÑ", title: "Automatic Rotation", desc: "Regularly rotate secrets automatically to limit exposure window.", color: "#f59e0b" },
          { icon: "üìã", title: "Audit Logging", desc: "Log all secret access for compliance and incident investigation.", color: "#3b82f6" },
          { icon: "üé≠", title: "Dynamic Secrets", desc: "Generate short-lived credentials on-demand rather than static secrets.", color: "#10b981" }
        ],
        formula: "Secret Exposure Risk = Access Points √ó Time Valid √ó Value",
        strategies: [
          { title: "Never Hardcode", desc: "No secrets in code, configs, or version control. Use environment or vault." },
          { title: "Principle of Least Privilege", desc: "Apps only access secrets they need. Fine-grained access policies." },
          { title: "Short-Lived Secrets", desc: "Dynamic credentials that expire quickly reduce blast radius of compromise." },
          { title: "Encrypt at Rest", desc: "Vault should encrypt secrets with HSM-backed or cloud KMS keys." }
        ],
        metrics: [
          { level: "HashiCorp Vault", downtime: "Self-hosted, full-featured", useCase: "Enterprise" },
          { level: "AWS Secrets Manager", downtime: "Managed, AWS integrated", useCase: "AWS workloads" },
          { level: "Azure Key Vault", downtime: "Azure native", useCase: "Azure workloads" },
          { level: "GCP Secret Manager", downtime: "GCP native", useCase: "GCP workloads" }
        ]
      },
      "encryption": {
        title: "Encryption at Rest & in Transit",
        subtitle: "Protecting data through encryption when stored and when transmitted.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .enc-viz { display: flex; flex-direction: column; gap: 24px; }
            .enc-types { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
            .enc-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; text-align: center; }
            .enc-type-icon { font-size: 2.5rem; margin-bottom: 8px; }
            .enc-type-name { font-weight: 600; font-size: 1rem; margin-bottom: 8px; }
            .enc-type-desc { font-size: 0.75rem; color: #a0a0b0; margin-bottom: 12px; }
            .enc-examples { font-size: 0.7rem; color: #e5e5e5; text-align: left; }
            .enc-rest { border: 1px solid rgba(139, 92, 246, 0.3); }
            .enc-rest .enc-type-name { color: #8b5cf6; }
            .enc-transit { border: 1px solid rgba(16, 185, 129, 0.3); }
            .enc-transit .enc-type-name { color: #10b981; }
            .enc-flow { background: rgba(239, 68, 68, 0.1); border-radius: 12px; padding: 16px; display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .enc-item { padding: 10px 16px; border-radius: 6px; font-size: 0.8rem; }
          </style>
          <div class="enc-viz">
            <div class="enc-types">
              <div class="enc-type enc-rest">
                <div class="enc-type-icon">üíæ</div>
                <div class="enc-type-name">At Rest</div>
                <div class="enc-type-desc">Data stored on disk or in databases</div>
                <div class="enc-examples">‚Ä¢ AES-256 encryption<br>‚Ä¢ Database TDE<br>‚Ä¢ Encrypted volumes<br>‚Ä¢ KMS key management</div>
              </div>
              <div class="enc-type enc-transit">
                <div class="enc-type-icon">üîÑ</div>
                <div class="enc-type-name">In Transit</div>
                <div class="enc-type-desc">Data moving over networks</div>
                <div class="enc-examples">‚Ä¢ TLS 1.3<br>‚Ä¢ mTLS (mutual)<br>‚Ä¢ HTTPS everywhere<br>‚Ä¢ Encrypted queues</div>
              </div>
            </div>
            <div class="enc-flow">
              <div class="enc-item" style="background:#3b82f6;color:white">üì± Client</div>
              <div class="enc-item" style="background:#10b981;color:white">üîí TLS</div>
              <div class="enc-item" style="background:#3b82f6;color:white">üñ•Ô∏è Server</div>
              <div class="enc-item" style="background:#8b5cf6;color:white">üîê AES</div>
              <div class="enc-item" style="background:#3b82f6;color:white">üíæ Database</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Encryption at Rest</strong> protects stored data (databases, files, backups) from unauthorized access. <strong>Encryption in Transit</strong> protects data as it moves across networks.</p><p>Both are essential for defense in depth, protecting against different attack vectors.</p>`,
        keyPoints: [
          { icon: "üíæ", title: "At Rest", desc: "AES-256 encryption for stored data. Managed by KMS or HSM.", color: "#8b5cf6" },
          { icon: "üîÑ", title: "In Transit", desc: "TLS 1.3 for all network communication. Minimum TLS 1.2.", color: "#10b981" },
          { icon: "üîë", title: "Key Management", desc: "Secure key storage, rotation, and access control via KMS.", color: "#f59e0b" },
          { icon: "üîí", title: "mTLS", desc: "Mutual TLS - both client and server authenticate with certificates.", color: "#ef4444" }
        ],
        formula: "Data Protection = Encryption at Rest + Encryption in Transit + Key Management",
        strategies: [
          { title: "Encrypt Everything", desc: "Default to encryption for all data. Treat plaintext as a security exception." },
          { title: "Use Managed KMS", desc: "Cloud KMS (AWS, GCP, Azure) for key management, rotation, and audit." },
          { title: "TLS Everywhere", desc: "All internal and external communication encrypted. No exceptions." },
          { title: "Certificate Management", desc: "Automate certificate issuance and renewal (Let's Encrypt, ACM)." }
        ],
        metrics: [
          { level: "TLS 1.3", downtime: "Latest, fastest", useCase: "All new systems" },
          { level: "TLS 1.2", downtime: "Widely supported", useCase: "Legacy compatibility" },
          { level: "AES-256", downtime: "Standard encryption", useCase: "Data at rest" },
          { level: "mTLS", downtime: "Mutual authentication", useCase: "Service-to-service" }
        ]
      },
      "secure-apis": {
        title: "Secure APIs (OWASP Top 10)",
        subtitle: "Protecting APIs against common security vulnerabilities and attack vectors.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .sa-viz { display: flex; flex-direction: column; gap: 20px; }
            .sa-threats { display: grid; grid-template-columns: repeat(auto-fit, minmax(130px, 1fr)); gap: 10px; }
            .sa-threat { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; padding: 12px; text-align: center; }
            .sa-threat-icon { font-size: 1.3rem; margin-bottom: 4px; }
            .sa-threat-name { font-size: 0.7rem; color: #ef4444; font-weight: 600; }
            .sa-defenses { background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 12px; padding: 16px; }
            .sa-defense-title { font-weight: 600; color: #22c55e; margin-bottom: 12px; }
            .sa-defense-list { display: flex; gap: 8px; flex-wrap: wrap; }
            .sa-defense { background: rgba(34, 197, 94, 0.2); padding: 6px 12px; border-radius: 4px; font-size: 0.75rem; color: #22c55e; }
          </style>
          <div class="sa-viz">
            <div class="sa-threats">
              <div class="sa-threat"><div class="sa-threat-icon">üîì</div><div class="sa-threat-name">Broken Auth</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">üé≠</div><div class="sa-threat-name">Broken AuthZ</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">üíâ</div><div class="sa-threat-name">Injection</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">üì§</div><div class="sa-threat-name">Data Exposure</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">‚ö°</div><div class="sa-threat-name">Rate Limit</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">üìä</div><div class="sa-threat-name">Mass Assignment</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">‚öôÔ∏è</div><div class="sa-threat-name">Misconfig</div></div>
              <div class="sa-threat"><div class="sa-threat-icon">üì¶</div><div class="sa-threat-name">Asset Mgmt</div></div>
            </div>
            <div class="sa-defenses">
              <div class="sa-defense-title">‚úÖ Defense Strategies</div>
              <div class="sa-defense-list">
                <div class="sa-defense">Input Validation</div>
                <div class="sa-defense">Parameterized Queries</div>
                <div class="sa-defense">Rate Limiting</div>
                <div class="sa-defense">AuthN/AuthZ</div>
                <div class="sa-defense">HTTPS Only</div>
                <div class="sa-defense">Error Handling</div>
                <div class="sa-defense">API Gateway</div>
                <div class="sa-defense">Logging</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>OWASP API Security Top 10</strong> identifies the most critical security risks for APIs. These vulnerabilities are commonly exploited and require specific mitigations.</p><p>Secure API design requires defense in depth - multiple layers of protection against various attack vectors.</p>`,
        keyPoints: [
          { icon: "üîì", title: "Broken Authentication", desc: "Weak tokens, missing MFA, poor session management.", color: "#ef4444" },
          { icon: "üé≠", title: "Broken Authorization", desc: "IDOR, privilege escalation, missing object-level checks.", color: "#f59e0b" },
          { icon: "üíâ", title: "Injection", desc: "SQL, NoSQL, Command injection through unsanitized input.", color: "#8b5cf6" },
          { icon: "üì§", title: "Data Exposure", desc: "Returning too much data, missing field-level filtering.", color: "#3b82f6" }
        ],
        formula: "API Security = Input Validation + AuthN + AuthZ + Rate Limiting + Monitoring",
        strategies: [
          { title: "Validate All Input", desc: "Whitelist validation, type checking, length limits on all inputs." },
          { title: "Object-Level Authorization", desc: "Check permissions for every object access, not just endpoints." },
          { title: "Rate Limit Everything", desc: "Protect against brute force, enumeration, and DoS attacks." },
          { title: "Minimal Data Exposure", desc: "Return only required fields. Different views for different roles." }
        ],
        metrics: [
          { level: "BOLA", downtime: "#1 API Risk", useCase: "Object authorization" },
          { level: "Broken Auth", downtime: "#2 API Risk", useCase: "Token/session security" },
          { level: "Injection", downtime: "#3 API Risk", useCase: "Input validation" },
          { level: "Excessive Data", downtime: "#4 API Risk", useCase: "Response filtering" }
        ]
      },
      "rate-vs-throttle": {
        title: "Rate Limiting vs Throttling",
        subtitle: "Controlling request rates to protect services from overload and abuse.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .rt-viz { display: flex; flex-direction: column; gap: 24px; }
            .rt-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .rt-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; text-align: center; }
            .rt-box-icon { font-size: 2rem; margin-bottom: 8px; }
            .rt-box-name { font-weight: 600; font-size: 1rem; margin-bottom: 8px; }
            .rt-box-desc { font-size: 0.75rem; color: #a0a0b0; margin-bottom: 12px; }
            .rt-box-action { font-size: 0.8rem; font-weight: 600; padding: 6px 12px; border-radius: 4px; }
            .rt-limit { border: 1px solid rgba(239, 68, 68, 0.3); }
            .rt-limit .rt-box-name { color: #ef4444; }
            .rt-throttle { border: 1px solid rgba(245, 158, 11, 0.3); }
            .rt-throttle .rt-box-name { color: #f59e0b; }
            .rt-algos { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .rt-algo { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: 8px; padding: 10px 14px; text-align: center; width: 120px; }
            .rt-algo-name { font-weight: 600; color: #ef4444; font-size: 0.85rem; margin-bottom: 4px; }
            .rt-algo-desc { font-size: 0.65rem; color: #a0a0b0; }
          </style>
          <div class="rt-viz">
            <div class="rt-compare">
              <div class="rt-box rt-limit">
                <div class="rt-box-icon">üö´</div>
                <div class="rt-box-name">Rate Limiting</div>
                <div class="rt-box-desc">Hard cap on requests per time window</div>
                <div class="rt-box-action" style="background:rgba(239,68,68,0.2);color:#ef4444">429 Reject</div>
              </div>
              <div class="rt-box rt-throttle">
                <div class="rt-box-icon">‚è≥</div>
                <div class="rt-box-name">Throttling</div>
                <div class="rt-box-desc">Slow down requests, queue or delay</div>
                <div class="rt-box-action" style="background:rgba(245,158,11,0.2);color:#f59e0b">Delay/Queue</div>
              </div>
            </div>
            <div class="rt-algos">
              <div class="rt-algo"><div class="rt-algo-name">Token Bucket</div><div class="rt-algo-desc">Smooth bursts</div></div>
              <div class="rt-algo"><div class="rt-algo-name">Leaky Bucket</div><div class="rt-algo-desc">Fixed rate</div></div>
              <div class="rt-algo"><div class="rt-algo-name">Fixed Window</div><div class="rt-algo-desc">Simple counting</div></div>
              <div class="rt-algo"><div class="rt-algo-name">Sliding Window</div><div class="rt-algo-desc">Smoother limits</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Rate Limiting</strong> enforces a hard cap on requests - excess requests are rejected (HTTP 429). <strong>Throttling</strong> slows down or queues excess requests rather than rejecting them.</p><p>Both protect services from overload, abuse, and ensure fair usage among clients.</p>`,
        keyPoints: [
          { icon: "üö´", title: "Rate Limiting", desc: "Rejects requests over limit with 429 Too Many Requests.", color: "#ef4444" },
          { icon: "‚è≥", title: "Throttling", desc: "Delays or queues requests to smooth out traffic spikes.", color: "#f59e0b" },
          { icon: "ü™£", title: "Token Bucket", desc: "Allows bursts up to bucket size, refills at steady rate.", color: "#3b82f6" },
          { icon: "üìä", title: "Sliding Window", desc: "Smoother than fixed windows, counts across boundary.", color: "#10b981" }
        ],
        formula: "Requests Allowed = min(tokens_available, requests_made)",
        strategies: [
          { title: "Layer Limits", desc: "Apply at API gateway, service, and user levels for defense in depth." },
          { title: "Return Retry-After", desc: "Include Retry-After header so clients know when to retry." },
          { title: "Different Limits by Tier", desc: "Premium users get higher limits. Free tier more restrictive." },
          { title: "Monitor and Alert", desc: "Track rate limit hits to identify abuse or capacity needs." }
        ],
        metrics: [
          { level: "Token Bucket", downtime: "Allows bursts", useCase: "General purpose" },
          { level: "Leaky Bucket", downtime: "Constant rate", useCase: "Smooth traffic" },
          { level: "Fixed Window", downtime: "Simple to implement", useCase: "Basic limiting" },
          { level: "Sliding Window", downtime: "Accurate counting", useCase: "Precise control" }
        ]
      },
      "zero-trust": {
        title: "Zero Trust Architecture",
        subtitle: "Never trust, always verify - securing systems by assuming breach.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .zt-viz { display: flex; flex-direction: column; gap: 24px; }
            .zt-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .zt-model { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 180px; text-align: center; }
            .zt-model-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 8px; }
            .zt-model-desc { font-size: 0.7rem; color: #a0a0b0; }
            .zt-old { border: 1px solid rgba(239, 68, 68, 0.3); }
            .zt-old .zt-model-title { color: #ef4444; }
            .zt-new { border: 1px solid rgba(34, 197, 94, 0.3); }
            .zt-new .zt-model-title { color: #22c55e; }
            .zt-principles { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 10px; }
            .zt-principle { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.2); border-radius: 8px; padding: 12px; text-align: center; }
            .zt-principle-icon { font-size: 1.5rem; margin-bottom: 4px; }
            .zt-principle-name { font-size: 0.8rem; color: #ef4444; font-weight: 600; }
          </style>
          <div class="zt-viz">
            <div class="zt-compare">
              <div class="zt-model zt-old">
                <div class="zt-model-title">‚ùå Perimeter Security</div>
                <div class="zt-model-desc">Trust inside, protect outside. Castle-and-moat model.</div>
              </div>
              <div class="zt-model zt-new">
                <div class="zt-model-title">‚úì Zero Trust</div>
                <div class="zt-model-desc">Never trust, always verify. Assume breach.</div>
              </div>
            </div>
            <div class="zt-principles">
              <div class="zt-principle"><div class="zt-principle-icon">üîê</div><div class="zt-principle-name">Verify Explicitly</div></div>
              <div class="zt-principle"><div class="zt-principle-icon">üîí</div><div class="zt-principle-name">Least Privilege</div></div>
              <div class="zt-principle"><div class="zt-principle-icon">üéØ</div><div class="zt-principle-name">Assume Breach</div></div>
              <div class="zt-principle"><div class="zt-principle-icon">üîç</div><div class="zt-principle-name">Continuous Validation</div></div>
              <div class="zt-principle"><div class="zt-principle-icon">üìä</div><div class="zt-principle-name">Micro-Segmentation</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Zero Trust</strong> is a security model that requires strict identity verification for every user and device attempting to access resources, regardless of their location inside or outside the network.</p><p>It replaces the "castle-and-moat" approach with continuous verification and least-privilege access.</p>`,
        keyPoints: [
          { icon: "üîê", title: "Verify Explicitly", desc: "Always authenticate and authorize based on all available data points.", color: "#ef4444" },
          { icon: "üîí", title: "Least Privilege", desc: "Grant minimum access needed, just-in-time, with just-enough-access.", color: "#f59e0b" },
          { icon: "üéØ", title: "Assume Breach", desc: "Design systems assuming attackers are already inside the network.", color: "#8b5cf6" },
          { icon: "üìä", title: "Micro-Segmentation", desc: "Divide network into small zones with separate access for each.", color: "#3b82f6" }
        ],
        formula: "Trust Level = Identity √ó Device Health √ó Context √ó Continuous Verification",
        strategies: [
          { title: "Strong Identity", desc: "MFA for all users, device certificates, continuous authentication." },
          { title: "Micro-Segmentation", desc: "Network segments with firewall rules between every service." },
          { title: "Encrypt Everything", desc: "mTLS for all service-to-service communication, even internal." },
          { title: "Continuous Monitoring", desc: "Real-time threat detection, anomaly detection, SIEM integration." }
        ],
        metrics: [
          { level: "Identity", downtime: "Who is requesting", useCase: "Users, services, devices" },
          { level: "Device", downtime: "Health and compliance", useCase: "Endpoint security" },
          { level: "Network", downtime: "Micro-segmentation", useCase: "East-west traffic" },
          { level: "Application", downtime: "Access policies", useCase: "Resource protection" }
        ]
      },
      "metrics": {
        title: "Metrics",
        subtitle: "Numerical measurements of system behavior collected and aggregated over time.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .met-viz { display: flex; flex-direction: column; gap: 24px; }
            .met-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .met-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 16px; width: 140px; text-align: center; }
            .met-type-icon { font-size: 2rem; margin-bottom: 8px; }
            .met-type-name { font-weight: 600; color: #06b6d4; font-size: 0.9rem; margin-bottom: 4px; }
            .met-type-desc { font-size: 0.7rem; color: #a0a0b0; }
            .met-red { background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 16px; text-align: center; }
            .met-red-title { font-weight: 600; color: #06b6d4; margin-bottom: 12px; }
            .met-red-items { display: flex; gap: 12px; justify-content: center; flex-wrap: wrap; }
            .met-red-item { background: rgba(30, 35, 50, 0.8); padding: 10px 16px; border-radius: 8px; }
            .met-red-name { font-weight: 600; font-size: 1rem; color: #e5e5e5; }
            .met-red-desc { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="met-viz">
            <div class="met-types">
              <div class="met-type"><div class="met-type-icon">üî¢</div><div class="met-type-name">Counter</div><div class="met-type-desc">Cumulative, only increases</div></div>
              <div class="met-type"><div class="met-type-icon">üìä</div><div class="met-type-name">Gauge</div><div class="met-type-desc">Point-in-time value</div></div>
              <div class="met-type"><div class="met-type-icon">üìà</div><div class="met-type-name">Histogram</div><div class="met-type-desc">Distribution of values</div></div>
              <div class="met-type"><div class="met-type-icon">üìâ</div><div class="met-type-name">Summary</div><div class="met-type-desc">Quantiles (p50, p99)</div></div>
            </div>
            <div class="met-red">
              <div class="met-red-title">RED Method (Request-focused)</div>
              <div class="met-red-items">
                <div class="met-red-item"><div class="met-red-name" style="color:#ef4444">R</div><div class="met-red-desc">Rate (req/s)</div></div>
                <div class="met-red-item"><div class="met-red-name" style="color:#f59e0b">E</div><div class="met-red-desc">Errors (%)</div></div>
                <div class="met-red-item"><div class="met-red-name" style="color:#22c55e">D</div><div class="met-red-desc">Duration (ms)</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Metrics</strong> are numerical measurements collected at regular intervals that describe the behavior and health of systems. They're aggregated and analyzed to detect trends, anomalies, and performance issues.</p><p>Unlike logs (events) or traces (request flows), metrics are optimized for aggregation and long-term storage.</p>`,
        keyPoints: [
          { icon: "üî¢", title: "Counter", desc: "Cumulative value that only increases. Total requests, errors, bytes sent.", color: "#06b6d4" },
          { icon: "üìä", title: "Gauge", desc: "Point-in-time value that can go up or down. CPU usage, memory, queue size.", color: "#3b82f6" },
          { icon: "üìà", title: "Histogram", desc: "Distribution of values in buckets. Request latency distribution.", color: "#10b981" },
          { icon: "üè∑Ô∏è", title: "Labels/Tags", desc: "Dimensions for filtering and grouping. service, endpoint, status_code.", color: "#f59e0b" }
        ],
        formula: "Metrics = {name, labels, value, timestamp}",
        strategies: [
          { title: "Use RED for Services", desc: "Rate, Errors, Duration - core metrics for any request-driven service." },
          { title: "Use USE for Resources", desc: "Utilization, Saturation, Errors - for infrastructure components." },
          { title: "Consistent Naming", desc: "Follow naming conventions (service_subsystem_name_unit) for discoverability." },
          { title: "Cardinality Control", desc: "Limit label values to prevent metric explosion and storage issues." }
        ],
        metrics: [
          { level: "Prometheus", downtime: "Pull-based, TSDB", useCase: "Kubernetes native" },
          { level: "Datadog", downtime: "SaaS, full-featured", useCase: "Enterprise" },
          { level: "CloudWatch", downtime: "AWS native", useCase: "AWS workloads" },
          { level: "InfluxDB", downtime: "Time-series DB", useCase: "Custom solutions" }
        ]
      },
      "distributed-tracing": {
        title: "Distributed Tracing",
        subtitle: "Tracking requests as they flow through multiple services in a distributed system.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .dt-viz { display: flex; flex-direction: column; gap: 24px; }
            .dt-trace { background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 16px; }
            .dt-trace-title { font-size: 0.8rem; color: #06b6d4; margin-bottom: 12px; font-weight: 600; }
            .dt-spans { display: flex; flex-direction: column; gap: 6px; }
            .dt-span { display: flex; align-items: center; gap: 8px; }
            .dt-span-bar { height: 24px; border-radius: 4px; display: flex; align-items: center; padding-left: 8px; font-size: 0.75rem; color: white; font-weight: 500; }
            .dt-span-time { font-size: 0.7rem; color: #a0a0b0; width: 50px; text-align: right; }
            .dt-ids { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
            .dt-id { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 8px; padding: 12px 16px; text-align: center; }
            .dt-id-name { font-weight: 600; color: #06b6d4; font-size: 0.9rem; }
            .dt-id-desc { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="dt-viz">
            <div class="dt-trace">
              <div class="dt-trace-title">üîç Trace: order-123-abc</div>
              <div class="dt-spans">
                <div class="dt-span"><div class="dt-span-time">0ms</div><div class="dt-span-bar" style="background:#3b82f6;width:100%">API Gateway</div></div>
                <div class="dt-span"><div class="dt-span-time">10ms</div><div class="dt-span-bar" style="background:#10b981;width:85%;margin-left:15%">Order Service</div></div>
                <div class="dt-span"><div class="dt-span-time">25ms</div><div class="dt-span-bar" style="background:#f59e0b;width:40%;margin-left:20%">Inventory DB</div></div>
                <div class="dt-span"><div class="dt-span-time">50ms</div><div class="dt-span-bar" style="background:#8b5cf6;width:50%;margin-left:30%">Payment Service</div></div>
                <div class="dt-span"><div class="dt-span-time">120ms</div><div class="dt-span-bar" style="background:#ef4444;width:20%;margin-left:35%">Stripe API</div></div>
              </div>
            </div>
            <div class="dt-ids">
              <div class="dt-id"><div class="dt-id-name">Trace ID</div><div class="dt-id-desc">Unique per request flow</div></div>
              <div class="dt-id"><div class="dt-id-name">Span ID</div><div class="dt-id-desc">Unique per operation</div></div>
              <div class="dt-id"><div class="dt-id-name">Parent Span</div><div class="dt-id-desc">Links child to parent</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Distributed Tracing</strong> follows a request as it travels through multiple services, databases, and queues. Each operation creates a "span" with timing and context, linked together by trace IDs.</p><p>It's essential for debugging latency issues, understanding dependencies, and finding bottlenecks in microservices.</p>`,
        keyPoints: [
          { icon: "üîó", title: "Trace ID", desc: "Unique identifier propagated through all services in a request flow.", color: "#06b6d4" },
          { icon: "üìä", title: "Span", desc: "Single operation with start time, duration, and metadata.", color: "#3b82f6" },
          { icon: "üå≥", title: "Span Tree", desc: "Parent-child relationships show the call hierarchy.", color: "#10b981" },
          { icon: "üìã", title: "Context Propagation", desc: "Passing trace context through headers, message attributes.", color: "#f59e0b" }
        ],
        formula: "Trace = {trace_id, spans: [{span_id, parent_id, service, operation, duration}]}",
        strategies: [
          { title: "Use OpenTelemetry", desc: "Vendor-neutral standard for instrumentation and context propagation." },
          { title: "Sample Appropriately", desc: "Head-based or tail-based sampling to balance cost and visibility." },
          { title: "Add Business Context", desc: "Include user_id, order_id in spans for business correlation." },
          { title: "Trace Across Boundaries", desc: "Propagate context through HTTP headers, message queues, async jobs." }
        ],
        metrics: [
          { level: "Jaeger", downtime: "Open source, CNCF", useCase: "Kubernetes native" },
          { level: "Zipkin", downtime: "Open source, mature", useCase: "General purpose" },
          { level: "Datadog APM", downtime: "SaaS, integrated", useCase: "Enterprise" },
          { level: "AWS X-Ray", downtime: "AWS native", useCase: "AWS workloads" }
        ]
      },
      "structured-logging": {
        title: "Structured Logging",
        subtitle: "Machine-parseable log format using key-value pairs or JSON for better analysis.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .sl-viz { display: flex; flex-direction: column; gap: 20px; }
            .sl-compare { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .sl-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 280px; }
            .sl-box-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 12px; display: flex; align-items: center; gap: 6px; }
            .sl-code { background: rgba(0,0,0,0.3); padding: 10px; border-radius: 6px; font-family: monospace; font-size: 0.7rem; overflow-x: auto; white-space: pre; }
            .sl-bad { border: 1px solid rgba(239, 68, 68, 0.3); }
            .sl-bad .sl-box-title { color: #ef4444; }
            .sl-good { border: 1px solid rgba(34, 197, 94, 0.3); }
            .sl-good .sl-box-title { color: #22c55e; }
            .sl-levels { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .sl-level { padding: 8px 14px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
          </style>
          <div class="sl-viz">
            <div class="sl-compare">
              <div class="sl-box sl-bad">
                <div class="sl-box-title">‚ùå Unstructured</div>
                <div class="sl-code">2024-01-15 10:23:45 ERROR
Failed to process order 12345
for user john@example.com</div>
              </div>
              <div class="sl-box sl-good">
                <div class="sl-box-title">‚úì Structured (JSON)</div>
                <div class="sl-code">{
  "ts": "2024-01-15T10:23:45Z",
  "level": "error",
  "msg": "Failed to process order",
  "order_id": "12345",
  "user": "john@example.com"
}</div>
              </div>
            </div>
            <div class="sl-levels">
              <div class="sl-level" style="background:#ef4444;color:white">FATAL</div>
              <div class="sl-level" style="background:#f59e0b;color:white">ERROR</div>
              <div class="sl-level" style="background:#eab308;color:white">WARN</div>
              <div class="sl-level" style="background:#3b82f6;color:white">INFO</div>
              <div class="sl-level" style="background:#6b7280;color:white">DEBUG</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Structured Logging</strong> uses machine-readable formats (JSON, key-value) instead of free-form text. This enables powerful filtering, aggregation, and analysis in log management systems.</p><p>Consistent structure across services allows correlation and searching across distributed systems.</p>`,
        keyPoints: [
          { icon: "üìã", title: "JSON Format", desc: "Key-value pairs that tools can parse, index, and query efficiently.", color: "#06b6d4" },
          { icon: "üè∑Ô∏è", title: "Consistent Fields", desc: "Standard fields (timestamp, level, service, trace_id) across all services.", color: "#3b82f6" },
          { icon: "üîç", title: "Searchability", desc: "Query logs by any field: user_id, order_id, error_type, etc.", color: "#10b981" },
          { icon: "üîó", title: "Correlation", desc: "Include trace_id to link logs to distributed traces.", color: "#f59e0b" }
        ],
        formula: "Log Entry = {timestamp, level, message, context_fields, trace_id}",
        strategies: [
          { title: "Standardize Schema", desc: "Define required fields across all services for consistent querying." },
          { title: "Include Trace Context", desc: "Add trace_id and span_id to correlate logs with traces." },
          { title: "Avoid Sensitive Data", desc: "Mask or omit PII, passwords, tokens from logs." },
          { title: "Right-Size Verbosity", desc: "DEBUG in dev, INFO in prod. Enable DEBUG per-service when needed." }
        ],
        metrics: [
          { level: "ELK Stack", downtime: "Elasticsearch, Logstash, Kibana", useCase: "Self-hosted" },
          { level: "Splunk", downtime: "Enterprise, powerful", useCase: "Large orgs" },
          { level: "Datadog Logs", downtime: "SaaS, integrated", useCase: "Full observability" },
          { level: "CloudWatch Logs", downtime: "AWS native", useCase: "AWS workloads" }
        ]
      },
      "alerting-slos": {
        title: "Alerting & SLOs",
        subtitle: "Defining service level objectives and alerting when they're at risk.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .as-viz { display: flex; flex-direction: column; gap: 24px; }
            .as-slo { background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 20px; text-align: center; }
            .as-slo-title { font-weight: 600; color: #06b6d4; margin-bottom: 16px; }
            .as-slo-value { font-size: 3rem; font-weight: 700; color: #22c55e; margin-bottom: 8px; }
            .as-slo-target { font-size: 0.9rem; color: #a0a0b0; }
            .as-bar { height: 20px; background: rgba(30, 35, 50, 0.8); border-radius: 10px; margin-top: 16px; overflow: hidden; }
            .as-bar-fill { height: 100%; background: linear-gradient(90deg, #22c55e 95%, #f59e0b 98%, #ef4444); border-radius: 10px; }
            .as-alerts { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .as-alert { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 8px; padding: 12px 16px; text-align: center; width: 130px; }
            .as-alert-icon { font-size: 1.5rem; margin-bottom: 4px; }
            .as-alert-name { font-weight: 600; font-size: 0.85rem; }
            .as-p1 { border: 1px solid #ef4444; color: #ef4444; }
            .as-p2 { border: 1px solid #f59e0b; color: #f59e0b; }
            .as-p3 { border: 1px solid #3b82f6; color: #3b82f6; }
          </style>
          <div class="as-viz">
            <div class="as-slo">
              <div class="as-slo-title">API Availability SLO</div>
              <div class="as-slo-value">99.72%</div>
              <div class="as-slo-target">Target: 99.9% (budget: 43.2 min/month remaining)</div>
              <div class="as-bar"><div class="as-bar-fill" style="width:97%"></div></div>
            </div>
            <div class="as-alerts">
              <div class="as-alert as-p1"><div class="as-alert-icon">üö®</div><div class="as-alert-name">P1 - Critical</div></div>
              <div class="as-alert as-p2"><div class="as-alert-icon">‚ö†Ô∏è</div><div class="as-alert-name">P2 - Warning</div></div>
              <div class="as-alert as-p3"><div class="as-alert-icon">‚ÑπÔ∏è</div><div class="as-alert-name">P3 - Info</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>SLOs</strong> (Service Level Objectives) define target reliability levels for a service. <strong>Alerting</strong> notifies teams when SLOs are at risk or breached.</p><p>Good alerting is actionable, avoids noise, and focuses on user impact rather than system metrics.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "SLO", desc: "Target level of service reliability (99.9% availability, p99 < 200ms).", color: "#06b6d4" },
          { icon: "üìä", title: "SLI", desc: "Metrics that measure SLO compliance (success rate, latency percentile).", color: "#3b82f6" },
          { icon: "üí∞", title: "Error Budget", desc: "Allowable downtime/errors. 99.9% = 43.8 min/month budget.", color: "#22c55e" },
          { icon: "üö®", title: "Burn Rate Alert", desc: "Alert when error budget is being consumed too quickly.", color: "#ef4444" }
        ],
        formula: "Error Budget = 1 - SLO = 100% - 99.9% = 0.1%",
        strategies: [
          { title: "Alert on Symptoms", desc: "Alert on user-facing impact (errors, latency), not causes (CPU, memory)." },
          { title: "Use Burn Rates", desc: "Alert when error budget consumption rate threatens the monthly target." },
          { title: "Reduce Noise", desc: "Every alert should require action. Remove or tune noisy alerts." },
          { title: "Define Severity", desc: "P1 pages immediately, P2 within hours, P3 during business hours." }
        ],
        metrics: [
          { level: "Burn Rate 14.4x", downtime: "Budget gone in 2 hours", useCase: "Page immediately" },
          { level: "Burn Rate 6x", downtime: "Budget gone in 5 hours", useCase: "High urgency" },
          { level: "Burn Rate 1x", downtime: "On track to exhaust", useCase: "Ticket, investigate" },
          { level: "Burn Rate 0.5x", downtime: "Under budget", useCase: "Healthy" }
        ]
      },
      "slis-error-budgets": {
        title: "SLIs & Error Budgets",
        subtitle: "Measuring service reliability and defining acceptable failure thresholds.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .seb-viz { display: flex; flex-direction: column; gap: 24px; }
            .seb-slis { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .seb-sli { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 16px; width: 160px; text-align: center; }
            .seb-sli-icon { font-size: 1.5rem; margin-bottom: 8px; }
            .seb-sli-name { font-weight: 600; color: #06b6d4; font-size: 0.9rem; margin-bottom: 4px; }
            .seb-sli-example { font-size: 0.7rem; color: #a0a0b0; }
            .seb-budget { background: rgba(6, 182, 212, 0.1); border-radius: 12px; padding: 16px; }
            .seb-budget-title { font-weight: 600; color: #06b6d4; margin-bottom: 12px; text-align: center; }
            .seb-budget-calc { display: flex; align-items: center; justify-content: center; gap: 16px; flex-wrap: wrap; }
            .seb-budget-item { text-align: center; }
            .seb-budget-value { font-size: 1.5rem; font-weight: 700; color: #e5e5e5; }
            .seb-budget-label { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="seb-viz">
            <div class="seb-slis">
              <div class="seb-sli"><div class="seb-sli-icon">‚úÖ</div><div class="seb-sli-name">Availability</div><div class="seb-sli-example">% of successful requests</div></div>
              <div class="seb-sli"><div class="seb-sli-icon">‚è±Ô∏è</div><div class="seb-sli-name">Latency</div><div class="seb-sli-example">% requests < 200ms</div></div>
              <div class="seb-sli"><div class="seb-sli-icon">üìà</div><div class="seb-sli-name">Throughput</div><div class="seb-sli-example">Requests per second</div></div>
              <div class="seb-sli"><div class="seb-sli-icon">üéØ</div><div class="seb-sli-name">Correctness</div><div class="seb-sli-example">% valid responses</div></div>
            </div>
            <div class="seb-budget">
              <div class="seb-budget-title">Error Budget Calculation (99.9% SLO)</div>
              <div class="seb-budget-calc">
                <div class="seb-budget-item"><div class="seb-budget-value">0.1%</div><div class="seb-budget-label">Error Budget</div></div>
                <span style="color:#06b6d4;font-size:1.5rem">=</span>
                <div class="seb-budget-item"><div class="seb-budget-value">43.8m</div><div class="seb-budget-label">per month</div></div>
                <span style="color:#06b6d4;font-size:1.5rem">=</span>
                <div class="seb-budget-item"><div class="seb-budget-value">8.76h</div><div class="seb-budget-label">per year</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>SLIs</strong> (Service Level Indicators) are the metrics that quantify service reliability - what you measure. <strong>Error Budgets</strong> define acceptable failure levels based on SLOs.</p><p>Error budgets balance reliability with development velocity - spend budget on features, conserve when low.</p>`,
        keyPoints: [
          { icon: "üìä", title: "SLI", desc: "Quantitative measure of service level. Success rate, latency percentile.", color: "#06b6d4" },
          { icon: "üéØ", title: "SLO", desc: "Target value for an SLI. 99.9% availability, p99 latency < 200ms.", color: "#3b82f6" },
          { icon: "üí∞", title: "Error Budget", desc: "Allowable unreliability. 100% - SLO = budget for failures.", color: "#22c55e" },
          { icon: "üìù", title: "SLA", desc: "Contractual commitment with consequences. Legal/financial penalties.", color: "#f59e0b" }
        ],
        formula: "Error Budget = (1 - SLO) √ó Time Period",
        strategies: [
          { title: "Choose Meaningful SLIs", desc: "Measure what users experience, not infrastructure metrics." },
          { title: "Set Realistic SLOs", desc: "Start conservative, tighten as you improve. 99.9% is very high." },
          { title: "Use Error Budget Policy", desc: "When budget exhausted: freeze features, focus on reliability." },
          { title: "Review Regularly", desc: "Monthly SLO review to adjust targets and identify improvements." }
        ],
        metrics: [
          { level: "99%", downtime: "7.3 hours/month", useCase: "Internal tools" },
          { level: "99.9%", downtime: "43.8 min/month", useCase: "Standard services" },
          { level: "99.95%", downtime: "21.9 min/month", useCase: "Critical services" },
          { level: "99.99%", downtime: "4.38 min/month", useCase: "Mission-critical" }
        ]
      },
      "dashboards": {
        title: "Dashboards",
        subtitle: "Visual displays of metrics and KPIs for monitoring system health.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .dash-viz { display: flex; flex-direction: column; gap: 20px; }
            .dash-preview { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 16px; }
            .dash-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
            .dash-title { font-weight: 600; color: #06b6d4; font-size: 0.9rem; }
            .dash-time { font-size: 0.7rem; color: #a0a0b0; }
            .dash-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
            .dash-panel { background: rgba(30, 35, 50, 0.8); border-radius: 8px; padding: 12px; text-align: center; }
            .dash-panel-value { font-size: 1.4rem; font-weight: 700; }
            .dash-panel-label { font-size: 0.65rem; color: #a0a0b0; margin-top: 2px; }
            .dash-types { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .dash-type { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(6, 182, 212, 0.2); border-radius: 8px; padding: 10px 16px; text-align: center; }
            .dash-type-icon { font-size: 1.3rem; margin-bottom: 4px; }
            .dash-type-name { font-size: 0.75rem; color: #06b6d4; }
          </style>
          <div class="dash-viz">
            <div class="dash-preview">
              <div class="dash-header"><div class="dash-title">üìä Service Overview Dashboard</div><div class="dash-time">Last 1 hour</div></div>
              <div class="dash-grid">
                <div class="dash-panel"><div class="dash-panel-value" style="color:#22c55e">99.8%</div><div class="dash-panel-label">Availability</div></div>
                <div class="dash-panel"><div class="dash-panel-value" style="color:#3b82f6">45ms</div><div class="dash-panel-label">p50 Latency</div></div>
                <div class="dash-panel"><div class="dash-panel-value" style="color:#f59e0b">142ms</div><div class="dash-panel-label">p99 Latency</div></div>
                <div class="dash-panel"><div class="dash-panel-value" style="color:#8b5cf6">2.4k</div><div class="dash-panel-label">RPS</div></div>
              </div>
            </div>
            <div class="dash-types">
              <div class="dash-type"><div class="dash-type-icon">üìà</div><div class="dash-type-name">Time Series</div></div>
              <div class="dash-type"><div class="dash-type-icon">üî¢</div><div class="dash-type-name">Single Stat</div></div>
              <div class="dash-type"><div class="dash-type-icon">üìä</div><div class="dash-type-name">Bar Chart</div></div>
              <div class="dash-type"><div class="dash-type-icon">ü•ß</div><div class="dash-type-name">Pie Chart</div></div>
              <div class="dash-type"><div class="dash-type-icon">üó∫Ô∏è</div><div class="dash-type-name">Heatmap</div></div>
              <div class="dash-type"><div class="dash-type-icon">üìã</div><div class="dash-type-name">Table</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Dashboards</strong> provide visual representations of metrics and system health. Well-designed dashboards enable quick understanding of system state and faster incident response.</p><p>Different dashboard types serve different audiences: overview for executives, detailed for engineers, SLO for reliability.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "Purpose-Built", desc: "Different dashboards for different audiences and use cases.", color: "#06b6d4" },
          { icon: "üìä", title: "Key Metrics First", desc: "Most important metrics at the top, details below.", color: "#3b82f6" },
          { icon: "üö¶", title: "Color Coding", desc: "Green/yellow/red for instant status recognition.", color: "#22c55e" },
          { icon: "üîó", title: "Drill-Down", desc: "Link to detailed views and related dashboards.", color: "#f59e0b" }
        ],
        formula: "Good Dashboard = Right Metrics √ó Right Audience √ó Right Context",
        strategies: [
          { title: "Less is More", desc: "5-10 panels max. Too many panels = nothing stands out." },
          { title: "USE/RED Methods", desc: "Structure around established methodologies for consistency." },
          { title: "Include Context", desc: "Show thresholds, annotations for deployments, incidents." },
          { title: "Version Control", desc: "Store dashboards as code (Grafana JSON, Terraform) for history." }
        ],
        metrics: [
          { level: "Grafana", downtime: "Open source, flexible", useCase: "General purpose" },
          { level: "Datadog", downtime: "SaaS, integrated", useCase: "Full observability" },
          { level: "Kibana", downtime: "Elasticsearch visualizer", useCase: "Log dashboards" },
          { level: "CloudWatch", downtime: "AWS native", useCase: "AWS metrics" }
        ]
      },
      "rca": {
        title: "Root Cause Analysis (RCA)",
        subtitle: "Systematic investigation to identify the underlying cause of incidents.",
        badge: { text: "Observability", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .rca-viz { display: flex; flex-direction: column; gap: 24px; }
            .rca-whys { background: rgba(6, 182, 212, 0.1); border-radius: 12px; padding: 16px; }
            .rca-whys-title { font-weight: 600; color: #06b6d4; margin-bottom: 12px; text-align: center; }
            .rca-chain { display: flex; flex-direction: column; gap: 6px; }
            .rca-why { display: flex; align-items: center; gap: 8px; padding: 8px 12px; background: rgba(30, 35, 50, 0.8); border-radius: 6px; }
            .rca-why-num { font-weight: 700; color: #06b6d4; width: 24px; }
            .rca-why-text { font-size: 0.8rem; color: #e5e5e5; }
            .rca-why-last { border: 1px solid #ef4444; }
            .rca-steps { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .rca-step { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 8px; padding: 10px 14px; text-align: center; width: 100px; }
            .rca-step-num { font-size: 1.2rem; font-weight: 700; color: #06b6d4; }
            .rca-step-name { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="rca-viz">
            <div class="rca-whys">
              <div class="rca-whys-title">5 Whys Example</div>
              <div class="rca-chain">
                <div class="rca-why"><div class="rca-why-num">1</div><div class="rca-why-text">Why did the site go down? ‚Üí Server ran out of memory</div></div>
                <div class="rca-why"><div class="rca-why-num">2</div><div class="rca-why-text">Why did it run out of memory? ‚Üí Memory leak in new code</div></div>
                <div class="rca-why"><div class="rca-why-num">3</div><div class="rca-why-text">Why wasn't the leak caught? ‚Üí No memory profiling in CI</div></div>
                <div class="rca-why"><div class="rca-why-num">4</div><div class="rca-why-text">Why no profiling? ‚Üí Not included in testing requirements</div></div>
                <div class="rca-why rca-why-last"><div class="rca-why-num">5</div><div class="rca-why-text">Why not required? ‚Üí Performance testing checklist outdated</div></div>
              </div>
            </div>
            <div class="rca-steps">
              <div class="rca-step"><div class="rca-step-num">1</div><div class="rca-step-name">Detect</div></div>
              <div class="rca-step"><div class="rca-step-num">2</div><div class="rca-step-name">Respond</div></div>
              <div class="rca-step"><div class="rca-step-num">3</div><div class="rca-step-name">Mitigate</div></div>
              <div class="rca-step"><div class="rca-step-num">4</div><div class="rca-step-name">Analyze</div></div>
              <div class="rca-step"><div class="rca-step-num">5</div><div class="rca-step-name">Improve</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Root Cause Analysis</strong> is a systematic process for identifying the underlying causes of incidents or problems. It goes beyond symptoms to find what truly needs to be fixed.</p><p>Effective RCA leads to permanent fixes and process improvements, not just band-aid solutions.</p>`,
        keyPoints: [
          { icon: "‚ùì", title: "5 Whys", desc: "Ask 'why' repeatedly to drill past symptoms to root cause.", color: "#06b6d4" },
          { icon: "üå≥", title: "Fault Tree", desc: "Map out all possible causes as a tree structure.", color: "#3b82f6" },
          { icon: "üìã", title: "Blameless", desc: "Focus on systems and processes, not individual blame.", color: "#22c55e" },
          { icon: "üìù", title: "Action Items", desc: "Every RCA should produce specific, assigned follow-ups.", color: "#f59e0b" }
        ],
        formula: "RCA = Timeline + Contributing Factors + Root Cause + Action Items",
        strategies: [
          { title: "Blameless Culture", desc: "Focus on what happened, not who did it. Psychological safety enables honesty." },
          { title: "Timeline First", desc: "Build detailed timeline of events, actions, and observations." },
          { title: "Contributing Factors", desc: "Identify all factors that contributed, not just the trigger." },
          { title: "Track Action Items", desc: "Assign owners and deadlines. Follow up until complete." }
        ],
        metrics: [
          { level: "5 Whys", downtime: "Iterative questioning", useCase: "Simple incidents" },
          { level: "Fishbone", downtime: "Category-based analysis", useCase: "Process issues" },
          { level: "Fault Tree", downtime: "Logic diagram", useCase: "Complex systems" },
          { level: "Timeline Analysis", downtime: "Event sequencing", useCase: "Multi-party incidents" }
        ]
      },
      "latency-throughput": {
        title: "Latency vs Throughput",
        subtitle: "Understanding the trade-off between response time and system capacity.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .lt-viz { display: flex; flex-direction: column; gap: 24px; }
            .lt-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .lt-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 180px; text-align: center; }
            .lt-box-icon { font-size: 2.5rem; margin-bottom: 8px; }
            .lt-box-name { font-weight: 600; font-size: 1.1rem; margin-bottom: 8px; }
            .lt-box-def { font-size: 0.75rem; color: #a0a0b0; margin-bottom: 8px; }
            .lt-box-example { font-size: 0.8rem; font-weight: 600; padding: 6px 12px; border-radius: 4px; }
            .lt-latency { border: 1px solid rgba(236, 72, 153, 0.3); }
            .lt-latency .lt-box-name { color: #ec4899; }
            .lt-throughput { border: 1px solid rgba(16, 185, 129, 0.3); }
            .lt-throughput .lt-box-name { color: #10b981; }
            .lt-tradeoff { background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 16px; text-align: center; }
            .lt-tradeoff-title { font-weight: 600; color: #ec4899; margin-bottom: 12px; }
            .lt-tradeoff-desc { font-size: 0.85rem; color: #a0a0b0; }
          </style>
          <div class="lt-viz">
            <div class="lt-compare">
              <div class="lt-box lt-latency">
                <div class="lt-box-icon">‚è±Ô∏è</div>
                <div class="lt-box-name">Latency</div>
                <div class="lt-box-def">Time to complete one request</div>
                <div class="lt-box-example" style="background:rgba(236,72,153,0.2);color:#ec4899">p99 < 100ms</div>
              </div>
              <div class="lt-box lt-throughput">
                <div class="lt-box-icon">üìä</div>
                <div class="lt-box-name">Throughput</div>
                <div class="lt-box-def">Requests processed per unit time</div>
                <div class="lt-box-example" style="background:rgba(16,185,129,0.2);color:#10b981">10,000 RPS</div>
              </div>
            </div>
            <div class="lt-tradeoff">
              <div class="lt-tradeoff-title">‚öñÔ∏è The Trade-off</div>
              <div class="lt-tradeoff-desc">Optimizing for one often affects the other. Batching increases throughput but adds latency. Caching reduces latency but uses memory that could serve more requests.</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Latency</strong> is the time to complete a single operation (lower is better). <strong>Throughput</strong> is the rate of operations completed over time (higher is better).</p><p>Understanding this trade-off is essential for system design - different use cases prioritize differently.</p>`,
        keyPoints: [
          { icon: "‚è±Ô∏è", title: "Latency", desc: "Time from request to response. Measured as p50, p95, p99 percentiles.", color: "#ec4899" },
          { icon: "üìä", title: "Throughput", desc: "Operations per second/minute. Limited by bottleneck resource.", color: "#10b981" },
          { icon: "‚öñÔ∏è", title: "Trade-off", desc: "Batching improves throughput but increases latency. Balance for use case.", color: "#f59e0b" },
          { icon: "üìà", title: "Little's Law", desc: "Concurrency = Throughput √ó Latency. Fundamental relationship.", color: "#3b82f6" }
        ],
        formula: "Concurrency = Throughput √ó Average Latency",
        strategies: [
          { title: "Measure Percentiles", desc: "p99 shows worst-case latency. Average hides tail latency issues." },
          { title: "Identify Bottlenecks", desc: "Throughput is limited by slowest component. Profile to find it." },
          { title: "Batch for Throughput", desc: "Process multiple items together when latency can be sacrificed." },
          { title: "Cache for Latency", desc: "Reduce latency by avoiding slow operations, trade memory/freshness." }
        ],
        metrics: [
          { level: "p50 (median)", downtime: "Typical experience", useCase: "Average user" },
          { level: "p95", downtime: "95% of requests faster", useCase: "Most users" },
          { level: "p99", downtime: "Tail latency", useCase: "Worst case" },
          { level: "RPS", downtime: "Requests per second", useCase: "Capacity" }
        ]
      },
      "async-processing": {
        title: "Async Processing",
        subtitle: "Decoupling request handling from processing to improve responsiveness and scalability.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .ap-viz { display: flex; flex-direction: column; gap: 24px; }
            .ap-compare { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
            .ap-flow { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 220px; }
            .ap-flow-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 12px; text-align: center; }
            .ap-steps { display: flex; flex-direction: column; gap: 6px; }
            .ap-step { display: flex; align-items: center; gap: 8px; font-size: 0.8rem; padding: 6px 10px; border-radius: 4px; }
            .ap-sync { border: 1px solid rgba(239, 68, 68, 0.3); }
            .ap-sync .ap-flow-title { color: #ef4444; }
            .ap-async { border: 1px solid rgba(34, 197, 94, 0.3); }
            .ap-async .ap-flow-title { color: #22c55e; }
            .ap-wait { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
            .ap-fast { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
            .ap-queue { background: rgba(139, 92, 246, 0.2); color: #8b5cf6; }
          </style>
          <div class="ap-viz">
            <div class="ap-compare">
              <div class="ap-flow ap-sync">
                <div class="ap-flow-title">‚ùå Synchronous</div>
                <div class="ap-steps">
                  <div class="ap-step ap-fast">1. Receive request</div>
                  <div class="ap-step ap-wait">2. Process (5 sec) ‚è≥</div>
                  <div class="ap-step ap-wait">3. Wait for DB ‚è≥</div>
                  <div class="ap-step ap-wait">4. Send email ‚è≥</div>
                  <div class="ap-step ap-fast">5. Return response</div>
                </div>
              </div>
              <div class="ap-flow ap-async">
                <div class="ap-flow-title">‚úì Asynchronous</div>
                <div class="ap-steps">
                  <div class="ap-step ap-fast">1. Receive request</div>
                  <div class="ap-step ap-queue">2. Queue job üì®</div>
                  <div class="ap-step ap-fast">3. Return 202 ‚úì</div>
                  <div class="ap-step" style="opacity:0.5">‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ</div>
                  <div class="ap-step ap-queue">Worker processes</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Async Processing</strong> decouples the request-response cycle from time-consuming operations. The client receives an immediate acknowledgment while work happens in the background.</p><p>This improves perceived performance, enables horizontal scaling of workers, and provides resilience through retry queues.</p>`,
        keyPoints: [
          { icon: "üì®", title: "Message Queues", desc: "Decouple producer and consumer. SQS, RabbitMQ, Kafka.", color: "#ec4899" },
          { icon: "‚ö°", title: "Immediate Response", desc: "Return 202 Accepted quickly. Process work asynchronously.", color: "#22c55e" },
          { icon: "üîÑ", title: "Retries", desc: "Failed jobs can be retried without affecting user experience.", color: "#3b82f6" },
          { icon: "üìà", title: "Scale Workers", desc: "Add worker instances based on queue depth, not request load.", color: "#f59e0b" }
        ],
        formula: "Response Time = Enqueue Time (fast) not Processing Time (slow)",
        strategies: [
          { title: "Return Early", desc: "Acknowledge request immediately. Provide job ID for status polling." },
          { title: "Idempotent Workers", desc: "Design workers to safely process same message multiple times." },
          { title: "Dead Letter Queues", desc: "Route permanently failed messages for investigation." },
          { title: "Visibility Timeouts", desc: "Prevent other workers from picking up a message being processed." }
        ],
        metrics: [
          { level: "SQS", downtime: "AWS managed", useCase: "Simple queuing" },
          { level: "RabbitMQ", downtime: "Feature-rich", useCase: "Complex routing" },
          { level: "Kafka", downtime: "High throughput", useCase: "Event streaming" },
          { level: "Redis Streams", downtime: "Low latency", useCase: "Real-time processing" }
        ]
      },
      "connection-pooling": {
        title: "Connection Pooling",
        subtitle: "Reusing database and network connections to reduce overhead.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .cp-viz { display: flex; flex-direction: column; gap: 24px; }
            .cp-compare { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
            .cp-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 200px; text-align: center; }
            .cp-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 12px; }
            .cp-visual { display: flex; justify-content: center; gap: 4px; margin-bottom: 8px; }
            .cp-conn { width: 8px; height: 30px; border-radius: 4px; }
            .cp-desc { font-size: 0.7rem; color: #a0a0b0; }
            .cp-no { border: 1px solid rgba(239, 68, 68, 0.3); }
            .cp-no .cp-title { color: #ef4444; }
            .cp-yes { border: 1px solid rgba(34, 197, 94, 0.3); }
            .cp-yes .cp-title { color: #22c55e; }
            .cp-pool { background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 16px; text-align: center; }
            .cp-pool-title { font-weight: 600; color: #ec4899; margin-bottom: 8px; }
            .cp-pool-stats { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
            .cp-stat { font-size: 0.8rem; }
            .cp-stat-label { color: #a0a0b0; }
            .cp-stat-value { font-weight: 600; color: #e5e5e5; }
          </style>
          <div class="cp-viz">
            <div class="cp-compare">
              <div class="cp-box cp-no">
                <div class="cp-title">‚ùå No Pooling</div>
                <div class="cp-visual">
                  <div class="cp-conn" style="background:#ef4444"></div>
                  <div class="cp-conn" style="background:#ef4444"></div>
                  <div class="cp-conn" style="background:#ef4444"></div>
                  <div class="cp-conn" style="background:#ef4444"></div>
                  <div class="cp-conn" style="background:#ef4444"></div>
                </div>
                <div class="cp-desc">New connection per request<br>~50-100ms overhead each</div>
              </div>
              <div class="cp-box cp-yes">
                <div class="cp-title">‚úì With Pooling</div>
                <div class="cp-visual">
                  <div class="cp-conn" style="background:#22c55e"></div>
                  <div class="cp-conn" style="background:#22c55e"></div>
                  <div class="cp-conn" style="background:#22c55e;opacity:0.5"></div>
                </div>
                <div class="cp-desc">Reuse existing connections<br>~0ms connection overhead</div>
              </div>
            </div>
            <div class="cp-pool">
              <div class="cp-pool-title">Pool Configuration</div>
              <div class="cp-pool-stats">
                <div class="cp-stat"><div class="cp-stat-label">Min</div><div class="cp-stat-value">5</div></div>
                <div class="cp-stat"><div class="cp-stat-label">Max</div><div class="cp-stat-value">20</div></div>
                <div class="cp-stat"><div class="cp-stat-label">Idle Timeout</div><div class="cp-stat-value">30s</div></div>
                <div class="cp-stat"><div class="cp-stat-label">Max Lifetime</div><div class="cp-stat-value">1h</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Connection Pooling</strong> maintains a cache of reusable database or network connections. Instead of creating a new connection for each request (expensive), connections are borrowed from the pool and returned after use.</p><p>This dramatically reduces latency and resource consumption.</p>`,
        keyPoints: [
          { icon: "üîå", title: "Reuse", desc: "Avoid expensive connection setup (TCP handshake, TLS, auth).", color: "#ec4899" },
          { icon: "üìä", title: "Pool Size", desc: "Balance between connection overhead and concurrent capacity.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Timeouts", desc: "Idle timeout releases unused connections. Max lifetime prevents stale.", color: "#f59e0b" },
          { icon: "üîí", title: "Thread Safety", desc: "Pool must safely handle concurrent borrow/return operations.", color: "#10b981" }
        ],
        formula: "Pool Size = Connections per pod √ó Number of pods ‚â§ DB max_connections",
        strategies: [
          { title: "Size Appropriately", desc: "connections = (CPU cores √ó 2) + disk spindles. Often smaller than expected." },
          { title: "Monitor Pool Metrics", desc: "Track wait time, active/idle counts to tune size." },
          { title: "Use PgBouncer/ProxySQL", desc: "Connection proxies multiplex many app connections to few DB connections." },
          { title: "Health Checks", desc: "Validate connections before use. Remove broken connections." }
        ],
        metrics: [
          { level: "HikariCP", downtime: "Java, fast", useCase: "JVM applications" },
          { level: "PgBouncer", downtime: "PostgreSQL proxy", useCase: "Connection multiplexing" },
          { level: "ProxySQL", downtime: "MySQL proxy", useCase: "MySQL connection pooling" },
          { level: "RDS Proxy", downtime: "AWS managed", useCase: "Serverless, Lambda" }
        ]
      },
      "batching": {
        title: "Batching",
        subtitle: "Combining multiple operations into a single request to reduce overhead.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .bat-viz { display: flex; flex-direction: column; gap: 24px; }
            .bat-compare { display: flex; gap: 20px; flex-wrap: wrap; justify-content: center; }
            .bat-box { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 200px; text-align: center; }
            .bat-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 12px; }
            .bat-calls { display: flex; flex-direction: column; gap: 4px; margin-bottom: 8px; }
            .bat-call { padding: 4px 8px; border-radius: 4px; font-size: 0.7rem; }
            .bat-time { font-size: 0.8rem; font-weight: 600; padding: 6px 12px; border-radius: 4px; margin-top: 8px; }
            .bat-single { border: 1px solid rgba(239, 68, 68, 0.3); }
            .bat-single .bat-title { color: #ef4444; }
            .bat-batch { border: 1px solid rgba(34, 197, 94, 0.3); }
            .bat-batch .bat-title { color: #22c55e; }
          </style>
          <div class="bat-viz">
            <div class="bat-compare">
              <div class="bat-box bat-single">
                <div class="bat-title">‚ùå Individual Calls</div>
                <div class="bat-calls">
                  <div class="bat-call" style="background:#ef4444;color:white">INSERT row 1</div>
                  <div class="bat-call" style="background:#ef4444;color:white">INSERT row 2</div>
                  <div class="bat-call" style="background:#ef4444;color:white">INSERT row 3</div>
                  <div class="bat-call" style="background:#ef4444;color:white">INSERT row 4</div>
                  <div class="bat-call" style="background:#ef4444;color:white">INSERT row 5</div>
                </div>
                <div class="bat-time" style="background:rgba(239,68,68,0.2);color:#ef4444">5 round trips</div>
              </div>
              <div class="bat-box bat-batch">
                <div class="bat-title">‚úì Batched</div>
                <div class="bat-calls">
                  <div class="bat-call" style="background:#22c55e;color:white;padding:20px 8px">INSERT rows 1-5</div>
                </div>
                <div class="bat-time" style="background:rgba(34,197,94,0.2);color:#22c55e">1 round trip</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Batching</strong> combines multiple operations into a single request, reducing per-operation overhead like network round trips, connection setup, and parsing.</p><p>It trades immediate processing for efficiency - operations are collected and processed together.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Reduce Round Trips", desc: "One network call instead of many. Massive latency savings.", color: "#ec4899" },
          { icon: "üìä", title: "Amortize Overhead", desc: "Connection, parsing, and transaction costs spread across items.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Latency Trade-off", desc: "Wait to collect batch = added latency. Balance batch size.", color: "#f59e0b" },
          { icon: "üìà", title: "Throughput Gains", desc: "10-100x throughput improvement for high-volume operations.", color: "#22c55e" }
        ],
        formula: "Efficiency = Items / Batches (higher = better)",
        strategies: [
          { title: "Size and Time Limits", desc: "Flush batch when size reached OR timeout expires, whichever first." },
          { title: "Error Handling", desc: "Decide: fail entire batch, or process partial? Track individual status." },
          { title: "Idempotency", desc: "Ensure retrying a batch doesn't duplicate side effects." },
          { title: "Monitor Batch Sizes", desc: "Track actual batch sizes to tune limits and detect issues." }
        ],
        metrics: [
          { level: "Database", downtime: "Bulk INSERT/UPDATE", useCase: "Data loading" },
          { level: "API", downtime: "Batch endpoints", useCase: "Bulk operations" },
          { level: "Queue", downtime: "Batch consume", useCase: "Message processing" },
          { level: "Logging", downtime: "Buffered writes", useCase: "High-volume logs" }
        ]
      },
      "compression": {
        title: "Compression",
        subtitle: "Reducing data size to improve transfer speed and storage efficiency.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .comp-viz { display: flex; flex-direction: column; gap: 24px; }
            .comp-demo { background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 20px; text-align: center; }
            .comp-demo-title { font-weight: 600; color: #ec4899; margin-bottom: 16px; }
            .comp-bars { display: flex; align-items: center; justify-content: center; gap: 16px; }
            .comp-bar { display: flex; flex-direction: column; align-items: center; gap: 4px; }
            .comp-bar-visual { width: 60px; border-radius: 4px; display: flex; align-items: flex-end; justify-content: center; }
            .comp-bar-label { font-size: 0.75rem; color: #a0a0b0; }
            .comp-bar-size { font-size: 0.9rem; font-weight: 600; color: #e5e5e5; }
            .comp-arrow { font-size: 1.5rem; color: #ec4899; }
            .comp-algos { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .comp-algo { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(236, 72, 153, 0.3); border-radius: 8px; padding: 12px; width: 110px; text-align: center; }
            .comp-algo-name { font-weight: 600; color: #ec4899; font-size: 0.9rem; margin-bottom: 4px; }
            .comp-algo-desc { font-size: 0.65rem; color: #a0a0b0; }
          </style>
          <div class="comp-viz">
            <div class="comp-demo">
              <div class="comp-demo-title">HTTP Response Compression</div>
              <div class="comp-bars">
                <div class="comp-bar">
                  <div class="comp-bar-visual" style="height:100px;background:#ef4444"></div>
                  <div class="comp-bar-size">500 KB</div>
                  <div class="comp-bar-label">Original</div>
                </div>
                <span class="comp-arrow">‚Üí gzip ‚Üí</span>
                <div class="comp-bar">
                  <div class="comp-bar-visual" style="height:30px;background:#22c55e"></div>
                  <div class="comp-bar-size">75 KB</div>
                  <div class="comp-bar-label">Compressed</div>
                </div>
              </div>
            </div>
            <div class="comp-algos">
              <div class="comp-algo"><div class="comp-algo-name">gzip</div><div class="comp-algo-desc">Universal, good ratio</div></div>
              <div class="comp-algo"><div class="comp-algo-name">Brotli</div><div class="comp-algo-desc">Better ratio, slower</div></div>
              <div class="comp-algo"><div class="comp-algo-name">LZ4</div><div class="comp-algo-desc">Fast, lower ratio</div></div>
              <div class="comp-algo"><div class="comp-algo-name">Zstd</div><div class="comp-algo-desc">Best balance</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Compression</strong> reduces data size by eliminating redundancy. It speeds up network transfers and reduces storage costs, at the expense of CPU for compress/decompress.</p><p>Choose algorithm based on the trade-off between compression ratio, speed, and CPU usage.</p>`,
        keyPoints: [
          { icon: "üìâ", title: "Reduce Size", desc: "Text compresses 60-90%. Images, video already compressed.", color: "#ec4899" },
          { icon: "‚ö°", title: "Faster Transfers", desc: "Smaller payloads = faster network, better mobile experience.", color: "#3b82f6" },
          { icon: "üíæ", title: "Storage Savings", desc: "Compress logs, backups, cold data for significant savings.", color: "#22c55e" },
          { icon: "‚öñÔ∏è", title: "CPU Trade-off", desc: "Compression uses CPU. Balance against network/storage savings.", color: "#f59e0b" }
        ],
        formula: "Ratio = Original Size / Compressed Size",
        strategies: [
          { title: "Enable HTTP Compression", desc: "gzip/Brotli for all text responses (HTML, JSON, CSS, JS)." },
          { title: "Don't Double Compress", desc: "Already compressed formats (JPEG, MP4, ZIP) won't benefit." },
          { title: "Choose Right Algorithm", desc: "Brotli for static assets, gzip for dynamic, LZ4 for speed-critical." },
          { title: "Compress at Edge", desc: "Let CDN handle compression to offload origin servers." }
        ],
        metrics: [
          { level: "gzip", downtime: "70-80% ratio", useCase: "HTTP, universal support" },
          { level: "Brotli", downtime: "80-90% ratio", useCase: "Static assets, modern browsers" },
          { level: "LZ4", downtime: "Fast, 50-60%", useCase: "Real-time, logs" },
          { level: "Zstd", downtime: "Best balance", useCase: "Kafka, databases" }
        ]
      },
      "cold-start": {
        title: "Cold Start Optimization",
        subtitle: "Reducing initialization time for applications and serverless functions.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .cs-viz { display: flex; flex-direction: column; gap: 24px; }
            .cs-timeline { background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 16px; }
            .cs-timeline-title { font-size: 0.85rem; color: #ec4899; margin-bottom: 12px; font-weight: 600; }
            .cs-bars { display: flex; flex-direction: column; gap: 8px; }
            .cs-bar { display: flex; align-items: center; gap: 8px; }
            .cs-bar-label { width: 80px; font-size: 0.75rem; color: #a0a0b0; }
            .cs-bar-track { flex: 1; height: 24px; background: rgba(30, 35, 50, 0.8); border-radius: 4px; overflow: hidden; display: flex; }
            .cs-bar-segment { height: 100%; display: flex; align-items: center; justify-content: center; font-size: 0.65rem; color: white; font-weight: 500; }
            .cs-tips { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .cs-tip { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(236, 72, 153, 0.3); border-radius: 8px; padding: 10px 14px; text-align: center; width: 130px; }
            .cs-tip-icon { font-size: 1.3rem; margin-bottom: 4px; }
            .cs-tip-name { font-size: 0.75rem; color: #ec4899; font-weight: 600; }
          </style>
          <div class="cs-viz">
            <div class="cs-timeline">
              <div class="cs-timeline-title">Lambda Cold Start Breakdown</div>
              <div class="cs-bars">
                <div class="cs-bar">
                  <div class="cs-bar-label">Cold Start</div>
                  <div class="cs-bar-track">
                    <div class="cs-bar-segment" style="width:30%;background:#ef4444">Init</div>
                    <div class="cs-bar-segment" style="width:40%;background:#f59e0b">Load Code</div>
                    <div class="cs-bar-segment" style="width:20%;background:#3b82f6">Connect</div>
                    <div class="cs-bar-segment" style="width:10%;background:#22c55e">Run</div>
                  </div>
                </div>
                <div class="cs-bar">
                  <div class="cs-bar-label">Warm Start</div>
                  <div class="cs-bar-track">
                    <div class="cs-bar-segment" style="width:10%;background:#22c55e">Run</div>
                  </div>
                </div>
              </div>
            </div>
            <div class="cs-tips">
              <div class="cs-tip"><div class="cs-tip-icon">üì¶</div><div class="cs-tip-name">Smaller Bundle</div></div>
              <div class="cs-tip"><div class="cs-tip-icon">üîå</div><div class="cs-tip-name">Lazy Init</div></div>
              <div class="cs-tip"><div class="cs-tip-icon">üî•</div><div class="cs-tip-name">Keep Warm</div></div>
              <div class="cs-tip"><div class="cs-tip-icon">‚ö°</div><div class="cs-tip-name">Provisioned</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Cold Start</strong> is the delay when an application or serverless function starts from scratch - loading code, initializing frameworks, establishing connections.</p><p>Optimization reduces this startup time, critical for serverless, auto-scaling, and fast deployments.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Bundle Size", desc: "Smaller packages load faster. Remove unused dependencies.", color: "#ec4899" },
          { icon: "üîå", title: "Lazy Initialization", desc: "Defer heavy initialization until actually needed.", color: "#3b82f6" },
          { icon: "üî•", title: "Keep Warm", desc: "Scheduled pings prevent function from going cold.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Provisioned Concurrency", desc: "Pre-warmed instances ready to serve immediately.", color: "#22c55e" }
        ],
        formula: "Cold Start = Container Init + Code Load + Framework Init + Connection Setup",
        strategies: [
          { title: "Reduce Dependencies", desc: "Fewer, smaller dependencies = faster load. Tree-shake unused code." },
          { title: "Use Native Runtimes", desc: "Go, Rust have near-zero cold starts vs JVM, .NET." },
          { title: "Connection Reuse", desc: "Initialize DB connections outside handler, reuse across invocations." },
          { title: "Provisioned Concurrency", desc: "Keep N instances warm for latency-sensitive functions." }
        ],
        metrics: [
          { level: "Python", downtime: "100-500ms", useCase: "Scripting, ML" },
          { level: "Node.js", downtime: "100-300ms", useCase: "Web, APIs" },
          { level: "Java", downtime: "500ms-3s", useCase: "Enterprise (use GraalVM)" },
          { level: "Go/Rust", downtime: "10-50ms", useCase: "Performance-critical" }
        ]
      },
      "profiling": {
        title: "Profiling & Benchmarking",
        subtitle: "Measuring and analyzing application performance to identify optimization opportunities.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .pb-viz { display: flex; flex-direction: column; gap: 24px; }
            .pb-flame { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(236, 72, 153, 0.3); border-radius: 12px; padding: 16px; }
            .pb-flame-title { font-size: 0.85rem; color: #ec4899; margin-bottom: 12px; font-weight: 600; }
            .pb-flame-stack { display: flex; flex-direction: column; gap: 2px; }
            .pb-flame-row { display: flex; gap: 2px; }
            .pb-flame-block { height: 24px; border-radius: 3px; display: flex; align-items: center; justify-content: center; font-size: 0.65rem; color: white; font-weight: 500; }
            .pb-types { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .pb-type { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(236, 72, 153, 0.2); border-radius: 8px; padding: 12px; width: 120px; text-align: center; }
            .pb-type-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .pb-type-name { font-weight: 600; color: #ec4899; font-size: 0.85rem; margin-bottom: 2px; }
            .pb-type-desc { font-size: 0.6rem; color: #a0a0b0; }
          </style>
          <div class="pb-viz">
            <div class="pb-flame">
              <div class="pb-flame-title">üî• Flame Graph (CPU Time)</div>
              <div class="pb-flame-stack">
                <div class="pb-flame-row"><div class="pb-flame-block" style="width:100%;background:#ef4444">main() - 100%</div></div>
                <div class="pb-flame-row"><div class="pb-flame-block" style="width:60%;background:#f59e0b">processRequest() - 60%</div><div class="pb-flame-block" style="width:40%;background:#3b82f6">handleDB() - 40%</div></div>
                <div class="pb-flame-row"><div class="pb-flame-block" style="width:35%;background:#ec4899">parseJSON() - 35%</div><div class="pb-flame-block" style="width:25%;background:#10b981">validate()</div><div class="pb-flame-block" style="width:40%;background:#8b5cf6">query() - 40%</div></div>
              </div>
            </div>
            <div class="pb-types">
              <div class="pb-type"><div class="pb-type-icon">üî•</div><div class="pb-type-name">CPU Profiler</div><div class="pb-type-desc">Time in functions</div></div>
              <div class="pb-type"><div class="pb-type-icon">üß†</div><div class="pb-type-name">Memory</div><div class="pb-type-desc">Allocations, leaks</div></div>
              <div class="pb-type"><div class="pb-type-icon">üîí</div><div class="pb-type-name">Lock</div><div class="pb-type-desc">Contention</div></div>
              <div class="pb-type"><div class="pb-type-icon">üìä</div><div class="pb-type-name">Benchmark</div><div class="pb-type-desc">Comparative tests</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Profiling</strong> analyzes where an application spends time and resources. <strong>Benchmarking</strong> measures performance under controlled conditions to compare changes or implementations.</p><p>Both are essential for data-driven optimization - measure before and after changes.</p>`,
        keyPoints: [
          { icon: "üî•", title: "CPU Profiling", desc: "Flame graphs show where CPU time is spent. Find hot paths.", color: "#ec4899" },
          { icon: "üß†", title: "Memory Profiling", desc: "Track allocations, identify leaks, reduce GC pressure.", color: "#3b82f6" },
          { icon: "üìä", title: "Benchmarking", desc: "Repeatable tests to measure and compare performance.", color: "#22c55e" },
          { icon: "üìà", title: "Continuous Profiling", desc: "Production profiling with low overhead for real-world insights.", color: "#f59e0b" }
        ],
        formula: "Optimize = Profile ‚Üí Identify Hotspot ‚Üí Improve ‚Üí Benchmark ‚Üí Repeat",
        strategies: [
          { title: "Profile Production", desc: "Development isn't representative. Use continuous profiling in prod." },
          { title: "Focus on Hotspots", desc: "Optimize the 10% of code taking 90% of time. Amdahl's Law." },
          { title: "Benchmark Meaningfully", desc: "Warm up JIT, use realistic data, run enough iterations." },
          { title: "Track Regressions", desc: "Run benchmarks in CI to catch performance regressions." }
        ],
        metrics: [
          { level: "pprof", downtime: "Go profiling", useCase: "Go applications" },
          { level: "async-profiler", downtime: "Low-overhead JVM", useCase: "Java/Kotlin" },
          { level: "py-spy", downtime: "Python sampling", useCase: "Python apps" },
          { level: "Datadog Profiler", downtime: "Production profiling", useCase: "All languages" }
        ]
      },
      "cicd": {
        title: "CI/CD Pipelines",
        subtitle: "Automating the build, test, and deployment of software.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .cicd-viz { display: flex; flex-direction: column; gap: 24px; }
            .cicd-pipeline { background: rgba(132, 204, 22, 0.1); border-radius: 12px; padding: 20px; }
            .cicd-title { font-size: 0.85rem; color: #84cc16; margin-bottom: 16px; font-weight: 600; text-align: center; }
            .cicd-stages { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .cicd-stage { background: rgba(30, 35, 50, 0.8); border: 2px solid #84cc16; border-radius: 8px; padding: 12px 16px; text-align: center; }
            .cicd-stage-icon { font-size: 1.3rem; margin-bottom: 4px; }
            .cicd-stage-name { font-size: 0.8rem; color: #e5e5e5; font-weight: 600; }
            .cicd-arrow { color: #84cc16; font-size: 1.2rem; }
            .cicd-tools { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .cicd-tool { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(132, 204, 22, 0.3); border-radius: 8px; padding: 10px 16px; text-align: center; }
            .cicd-tool-name { font-weight: 600; color: #84cc16; font-size: 0.85rem; }
          </style>
          <div class="cicd-viz">
            <div class="cicd-pipeline">
              <div class="cicd-title">üîÑ CI/CD Pipeline</div>
              <div class="cicd-stages">
                <div class="cicd-stage"><div class="cicd-stage-icon">üìù</div><div class="cicd-stage-name">Commit</div></div>
                <span class="cicd-arrow">‚Üí</span>
                <div class="cicd-stage"><div class="cicd-stage-icon">üî®</div><div class="cicd-stage-name">Build</div></div>
                <span class="cicd-arrow">‚Üí</span>
                <div class="cicd-stage"><div class="cicd-stage-icon">üß™</div><div class="cicd-stage-name">Test</div></div>
                <span class="cicd-arrow">‚Üí</span>
                <div class="cicd-stage"><div class="cicd-stage-icon">üîç</div><div class="cicd-stage-name">Scan</div></div>
                <span class="cicd-arrow">‚Üí</span>
                <div class="cicd-stage"><div class="cicd-stage-icon">üì¶</div><div class="cicd-stage-name">Package</div></div>
                <span class="cicd-arrow">‚Üí</span>
                <div class="cicd-stage"><div class="cicd-stage-icon">üöÄ</div><div class="cicd-stage-name">Deploy</div></div>
              </div>
            </div>
            <div class="cicd-tools">
              <div class="cicd-tool"><div class="cicd-tool-name">GitHub Actions</div></div>
              <div class="cicd-tool"><div class="cicd-tool-name">GitLab CI</div></div>
              <div class="cicd-tool"><div class="cicd-tool-name">Jenkins</div></div>
              <div class="cicd-tool"><div class="cicd-tool-name">CircleCI</div></div>
              <div class="cicd-tool"><div class="cicd-tool-name">ArgoCD</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>CI (Continuous Integration)</strong> automatically builds and tests code on every commit. <strong>CD (Continuous Delivery/Deployment)</strong> automates the release process to staging or production.</p><p>Together they enable fast, reliable, and frequent releases with quick feedback on issues.</p>`,
        keyPoints: [
          { icon: "üî®", title: "Continuous Integration", desc: "Merge code frequently, build and test automatically on each push.", color: "#84cc16" },
          { icon: "üì¶", title: "Continuous Delivery", desc: "Automatically prepare releases for deployment with manual approval.", color: "#3b82f6" },
          { icon: "üöÄ", title: "Continuous Deployment", desc: "Automatically deploy to production after passing all stages.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Fast Feedback", desc: "Know within minutes if changes break the build or tests.", color: "#22c55e" }
        ],
        formula: "Release Velocity = Pipeline Speed √ó Pipeline Reliability",
        strategies: [
          { title: "Fail Fast", desc: "Run quick tests first. Expensive tests only after fast ones pass." },
          { title: "Parallelize", desc: "Run independent tests and builds in parallel to reduce time." },
          { title: "Cache Dependencies", desc: "Cache package downloads and build artifacts between runs." },
          { title: "Test in Production-like Env", desc: "Staging should mirror production as closely as possible." }
        ],
        metrics: [
          { level: "GitHub Actions", downtime: "YAML in repo", useCase: "GitHub projects" },
          { level: "GitLab CI", downtime: "Integrated, full DevOps", useCase: "GitLab projects" },
          { level: "Jenkins", downtime: "Self-hosted, flexible", useCase: "Enterprise" },
          { level: "ArgoCD", downtime: "GitOps for K8s", useCase: "Kubernetes" }
        ]
      },
      "iac": {
        title: "Infrastructure as Code (IaC)",
        subtitle: "Managing infrastructure through version-controlled configuration files.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .iac-viz { display: flex; flex-direction: column; gap: 24px; }
            .iac-flow { display: flex; align-items: center; justify-content: center; gap: 16px; flex-wrap: wrap; }
            .iac-item { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(132, 204, 22, 0.3); border-radius: 12px; padding: 16px; text-align: center; width: 140px; }
            .iac-item-icon { font-size: 2rem; margin-bottom: 8px; }
            .iac-item-name { font-weight: 600; color: #84cc16; font-size: 0.9rem; }
            .iac-arrow { color: #84cc16; font-size: 1.5rem; }
            .iac-code { background: rgba(0,0,0,0.3); border-radius: 8px; padding: 12px; font-family: monospace; font-size: 0.7rem; color: #84cc16; text-align: left; }
            .iac-tools { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .iac-tool { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(132, 204, 22, 0.2); border-radius: 6px; padding: 8px 14px; font-size: 0.8rem; color: #84cc16; }
          </style>
          <div class="iac-viz">
            <div class="iac-flow">
              <div class="iac-item"><div class="iac-item-icon">üìù</div><div class="iac-item-name">Code</div></div>
              <span class="iac-arrow">‚Üí</span>
              <div class="iac-item"><div class="iac-item-icon">üîç</div><div class="iac-item-name">Plan</div></div>
              <span class="iac-arrow">‚Üí</span>
              <div class="iac-item"><div class="iac-item-icon">‚úÖ</div><div class="iac-item-name">Apply</div></div>
              <span class="iac-arrow">‚Üí</span>
              <div class="iac-item"><div class="iac-item-icon">‚òÅÔ∏è</div><div class="iac-item-name">Infrastructure</div></div>
            </div>
            <div class="iac-code">resource "aws_instance" "web" {<br>  ami           = "ami-12345"<br>  instance_type = "t3.micro"<br>  tags = { Name = "WebServer" }<br>}</div>
            <div class="iac-tools">
              <div class="iac-tool">Terraform</div>
              <div class="iac-tool">Pulumi</div>
              <div class="iac-tool">CloudFormation</div>
              <div class="iac-tool">Ansible</div>
              <div class="iac-tool">CDK</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Infrastructure as Code</strong> manages infrastructure through declarative configuration files rather than manual processes. Changes are version-controlled, reviewed, tested, and applied consistently.</p><p>IaC enables reproducible environments, disaster recovery, and self-service infrastructure.</p>`,
        keyPoints: [
          { icon: "üìù", title: "Declarative", desc: "Describe desired state, tool figures out how to achieve it.", color: "#84cc16" },
          { icon: "üîÑ", title: "Version Controlled", desc: "Git history shows who changed what, when, and why.", color: "#3b82f6" },
          { icon: "üîÅ", title: "Reproducible", desc: "Same code creates identical infrastructure every time.", color: "#22c55e" },
          { icon: "üëÄ", title: "Code Review", desc: "Infrastructure changes reviewed like application code.", color: "#f59e0b" }
        ],
        formula: "Infrastructure = Code + State + Provider",
        strategies: [
          { title: "Use Modules", desc: "Reusable components for common patterns (VPC, EKS cluster)." },
          { title: "Remote State", desc: "Store Terraform state in S3/GCS with locking for team collaboration." },
          { title: "Plan Before Apply", desc: "Always review plan output before applying changes." },
          { title: "Drift Detection", desc: "Detect and reconcile manual changes made outside IaC." }
        ],
        metrics: [
          { level: "Terraform", downtime: "Multi-cloud, HCL", useCase: "Most popular" },
          { level: "Pulumi", downtime: "Real languages", useCase: "Developer-friendly" },
          { level: "CloudFormation", downtime: "AWS native", useCase: "AWS-only" },
          { level: "CDK", downtime: "Generates CFN/TF", useCase: "Type-safe IaC" }
        ]
      },
      "deployment-strategies": {
        title: "Blue-Green / Canary Deployments",
        subtitle: "Strategies for releasing software with minimal risk and downtime.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .ds-viz { display: flex; flex-direction: column; gap: 20px; }
            .ds-strategies { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .ds-strategy { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 200px; }
            .ds-title { font-weight: 600; font-size: 0.95rem; margin-bottom: 12px; text-align: center; }
            .ds-visual { display: flex; gap: 4px; height: 50px; margin-bottom: 8px; }
            .ds-bar { flex: 1; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem; font-weight: 600; }
            .ds-desc { font-size: 0.7rem; color: #a0a0b0; text-align: center; }
            .ds-blue { border: 1px solid rgba(59, 130, 246, 0.3); }
            .ds-blue .ds-title { color: #3b82f6; }
            .ds-canary { border: 1px solid rgba(245, 158, 11, 0.3); }
            .ds-canary .ds-title { color: #f59e0b; }
            .ds-rolling { border: 1px solid rgba(34, 197, 94, 0.3); }
            .ds-rolling .ds-title { color: #22c55e; }
          </style>
          <div class="ds-viz">
            <div class="ds-strategies">
              <div class="ds-strategy ds-blue">
                <div class="ds-title">Blue-Green</div>
                <div class="ds-visual">
                  <div class="ds-bar" style="background:#3b82f6">Blue (old)</div>
                  <div class="ds-bar" style="background:#22c55e">Green (new)</div>
                </div>
                <div class="ds-desc">Switch 100% traffic instantly. Easy rollback.</div>
              </div>
              <div class="ds-strategy ds-canary">
                <div class="ds-title">Canary</div>
                <div class="ds-visual">
                  <div class="ds-bar" style="background:#3b82f6;flex:9">95%</div>
                  <div class="ds-bar" style="background:#f59e0b;flex:1">5%</div>
                </div>
                <div class="ds-desc">Gradual rollout. Monitor before expanding.</div>
              </div>
              <div class="ds-strategy ds-rolling">
                <div class="ds-title">Rolling</div>
                <div class="ds-visual">
                  <div class="ds-bar" style="background:#3b82f6">Old</div>
                  <div class="ds-bar" style="background:#22c55e">New</div>
                  <div class="ds-bar" style="background:#22c55e">New</div>
                  <div class="ds-bar" style="background:#3b82f6">Old</div>
                </div>
                <div class="ds-desc">Replace instances one by one. No extra capacity.</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Blue-Green</strong> maintains two identical environments, switching traffic between them. <strong>Canary</strong> gradually routes a percentage of traffic to the new version. <strong>Rolling</strong> updates instances incrementally.</p><p>Each strategy trades off between speed, safety, and resource usage.</p>`,
        keyPoints: [
          { icon: "üîµ", title: "Blue-Green", desc: "Two environments, instant switch. Easy rollback, double resources.", color: "#3b82f6" },
          { icon: "üê§", title: "Canary", desc: "Gradual traffic shift. Early problem detection, complex setup.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Rolling", desc: "One-by-one replacement. No extra capacity, slower rollback.", color: "#22c55e" },
          { icon: "üéõÔ∏è", title: "Feature Flags", desc: "Separate deployment from release. Toggle features independently.", color: "#8b5cf6" }
        ],
        formula: "Risk = Blast Radius √ó Impact Duration",
        strategies: [
          { title: "Match to Risk Tolerance", desc: "Critical services need canary. Internal tools can use rolling." },
          { title: "Automate Rollback", desc: "Automatic rollback on error rate spike or failed health checks." },
          { title: "Progressive Delivery", desc: "Combine canary with automated promotion based on metrics." },
          { title: "Database Compatibility", desc: "Ensure DB schema works with both old and new versions during rollout." }
        ],
        metrics: [
          { level: "Blue-Green", downtime: "Instant switch", useCase: "Stateless services" },
          { level: "Canary", downtime: "1%‚Üí10%‚Üí100%", useCase: "User-facing services" },
          { level: "Rolling", downtime: "Pod by pod", useCase: "Kubernetes default" },
          { level: "Recreate", downtime: "Stop all, start new", useCase: "Dev environments" }
        ]
      },
      "rollbacks": {
        title: "Rollbacks",
        subtitle: "Reverting to a previous version when a deployment causes issues.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .rb-viz { display: flex; flex-direction: column; gap: 24px; }
            .rb-timeline { background: rgba(132, 204, 22, 0.1); border-radius: 12px; padding: 16px; }
            .rb-title { font-size: 0.85rem; color: #84cc16; margin-bottom: 12px; font-weight: 600; text-align: center; }
            .rb-versions { display: flex; align-items: center; gap: 8px; justify-content: center; flex-wrap: wrap; }
            .rb-version { background: rgba(30, 35, 50, 0.8); border: 2px solid; border-radius: 8px; padding: 10px 16px; text-align: center; }
            .rb-version-num { font-weight: 600; font-size: 0.9rem; }
            .rb-version-status { font-size: 0.65rem; margin-top: 2px; }
            .rb-arrow { font-size: 1.2rem; }
            .rb-actions { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .rb-action { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(132, 204, 22, 0.3); border-radius: 8px; padding: 12px; width: 140px; text-align: center; }
            .rb-action-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .rb-action-name { font-weight: 600; color: #84cc16; font-size: 0.85rem; }
          </style>
          <div class="rb-viz">
            <div class="rb-timeline">
              <div class="rb-title">‚è™ Rollback Timeline</div>
              <div class="rb-versions">
                <div class="rb-version" style="border-color:#22c55e"><div class="rb-version-num" style="color:#22c55e">v1.2.0</div><div class="rb-version-status" style="color:#22c55e">‚úì Stable</div></div>
                <span class="rb-arrow" style="color:#84cc16">‚Üí</span>
                <div class="rb-version" style="border-color:#ef4444"><div class="rb-version-num" style="color:#ef4444">v1.3.0</div><div class="rb-version-status" style="color:#ef4444">‚úó Failed</div></div>
                <span class="rb-arrow" style="color:#f59e0b">‚ü≤ ROLLBACK</span>
                <div class="rb-version" style="border-color:#22c55e"><div class="rb-version-num" style="color:#22c55e">v1.2.0</div><div class="rb-version-status" style="color:#22c55e">‚úì Restored</div></div>
              </div>
            </div>
            <div class="rb-actions">
              <div class="rb-action"><div class="rb-action-icon">ü§ñ</div><div class="rb-action-name">Automatic</div></div>
              <div class="rb-action"><div class="rb-action-icon">üëÜ</div><div class="rb-action-name">Manual</div></div>
              <div class="rb-action"><div class="rb-action-icon">üîÑ</div><div class="rb-action-name">GitOps Revert</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Rollback</strong> is the process of reverting to a previous known-good version when a new deployment causes problems. Fast rollback capability is essential for maintaining availability.</p><p>Rollback can be automatic (triggered by metrics) or manual (triggered by operators).</p>`,
        keyPoints: [
          { icon: "ü§ñ", title: "Automatic Rollback", desc: "Triggered by error rate spikes, failed health checks, or SLO breach.", color: "#84cc16" },
          { icon: "üëÜ", title: "Manual Rollback", desc: "Operator-triggered when issues are noticed. kubectl rollout undo.", color: "#3b82f6" },
          { icon: "üîÑ", title: "GitOps Revert", desc: "Revert Git commit, CD system applies previous state.", color: "#f59e0b" },
          { icon: "üíæ", title: "DB Rollback", desc: "Schema changes must support both versions during rollback window.", color: "#ef4444" }
        ],
        formula: "MTTR = Detection Time + Decision Time + Rollback Execution",
        strategies: [
          { title: "Keep Previous Version", desc: "Don't delete old images/artifacts until new version is proven stable." },
          { title: "Practice Rollbacks", desc: "Regular rollback drills ensure the process works when needed." },
          { title: "Backward Compatible DB", desc: "Use expand-contract pattern so rollback doesn't break data." },
          { title: "Document Runbooks", desc: "Clear steps for rollback including verification and communication." }
        ],
        metrics: [
          { level: "K8s Rollout", downtime: "kubectl rollout undo", useCase: "Kubernetes deployments" },
          { level: "Git Revert", downtime: "Revert commit + CD", useCase: "GitOps" },
          { level: "Blue-Green Switch", downtime: "Instant traffic flip", useCase: "Blue-green setup" },
          { level: "Feature Flag", downtime: "Toggle off", useCase: "Feature releases" }
        ]
      },
      "environment-parity": {
        title: "Environment Parity",
        subtitle: "Keeping development, staging, and production environments as similar as possible.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .ep-viz { display: flex; flex-direction: column; gap: 24px; }
            .ep-envs { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .ep-env { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 140px; text-align: center; }
            .ep-env-icon { font-size: 2rem; margin-bottom: 8px; }
            .ep-env-name { font-weight: 600; font-size: 0.95rem; margin-bottom: 4px; }
            .ep-env-diff { font-size: 0.65rem; color: #a0a0b0; }
            .ep-dev { border: 1px solid rgba(59, 130, 246, 0.3); }
            .ep-dev .ep-env-name { color: #3b82f6; }
            .ep-stg { border: 1px solid rgba(245, 158, 11, 0.3); }
            .ep-stg .ep-env-name { color: #f59e0b; }
            .ep-prd { border: 1px solid rgba(34, 197, 94, 0.3); }
            .ep-prd .ep-env-name { color: #22c55e; }
            .ep-diffs { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 12px; padding: 16px; }
            .ep-diffs-title { font-weight: 600; color: #ef4444; margin-bottom: 8px; text-align: center; font-size: 0.9rem; }
            .ep-diff-list { display: flex; gap: 8px; flex-wrap: wrap; justify-content: center; }
            .ep-diff { background: rgba(239, 68, 68, 0.2); padding: 6px 12px; border-radius: 4px; font-size: 0.75rem; color: #ef4444; }
          </style>
          <div class="ep-viz">
            <div class="ep-envs">
              <div class="ep-env ep-dev"><div class="ep-env-icon">üíª</div><div class="ep-env-name">Development</div><div class="ep-env-diff">Local machine</div></div>
              <span style="font-size:1.5rem;color:#84cc16;align-self:center">‚âà</span>
              <div class="ep-env ep-stg"><div class="ep-env-icon">üß™</div><div class="ep-env-name">Staging</div><div class="ep-env-diff">Pre-production</div></div>
              <span style="font-size:1.5rem;color:#84cc16;align-self:center">‚âà</span>
              <div class="ep-env ep-prd"><div class="ep-env-icon">üöÄ</div><div class="ep-env-name">Production</div><div class="ep-env-diff">Live traffic</div></div>
            </div>
            <div class="ep-diffs">
              <div class="ep-diffs-title">‚ö†Ô∏è Common Parity Issues</div>
              <div class="ep-diff-list">
                <div class="ep-diff">Different DB versions</div>
                <div class="ep-diff">Missing services</div>
                <div class="ep-diff">Stale test data</div>
                <div class="ep-diff">Different configs</div>
                <div class="ep-diff">Network differences</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Environment Parity</strong> minimizes differences between development, staging, and production environments. This reduces "works on my machine" problems and catches issues before production.</p><p>Containers, IaC, and standardized configurations help achieve parity.</p>`,
        keyPoints: [
          { icon: "üê≥", title: "Containers", desc: "Same container image runs everywhere. Consistent dependencies.", color: "#84cc16" },
          { icon: "üìù", title: "IaC", desc: "Infrastructure defined in code, replicated across environments.", color: "#3b82f6" },
          { icon: "‚öôÔ∏è", title: "Config Management", desc: "Same configs with env-specific values injected at runtime.", color: "#f59e0b" },
          { icon: "üóÑÔ∏è", title: "Data Parity", desc: "Production-like data (anonymized) in lower environments.", color: "#8b5cf6" }
        ],
        formula: "Parity = Same Code + Same Config + Same Infra + Same Data Shape",
        strategies: [
          { title: "Use Containers", desc: "Docker ensures same runtime, dependencies, and configuration." },
          { title: "Shared IaC Modules", desc: "Same Terraform modules for all environments with different variables." },
          { title: "Service Virtualization", desc: "Mock external services that can't be replicated in staging." },
          { title: "Synthetic Data", desc: "Generate realistic test data matching production patterns." }
        ],
        metrics: [
          { level: "Image Parity", downtime: "Same container image", useCase: "Runtime consistency" },
          { level: "Config Parity", downtime: "Same structure, diff values", useCase: "Behavior consistency" },
          { level: "Data Parity", downtime: "Anonymized prod data", useCase: "Realistic testing" },
          { level: "Infra Parity", downtime: "Same IaC, diff scale", useCase: "Architecture consistency" }
        ]
      },
      "config-management": {
        title: "Config Management",
        subtitle: "Externalizing and managing application configuration separately from code.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .cm-viz { display: flex; flex-direction: column; gap: 24px; }
            .cm-sources { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .cm-source { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(132, 204, 22, 0.3); border-radius: 10px; padding: 14px; width: 130px; text-align: center; }
            .cm-source-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .cm-source-name { font-weight: 600; color: #84cc16; font-size: 0.85rem; margin-bottom: 2px; }
            .cm-source-desc { font-size: 0.65rem; color: #a0a0b0; }
            .cm-12factor { background: rgba(132, 204, 22, 0.1); border-radius: 12px; padding: 16px; text-align: center; }
            .cm-12factor-title { font-weight: 600; color: #84cc16; margin-bottom: 8px; }
            .cm-12factor-desc { font-size: 0.8rem; color: #a0a0b0; }
          </style>
          <div class="cm-viz">
            <div class="cm-sources">
              <div class="cm-source"><div class="cm-source-icon">üåç</div><div class="cm-source-name">Env Vars</div><div class="cm-source-desc">12-factor standard</div></div>
              <div class="cm-source"><div class="cm-source-icon">üìÑ</div><div class="cm-source-name">Config Files</div><div class="cm-source-desc">YAML, JSON, TOML</div></div>
              <div class="cm-source"><div class="cm-source-icon">üóÑÔ∏è</div><div class="cm-source-name">ConfigMaps</div><div class="cm-source-desc">Kubernetes native</div></div>
              <div class="cm-source"><div class="cm-source-icon">‚òÅÔ∏è</div><div class="cm-source-name">Config Service</div><div class="cm-source-desc">Consul, Spring Cloud</div></div>
            </div>
            <div class="cm-12factor">
              <div class="cm-12factor-title">üìã 12-Factor App: Config</div>
              <div class="cm-12factor-desc">"Store config in the environment. Strict separation of config from code."</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Config Management</strong> externalizes configuration from application code, allowing the same codebase to run in different environments with different settings.</p><p>This enables environment-specific behavior without code changes and supports secure handling of sensitive values.</p>`,
        keyPoints: [
          { icon: "üåç", title: "Environment Variables", desc: "12-factor standard. Simple, works everywhere.", color: "#84cc16" },
          { icon: "üóÑÔ∏è", title: "ConfigMaps/Secrets", desc: "Kubernetes-native configuration and secret injection.", color: "#3b82f6" },
          { icon: "‚òÅÔ∏è", title: "Config Services", desc: "Centralized config with versioning, audit, and dynamic refresh.", color: "#f59e0b" },
          { icon: "üîê", title: "Secret Separation", desc: "Sensitive config (passwords, keys) stored separately in vaults.", color: "#ef4444" }
        ],
        formula: "Config = Environment Variables + Config Files + Secrets",
        strategies: [
          { title: "Environment Variables", desc: "Use for simple, environment-specific values. 12-factor approach." },
          { title: "Config Files for Complex", desc: "Structured config (lists, nested) in files mounted at runtime." },
          { title: "Secrets Separately", desc: "Use vault or secrets manager for sensitive values, not env vars." },
          { title: "Validate at Startup", desc: "Fail fast if required config is missing or invalid." }
        ],
        metrics: [
          { level: "Env Vars", downtime: "Simple, universal", useCase: "Basic config" },
          { level: "ConfigMaps", downtime: "K8s native, versioned", useCase: "Kubernetes" },
          { level: "Consul", downtime: "Distributed, dynamic", useCase: "Service mesh" },
          { level: "AWS SSM", downtime: "AWS native, hierarchical", useCase: "AWS workloads" }
        ]
      },
      "feature-flags": {
        title: "Feature Flags",
        subtitle: "Controlling feature rollout independently from code deployment.",
        badge: { text: "DevOps", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `
          <style>
            .ff-viz { display: flex; flex-direction: column; gap: 24px; }
            .ff-demo { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(132, 204, 22, 0.3); border-radius: 12px; padding: 16px; }
            .ff-demo-title { font-weight: 600; color: #84cc16; margin-bottom: 12px; text-align: center; }
            .ff-flags { display: flex; flex-direction: column; gap: 8px; }
            .ff-flag { display: flex; align-items: center; justify-content: space-between; padding: 10px 14px; background: rgba(30, 35, 50, 0.8); border-radius: 6px; }
            .ff-flag-name { font-size: 0.85rem; color: #e5e5e5; }
            .ff-toggle { width: 48px; height: 24px; border-radius: 12px; position: relative; }
            .ff-toggle-on { background: #22c55e; }
            .ff-toggle-off { background: #6b7280; }
            .ff-toggle::after { content: ''; position: absolute; width: 20px; height: 20px; background: white; border-radius: 50%; top: 2px; }
            .ff-toggle-on::after { right: 2px; }
            .ff-toggle-off::after { left: 2px; }
            .ff-types { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .ff-type { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(132, 204, 22, 0.2); border-radius: 8px; padding: 10px 14px; text-align: center; width: 110px; }
            .ff-type-icon { font-size: 1.2rem; margin-bottom: 4px; }
            .ff-type-name { font-size: 0.75rem; color: #84cc16; font-weight: 600; }
          </style>
          <div class="ff-viz">
            <div class="ff-demo">
              <div class="ff-demo-title">üéõÔ∏è Feature Flags Dashboard</div>
              <div class="ff-flags">
                <div class="ff-flag"><span class="ff-flag-name">new_checkout_flow</span><div class="ff-toggle ff-toggle-on"></div></div>
                <div class="ff-flag"><span class="ff-flag-name">dark_mode</span><div class="ff-toggle ff-toggle-on"></div></div>
                <div class="ff-flag"><span class="ff-flag-name">experimental_search</span><div class="ff-toggle ff-toggle-off"></div></div>
              </div>
            </div>
            <div class="ff-types">
              <div class="ff-type"><div class="ff-type-icon">üîÄ</div><div class="ff-type-name">Boolean</div></div>
              <div class="ff-type"><div class="ff-type-icon">üé≤</div><div class="ff-type-name">Percentage</div></div>
              <div class="ff-type"><div class="ff-type-icon">üë•</div><div class="ff-type-name">User Segment</div></div>
              <div class="ff-type"><div class="ff-type-icon">üî¢</div><div class="ff-type-name">Multivariate</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Feature Flags</strong> (toggles) allow enabling or disabling features at runtime without deploying new code. This decouples deployment from release and enables gradual rollouts.</p><p>They're essential for trunk-based development, A/B testing, and quick feature disabling during incidents.</p>`,
        keyPoints: [
          { icon: "üîÄ", title: "Release Flags", desc: "Enable features for specific users or percentages. Gradual rollout.", color: "#84cc16" },
          { icon: "üß™", title: "Experiment Flags", desc: "A/B testing with different variants for different users.", color: "#3b82f6" },
          { icon: "üîß", title: "Ops Flags", desc: "Disable expensive features during incidents. Circuit breaker.", color: "#f59e0b" },
          { icon: "üóëÔ∏è", title: "Flag Cleanup", desc: "Remove flags after feature is fully rolled out. Tech debt otherwise.", color: "#ef4444" }
        ],
        formula: "if (featureFlag.isEnabled(user)) { newFeature() } else { oldFeature() }",
        strategies: [
          { title: "Trunk-Based Development", desc: "Merge incomplete features to main with flags off. Deploy anytime." },
          { title: "Gradual Rollout", desc: "Enable for 1%, 10%, 50%, 100% while monitoring metrics." },
          { title: "Kill Switch", desc: "Instantly disable problematic features without deployment." },
          { title: "Clean Up Flags", desc: "Remove flag code after full rollout. Track flag lifecycle." }
        ],
        metrics: [
          { level: "LaunchDarkly", downtime: "Full-featured SaaS", useCase: "Enterprise" },
          { level: "Flagsmith", downtime: "Open source option", useCase: "Self-hosted" },
          { level: "Split", downtime: "Experimentation focus", useCase: "A/B testing" },
          { level: "ConfigCat", downtime: "Simple, affordable", useCase: "Small teams" }
        ]
      },
      "api-versioning": {
        title: "API Versioning",
        subtitle: "Strategies for evolving APIs while maintaining backward compatibility.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .av-viz { display: flex; flex-direction: column; gap: 24px; }
            .av-strategies { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .av-strategy { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 12px; padding: 16px; width: 180px; text-align: center; }
            .av-strategy-name { font-weight: 600; color: #6366f1; font-size: 0.95rem; margin-bottom: 8px; }
            .av-strategy-example { background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-family: monospace; font-size: 0.7rem; color: #e5e5e5; margin-bottom: 8px; }
            .av-strategy-pros { font-size: 0.7rem; color: #22c55e; }
            .av-strategy-cons { font-size: 0.7rem; color: #ef4444; margin-top: 4px; }
          </style>
          <div class="av-viz">
            <div class="av-strategies">
              <div class="av-strategy">
                <div class="av-strategy-name">URL Path</div>
                <div class="av-strategy-example">/api/v1/users<br>/api/v2/users</div>
                <div class="av-strategy-pros">‚úì Clear, cacheable</div>
                <div class="av-strategy-cons">‚úó URL changes</div>
              </div>
              <div class="av-strategy">
                <div class="av-strategy-name">Query Param</div>
                <div class="av-strategy-example">/api/users?version=2</div>
                <div class="av-strategy-pros">‚úì Same URL</div>
                <div class="av-strategy-cons">‚úó Cache issues</div>
              </div>
              <div class="av-strategy">
                <div class="av-strategy-name">Header</div>
                <div class="av-strategy-example">Accept: application/<br>vnd.api.v2+json</div>
                <div class="av-strategy-pros">‚úì Clean URLs</div>
                <div class="av-strategy-cons">‚úó Less visible</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>API Versioning</strong> allows evolving APIs while supporting existing clients. Different strategies have trade-offs between visibility, caching, and client experience.</p><p>Good versioning minimizes breaking changes and provides clear upgrade paths.</p>`,
        keyPoints: [
          { icon: "üîó", title: "URL Versioning", desc: "Version in path (/v1/, /v2/). Most visible and cacheable.", color: "#6366f1" },
          { icon: "üìã", title: "Header Versioning", desc: "Version in Accept header. Clean URLs, less discoverable.", color: "#3b82f6" },
          { icon: "üî¢", title: "Semantic Versioning", desc: "Major.Minor.Patch. Major = breaking, minor = additive.", color: "#f59e0b" },
          { icon: "üìÖ", title: "Date-Based", desc: "Version by date (2024-01-15). Used by Stripe, Twilio.", color: "#10b981" }
        ],
        formula: "Breaking Change = Removal + Rename + Type Change",
        strategies: [
          { title: "Avoid Breaking Changes", desc: "Add fields, don't remove. Use deprecation before removal." },
          { title: "Version Major Changes Only", desc: "Minor additions don't need new version. Use extensions." },
          { title: "Sunset Policy", desc: "Define how long old versions are supported. Communicate clearly." },
          { title: "Document Migration", desc: "Provide clear guides for upgrading between versions." }
        ],
        metrics: [
          { level: "URL Path", downtime: "/api/v1/", useCase: "Public APIs" },
          { level: "Header", downtime: "Accept-Version", useCase: "Internal APIs" },
          { level: "Query Param", downtime: "?version=2", useCase: "Simple APIs" },
          { level: "Date-Based", downtime: "2024-01-15", useCase: "Stripe-style" }
        ]
      },
      "contract-testing": {
        title: "Contract Testing",
        subtitle: "Verifying that services conform to agreed API contracts.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .ct-viz { display: flex; flex-direction: column; gap: 24px; }
            .ct-flow { background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 20px; }
            .ct-title { font-size: 0.85rem; color: #6366f1; margin-bottom: 16px; font-weight: 600; text-align: center; }
            .ct-parties { display: flex; align-items: center; justify-content: center; gap: 16px; flex-wrap: wrap; }
            .ct-party { background: rgba(30, 35, 50, 0.8); border: 2px solid; border-radius: 10px; padding: 14px 20px; text-align: center; }
            .ct-party-icon { font-size: 1.5rem; margin-bottom: 4px; }
            .ct-party-name { font-weight: 600; font-size: 0.9rem; }
            .ct-consumer { border-color: #3b82f6; }
            .ct-consumer .ct-party-name { color: #3b82f6; }
            .ct-provider { border-color: #22c55e; }
            .ct-provider .ct-party-name { color: #22c55e; }
            .ct-contract { background: #6366f1; color: white; padding: 12px 20px; border-radius: 8px; font-weight: 600; }
            .ct-arrow { color: #6366f1; font-size: 1.5rem; }
          </style>
          <div class="ct-viz">
            <div class="ct-flow">
              <div class="ct-title">Consumer-Driven Contract Testing</div>
              <div class="ct-parties">
                <div class="ct-party ct-consumer"><div class="ct-party-icon">üì±</div><div class="ct-party-name">Consumer</div></div>
                <span class="ct-arrow">‚Üí</span>
                <div class="ct-contract">üìù Contract</div>
                <span class="ct-arrow">‚Üê</span>
                <div class="ct-party ct-provider"><div class="ct-party-icon">üñ•Ô∏è</div><div class="ct-party-name">Provider</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Contract Testing</strong> verifies that a provider's API conforms to the expectations of its consumers. Consumer-driven contracts ensure providers don't break consumer integrations.</p><p>It enables independent deployment of services while maintaining compatibility.</p>`,
        keyPoints: [
          { icon: "üìù", title: "Contract", desc: "Formal specification of expected requests and responses.", color: "#6366f1" },
          { icon: "üì±", title: "Consumer-Driven", desc: "Consumers define what they need. Providers verify they satisfy it.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Independent Testing", desc: "Test against contracts without needing all services running.", color: "#22c55e" },
          { icon: "üîÑ", title: "Pact Broker", desc: "Central repository for contracts, versioning, and verification.", color: "#f59e0b" }
        ],
        formula: "Contract = Consumer Expectations + Provider Guarantees",
        strategies: [
          { title: "Consumer First", desc: "Consumers define contracts based on what they actually use." },
          { title: "Test in CI", desc: "Run contract verification in CI before deployment." },
          { title: "Version Contracts", desc: "Track contract versions to enable safe evolution." },
          { title: "Can-I-Deploy", desc: "Use Pact's can-i-deploy to check compatibility before release." }
        ],
        metrics: [
          { level: "Pact", downtime: "Consumer-driven", useCase: "Microservices" },
          { level: "Spring Cloud Contract", downtime: "JVM ecosystem", useCase: "Spring apps" },
          { level: "OpenAPI", downtime: "Spec-driven", useCase: "REST APIs" },
          { level: "Protolock", downtime: "Proto changes", useCase: "gRPC" }
        ]
      },
      "idempotent-apis": {
        title: "Idempotent APIs",
        subtitle: "Designing APIs where repeated calls produce the same result.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .ia-viz { display: flex; flex-direction: column; gap: 24px; }
            .ia-methods { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .ia-method { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 10px; padding: 14px; width: 110px; text-align: center; }
            .ia-method-name { font-weight: 700; font-size: 1rem; margin-bottom: 6px; }
            .ia-method-idem { font-size: 0.75rem; padding: 4px 8px; border-radius: 4px; }
            .ia-yes { border: 1px solid #22c55e; }
            .ia-yes .ia-method-name { color: #22c55e; }
            .ia-yes .ia-method-idem { background: rgba(34, 197, 94, 0.2); color: #22c55e; }
            .ia-no { border: 1px solid #ef4444; }
            .ia-no .ia-method-name { color: #ef4444; }
            .ia-no .ia-method-idem { background: rgba(239, 68, 68, 0.2); color: #ef4444; }
            .ia-key { background: rgba(99, 102, 241, 0.1); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 12px; padding: 16px; text-align: center; }
            .ia-key-title { font-weight: 600; color: #6366f1; margin-bottom: 8px; }
            .ia-key-example { font-family: monospace; font-size: 0.75rem; color: #a0a0b0; }
          </style>
          <div class="ia-viz">
            <div class="ia-methods">
              <div class="ia-method ia-yes"><div class="ia-method-name">GET</div><div class="ia-method-idem">Idempotent ‚úì</div></div>
              <div class="ia-method ia-yes"><div class="ia-method-name">PUT</div><div class="ia-method-idem">Idempotent ‚úì</div></div>
              <div class="ia-method ia-yes"><div class="ia-method-name">DELETE</div><div class="ia-method-idem">Idempotent ‚úì</div></div>
              <div class="ia-method ia-no"><div class="ia-method-name">POST</div><div class="ia-method-idem">Not by default</div></div>
            </div>
            <div class="ia-key">
              <div class="ia-key-title">üîë Idempotency Key Pattern</div>
              <div class="ia-key-example">POST /payments<br>Idempotency-Key: 550e8400-e29b-41d4-a716-446655440000</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Idempotent APIs</strong> produce the same result regardless of how many times the same request is made. This is crucial for reliability in distributed systems where retries are common.</p><p>HTTP methods GET, PUT, DELETE are naturally idempotent. POST needs explicit design.</p>`,
        keyPoints: [
          { icon: "üîë", title: "Idempotency Key", desc: "Client-generated UUID sent with request to detect duplicates.", color: "#6366f1" },
          { icon: "üíæ", title: "Store Results", desc: "Cache response by idempotency key, return cached on retry.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "TTL", desc: "Keys expire after reasonable time (24-48h typically).", color: "#f59e0b" },
          { icon: "üîí", title: "Atomic Operations", desc: "Check and create in single transaction to prevent races.", color: "#22c55e" }
        ],
        formula: "f(x) = f(f(x)) ‚Äî Same result on retry",
        strategies: [
          { title: "Require for POST", desc: "Make Idempotency-Key header required for non-idempotent operations." },
          { title: "Return Same Response", desc: "Store and return exact same response for duplicate requests." },
          { title: "Use Unique Keys", desc: "Client generates UUID. Server rejects reused keys from different requests." },
          { title: "Handle Concurrent", desc: "Use locking or upsert to handle parallel requests with same key." }
        ],
        metrics: [
          { level: "GET", downtime: "Safe + Idempotent", useCase: "Read operations" },
          { level: "PUT", downtime: "Idempotent", useCase: "Full replace" },
          { level: "DELETE", downtime: "Idempotent", useCase: "Remove resource" },
          { level: "POST + Key", downtime: "Made idempotent", useCase: "Create operations" }
        ]
      },
      "pagination": {
        title: "Pagination & Filtering",
        subtitle: "Efficiently returning large datasets in manageable chunks.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .pg-viz { display: flex; flex-direction: column; gap: 24px; }
            .pg-types { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .pg-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 12px; padding: 16px; width: 160px; text-align: center; }
            .pg-type-name { font-weight: 600; color: #6366f1; font-size: 0.95rem; margin-bottom: 8px; }
            .pg-type-example { background: rgba(0,0,0,0.3); padding: 8px; border-radius: 4px; font-family: monospace; font-size: 0.65rem; color: #a0a0b0; margin-bottom: 8px; }
            .pg-type-desc { font-size: 0.7rem; color: #a0a0b0; }
            .pg-filter { background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 16px; }
            .pg-filter-title { font-weight: 600; color: #6366f1; margin-bottom: 8px; text-align: center; }
            .pg-filter-example { font-family: monospace; font-size: 0.75rem; color: #e5e5e5; text-align: center; }
          </style>
          <div class="pg-viz">
            <div class="pg-types">
              <div class="pg-type">
                <div class="pg-type-name">Offset</div>
                <div class="pg-type-example">?offset=20&limit=10</div>
                <div class="pg-type-desc">Simple but slow for large offsets</div>
              </div>
              <div class="pg-type">
                <div class="pg-type-name">Cursor</div>
                <div class="pg-type-example">?cursor=abc123</div>
                <div class="pg-type-desc">Stable, efficient for large data</div>
              </div>
              <div class="pg-type">
                <div class="pg-type-name">Keyset</div>
                <div class="pg-type-example">?after_id=1000</div>
                <div class="pg-type-desc">Best for sorted data</div>
              </div>
            </div>
            <div class="pg-filter">
              <div class="pg-filter-title">üîç Filtering & Sorting</div>
              <div class="pg-filter-example">GET /users?status=active&sort=-created_at&fields=id,name,email</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Pagination</strong> breaks large result sets into smaller pages. <strong>Filtering</strong> allows clients to request only matching records. <strong>Field selection</strong> returns only needed fields.</p><p>Together they optimize bandwidth, latency, and server resources.</p>`,
        keyPoints: [
          { icon: "üìÑ", title: "Offset Pagination", desc: "Simple but O(n) for large offsets. Good for UI page numbers.", color: "#6366f1" },
          { icon: "üîñ", title: "Cursor Pagination", desc: "Opaque token for next page. Stable during data changes.", color: "#3b82f6" },
          { icon: "üîë", title: "Keyset Pagination", desc: "Use indexed column (id, timestamp) for efficient seek.", color: "#22c55e" },
          { icon: "üîç", title: "Filtering", desc: "Query params for filtering. Support common operators (eq, gt, contains).", color: "#f59e0b" }
        ],
        formula: "Response = { data: [...], pagination: { cursor, hasMore } }",
        strategies: [
          { title: "Use Cursor for Infinite Scroll", desc: "More efficient than offset for large datasets and changing data." },
          { title: "Limit Max Page Size", desc: "Enforce max limit (100-1000) to prevent abuse." },
          { title: "Include Total Count Carefully", desc: "COUNT(*) is expensive. Make it optional or estimate." },
          { title: "Support Field Selection", desc: "?fields=id,name reduces payload and processing." }
        ],
        metrics: [
          { level: "Offset", downtime: "?page=5&limit=10", useCase: "UI pagination" },
          { level: "Cursor", downtime: "?cursor=xyz", useCase: "Infinite scroll" },
          { level: "Keyset", downtime: "?after_id=100", useCase: "Time-series" },
          { level: "GraphQL", downtime: "Connections spec", useCase: "GraphQL APIs" }
        ]
      },
      "webhooks": {
        title: "Webhooks",
        subtitle: "Server-to-server callbacks triggered by events.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .wh-viz { display: flex; flex-direction: column; gap: 24px; }
            .wh-flow { background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 20px; }
            .wh-title { font-size: 0.85rem; color: #6366f1; margin-bottom: 16px; font-weight: 600; text-align: center; }
            .wh-steps { display: flex; align-items: center; gap: 8px; justify-content: center; flex-wrap: wrap; }
            .wh-step { background: rgba(30, 35, 50, 0.8); border: 2px solid #6366f1; border-radius: 8px; padding: 10px 14px; text-align: center; }
            .wh-step-icon { font-size: 1.2rem; margin-bottom: 2px; }
            .wh-step-name { font-size: 0.75rem; color: #e5e5e5; }
            .wh-arrow { color: #6366f1; font-size: 1.2rem; }
            .wh-security { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .wh-sec { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 8px; padding: 10px 14px; text-align: center; width: 120px; }
            .wh-sec-icon { font-size: 1.3rem; margin-bottom: 4px; }
            .wh-sec-name { font-size: 0.75rem; color: #6366f1; font-weight: 600; }
          </style>
          <div class="wh-viz">
            <div class="wh-flow">
              <div class="wh-title">üì® Webhook Flow</div>
              <div class="wh-steps">
                <div class="wh-step"><div class="wh-step-icon">‚ö°</div><div class="wh-step-name">Event Occurs</div></div>
                <span class="wh-arrow">‚Üí</span>
                <div class="wh-step"><div class="wh-step-icon">üìù</div><div class="wh-step-name">Build Payload</div></div>
                <span class="wh-arrow">‚Üí</span>
                <div class="wh-step"><div class="wh-step-icon">üì§</div><div class="wh-step-name">POST to URL</div></div>
                <span class="wh-arrow">‚Üí</span>
                <div class="wh-step"><div class="wh-step-icon">‚úÖ</div><div class="wh-step-name">Confirm 2xx</div></div>
              </div>
            </div>
            <div class="wh-security">
              <div class="wh-sec"><div class="wh-sec-icon">üîê</div><div class="wh-sec-name">Signature</div></div>
              <div class="wh-sec"><div class="wh-sec-icon">üîÑ</div><div class="wh-sec-name">Retries</div></div>
              <div class="wh-sec"><div class="wh-sec-icon">‚è±Ô∏è</div><div class="wh-sec-name">Timeouts</div></div>
              <div class="wh-sec"><div class="wh-sec-icon">üìã</div><div class="wh-sec-name">Idempotency</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Webhooks</strong> are HTTP callbacks triggered by events. Instead of polling, servers push notifications to registered URLs when something happens.</p><p>They enable real-time integrations but require careful handling of security, retries, and failures.</p>`,
        keyPoints: [
          { icon: "üîê", title: "Signature Verification", desc: "HMAC signature proves webhook came from the expected sender.", color: "#6366f1" },
          { icon: "üîÑ", title: "Retry Logic", desc: "Retry on failure with exponential backoff. Track delivery status.", color: "#3b82f6" },
          { icon: "üìã", title: "Idempotency", desc: "Include event ID. Receivers should handle duplicates.", color: "#f59e0b" },
          { icon: "‚è±Ô∏è", title: "Timeouts", desc: "Short timeout (5-30s). Long processing should be async.", color: "#22c55e" }
        ],
        formula: "Webhook = Event Trigger + HTTP POST + Signature + Retry",
        strategies: [
          { title: "Sign All Webhooks", desc: "HMAC-SHA256 signature for authenticity verification." },
          { title: "Retry with Backoff", desc: "Retry 5-10 times over hours/days with exponential delay." },
          { title: "Provide Event Replay", desc: "API to resend missed webhooks for debugging and recovery." },
          { title: "Use Event IDs", desc: "Unique IDs allow receivers to deduplicate and track." }
        ],
        metrics: [
          { level: "Svix", downtime: "Webhook infrastructure", useCase: "Platform providers" },
          { level: "Hookdeck", downtime: "Webhook management", useCase: "Debugging" },
          { level: "Custom", downtime: "Queue + workers", useCase: "Self-hosted" },
          { level: "EventBridge", downtime: "AWS native", useCase: "AWS integrations" }
        ]
      },
      "grpc-rest": {
        title: "gRPC vs REST",
        subtitle: "Comparing API paradigms for different use cases.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .gr-viz { display: flex; flex-direction: column; gap: 24px; }
            .gr-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .gr-api { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; }
            .gr-api-name { font-weight: 600; font-size: 1.1rem; margin-bottom: 12px; text-align: center; }
            .gr-api-features { font-size: 0.75rem; }
            .gr-api-feature { padding: 6px 0; border-bottom: 1px solid rgba(100,100,120,0.2); }
            .gr-api-feature:last-child { border-bottom: none; }
            .gr-rest { border: 1px solid rgba(59, 130, 246, 0.3); }
            .gr-rest .gr-api-name { color: #3b82f6; }
            .gr-grpc { border: 1px solid rgba(34, 197, 94, 0.3); }
            .gr-grpc .gr-api-name { color: #22c55e; }
          </style>
          <div class="gr-viz">
            <div class="gr-compare">
              <div class="gr-api gr-rest">
                <div class="gr-api-name">REST</div>
                <div class="gr-api-features">
                  <div class="gr-api-feature">üìù JSON (human-readable)</div>
                  <div class="gr-api-feature">üåê HTTP/1.1</div>
                  <div class="gr-api-feature">üìñ OpenAPI docs</div>
                  <div class="gr-api-feature">üîß Browser friendly</div>
                  <div class="gr-api-feature">üì¶ Larger payloads</div>
                </div>
              </div>
              <div class="gr-api gr-grpc">
                <div class="gr-api-name">gRPC</div>
                <div class="gr-api-features">
                  <div class="gr-api-feature">‚ö° Protobuf (binary)</div>
                  <div class="gr-api-feature">üöÄ HTTP/2</div>
                  <div class="gr-api-feature">üìã Strongly typed</div>
                  <div class="gr-api-feature">üîÑ Streaming</div>
                  <div class="gr-api-feature">üìâ Smaller payloads</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>REST</strong> uses HTTP methods and JSON for web APIs, optimized for simplicity and browser compatibility. <strong>gRPC</strong> uses Protocol Buffers and HTTP/2 for high-performance service communication.</p><p>Choose based on use case: REST for public APIs, gRPC for internal microservices.</p>`,
        keyPoints: [
          { icon: "üìù", title: "REST/JSON", desc: "Human-readable, browser-friendly, widely understood. Larger payloads.", color: "#3b82f6" },
          { icon: "‚ö°", title: "gRPC/Protobuf", desc: "Binary, strongly typed, smaller payloads. 10x faster serialization.", color: "#22c55e" },
          { icon: "üîÑ", title: "Streaming", desc: "gRPC has native bidirectional streaming. REST needs WebSocket.", color: "#f59e0b" },
          { icon: "üåê", title: "Tooling", desc: "REST: widespread, easy debugging. gRPC: code generation, type safety.", color: "#8b5cf6" }
        ],
        formula: "Choose gRPC for internal, REST for external APIs",
        strategies: [
          { title: "gRPC for Internal", desc: "Service-to-service communication benefits from speed and types." },
          { title: "REST for Public", desc: "External APIs need accessibility, documentation, debugging." },
          { title: "gRPC-Web for Browsers", desc: "gRPC-Web or gRPC-Gateway for browser clients." },
          { title: "GraphQL Alternative", desc: "Consider GraphQL for flexible queries and client-driven data needs." }
        ],
        metrics: [
          { level: "REST", downtime: "HTTP/1.1, JSON", useCase: "Public APIs, web" },
          { level: "gRPC", downtime: "HTTP/2, Protobuf", useCase: "Microservices" },
          { level: "GraphQL", downtime: "Query language", useCase: "Flexible clients" },
          { level: "tRPC", downtime: "TypeScript native", useCase: "TS full-stack" }
        ]
      },
      "backward-compatibility": {
        title: "Backward Compatibility",
        subtitle: "Ensuring new API versions work with existing clients.",
        badge: { text: "API", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .bc-viz { display: flex; flex-direction: column; gap: 24px; }
            .bc-changes { display: flex; gap: 16px; flex-wrap: wrap; justify-content: center; }
            .bc-change { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 10px; padding: 14px; width: 150px; text-align: center; }
            .bc-change-type { font-weight: 600; font-size: 0.9rem; margin-bottom: 8px; }
            .bc-change-list { font-size: 0.7rem; color: #a0a0b0; text-align: left; }
            .bc-safe { border: 1px solid rgba(34, 197, 94, 0.3); }
            .bc-safe .bc-change-type { color: #22c55e; }
            .bc-breaking { border: 1px solid rgba(239, 68, 68, 0.3); }
            .bc-breaking .bc-change-type { color: #ef4444; }
            .bc-rule { background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 16px; text-align: center; }
            .bc-rule-text { font-size: 0.9rem; color: #6366f1; font-weight: 600; }
          </style>
          <div class="bc-viz">
            <div class="bc-changes">
              <div class="bc-change bc-safe">
                <div class="bc-change-type">‚úì Safe Changes</div>
                <div class="bc-change-list">‚Ä¢ Add optional field<br>‚Ä¢ Add new endpoint<br>‚Ä¢ Add enum value<br>‚Ä¢ Widen type (int‚Üílong)</div>
              </div>
              <div class="bc-change bc-breaking">
                <div class="bc-change-type">‚úó Breaking Changes</div>
                <div class="bc-change-list">‚Ä¢ Remove field<br>‚Ä¢ Rename field<br>‚Ä¢ Change type<br>‚Ä¢ Make optional required</div>
              </div>
            </div>
            <div class="bc-rule">
              <div class="bc-rule-text">üìã Be liberal in what you accept, conservative in what you send</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Backward Compatibility</strong> ensures new API versions continue to work with existing clients. Breaking this trust forces clients to update, causing friction and potential outages.</p><p>Additive changes are safe; removals and modifications are dangerous.</p>`,
        keyPoints: [
          { icon: "‚ûï", title: "Additive Safe", desc: "New optional fields, endpoints, enum values don't break clients.", color: "#22c55e" },
          { icon: "‚ûñ", title: "Removal Breaks", desc: "Removing or renaming fields breaks clients expecting them.", color: "#ef4444" },
          { icon: "üîÑ", title: "Deprecation", desc: "Mark as deprecated, maintain for grace period, then remove.", color: "#f59e0b" },
          { icon: "üìã", title: "Postel's Law", desc: "Be liberal in what you accept, conservative in what you send.", color: "#6366f1" }
        ],
        formula: "Compatibility = Old Client + New Server = Works",
        strategies: [
          { title: "Add, Don't Remove", desc: "Add new fields/endpoints. Keep old ones working." },
          { title: "Ignore Unknown Fields", desc: "Clients should ignore fields they don't recognize." },
          { title: "Deprecation Period", desc: "Announce deprecation, wait 6-12 months, then remove." },
          { title: "Automated Checks", desc: "CI checks for breaking changes in OpenAPI/Proto schemas." }
        ],
        metrics: [
          { level: "Adding field", downtime: "Safe if optional", useCase: "Feature additions" },
          { level: "Removing field", downtime: "Breaking", useCase: "Needs versioning" },
          { level: "Type widening", downtime: "Usually safe", useCase: "int32 ‚Üí int64" },
          { level: "Type narrowing", downtime: "Breaking", useCase: "Avoid" }
        ]
      },
      "horizontal-vertical": {
        title: "Horizontal vs Vertical Scaling",
        subtitle: "Choosing between scaling out with more machines or scaling up with bigger machines.",
        badge: { text: "Scalability", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .hv-viz { display: flex; flex-direction: column; gap: 24px; }
            .hv-compare { display: flex; gap: 24px; justify-content: center; flex-wrap: wrap; }
            .hv-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 20px; width: 200px; text-align: center; }
            .hv-type-name { font-weight: 600; font-size: 1.1rem; margin-bottom: 12px; }
            .hv-visual { display: flex; gap: 4px; justify-content: center; margin-bottom: 12px; }
            .hv-box { width: 30px; height: 30px; border-radius: 4px; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.7rem; }
            .hv-features { font-size: 0.75rem; text-align: left; }
            .hv-feature { padding: 4px 0; }
            .hv-vert { border: 1px solid rgba(59, 130, 246, 0.3); }
            .hv-vert .hv-type-name { color: #3b82f6; }
            .hv-horz { border: 1px solid rgba(249, 115, 22, 0.3); }
            .hv-horz .hv-type-name { color: #f97316; }
          </style>
          <div class="hv-viz">
            <div class="hv-compare">
              <div class="hv-type hv-vert">
                <div class="hv-type-name">‚¨ÜÔ∏è Vertical</div>
                <div class="hv-visual"><div class="hv-box" style="background:#3b82f6;width:60px;height:60px;font-size:1rem">BIG</div></div>
                <div class="hv-features">
                  <div class="hv-feature">‚úì Simple, no code changes</div>
                  <div class="hv-feature">‚úì No distributed systems</div>
                  <div class="hv-feature">‚úó Hardware limits</div>
                  <div class="hv-feature">‚úó Single point of failure</div>
                </div>
              </div>
              <div class="hv-type hv-horz">
                <div class="hv-type-name">‚ÜîÔ∏è Horizontal</div>
                <div class="hv-visual">
                  <div class="hv-box" style="background:#f97316">üì¶</div>
                  <div class="hv-box" style="background:#f97316">üì¶</div>
                  <div class="hv-box" style="background:#f97316">üì¶</div>
                  <div class="hv-box" style="background:#f97316">üì¶</div>
                </div>
                <div class="hv-features">
                  <div class="hv-feature">‚úì Nearly unlimited scale</div>
                  <div class="hv-feature">‚úì Fault tolerant</div>
                  <div class="hv-feature">‚úó Requires stateless design</div>
                  <div class="hv-feature">‚úó Distributed complexity</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Vertical Scaling</strong> (scale up) adds more power to existing machines - more CPU, RAM, storage. <strong>Horizontal Scaling</strong> (scale out) adds more machines to distribute the load.</p><p>Most systems use a combination, starting vertical then adding horizontal as they grow.</p>`,
        keyPoints: [
          { icon: "‚¨ÜÔ∏è", title: "Vertical", desc: "Bigger machine. Simple but has limits. Best for databases.", color: "#3b82f6" },
          { icon: "‚ÜîÔ∏è", title: "Horizontal", desc: "More machines. Unlimited scale but requires stateless design.", color: "#f97316" },
          { icon: "üí∞", title: "Cost", desc: "Vertical has exponential cost. Horizontal uses commodity hardware.", color: "#22c55e" },
          { icon: "üîß", title: "Complexity", desc: "Horizontal adds distributed systems challenges (consistency, coordination).", color: "#ef4444" }
        ],
        formula: "Capacity = Machines √ó Performance per Machine",
        strategies: [
          { title: "Start Vertical", desc: "Scale up first - simpler and faster. Move to horizontal when needed." },
          { title: "Design for Horizontal", desc: "Build stateless services from the start for easy horizontal scaling." },
          { title: "Hybrid Approach", desc: "Use large instances for databases, many small for stateless services." },
          { title: "Auto-scaling", desc: "Horizontal enables elastic scaling based on demand." }
        ],
        metrics: [
          { level: "Vertical", downtime: "Minutes (upgrade)", useCase: "Databases, simple apps" },
          { level: "Horizontal", downtime: "Zero (add nodes)", useCase: "Web servers, APIs" },
          { level: "Hybrid", downtime: "Depends", useCase: "Most production systems" },
          { level: "Serverless", downtime: "Automatic", useCase: "Event-driven workloads" }
        ]
      },
      "stateless-services": {
        title: "Stateless Services",
        subtitle: "Designing services that don't store client state between requests.",
        badge: { text: "Scalability", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .ss-viz { display: flex; flex-direction: column; gap: 24px; }
            .ss-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .ss-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 180px; text-align: center; }
            .ss-type-name { font-weight: 600; font-size: 1rem; margin-bottom: 12px; }
            .ss-visual { font-size: 2rem; margin-bottom: 8px; }
            .ss-desc { font-size: 0.75rem; color: #a0a0b0; }
            .ss-stateful { border: 1px solid rgba(239, 68, 68, 0.3); }
            .ss-stateful .ss-type-name { color: #ef4444; }
            .ss-stateless { border: 1px solid rgba(34, 197, 94, 0.3); }
            .ss-stateless .ss-type-name { color: #22c55e; }
            .ss-where { background: rgba(249, 115, 22, 0.1); border-radius: 12px; padding: 16px; }
            .ss-where-title { font-weight: 600; color: #f97316; margin-bottom: 12px; text-align: center; }
            .ss-stores { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .ss-store { background: rgba(30, 35, 50, 0.8); padding: 10px 16px; border-radius: 6px; font-size: 0.8rem; color: #e5e5e5; }
          </style>
          <div class="ss-viz">
            <div class="ss-compare">
              <div class="ss-type ss-stateful">
                <div class="ss-type-name">‚ùå Stateful</div>
                <div class="ss-visual">üñ•Ô∏èüíæ</div>
                <div class="ss-desc">Server stores session data. Sticky sessions needed. Hard to scale.</div>
              </div>
              <div class="ss-type ss-stateless">
                <div class="ss-type-name">‚úì Stateless</div>
                <div class="ss-visual">üñ•Ô∏è</div>
                <div class="ss-desc">No server state. Any instance handles any request. Easy to scale.</div>
              </div>
            </div>
            <div class="ss-where">
              <div class="ss-where-title">üì¶ Where to Store State</div>
              <div class="ss-stores">
                <div class="ss-store">üóÑÔ∏è Database</div>
                <div class="ss-store">üìÆ Redis</div>
                <div class="ss-store">üç™ Client (JWT)</div>
                <div class="ss-store">‚òÅÔ∏è Object Storage</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Stateless Services</strong> don't store client session data between requests. Each request contains all information needed to process it, or state is stored externally.</p><p>Statelessness enables horizontal scaling, load balancing, and fault tolerance.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "External State", desc: "Move state to databases, Redis, or client-side (JWT).", color: "#f97316" },
          { icon: "‚ÜîÔ∏è", title: "Any Instance", desc: "Any server can handle any request. No sticky sessions.", color: "#22c55e" },
          { icon: "üîÑ", title: "Easy Scaling", desc: "Add/remove instances freely. No session migration.", color: "#3b82f6" },
          { icon: "üí™", title: "Resilience", desc: "Instance failure doesn't lose user sessions.", color: "#8b5cf6" }
        ],
        formula: "Stateless = All State in Request or External Store",
        strategies: [
          { title: "Use JWTs", desc: "Client-side tokens contain user identity, no server lookup needed." },
          { title: "Redis for Sessions", desc: "Centralized session store accessible by all instances." },
          { title: "Database for Persistence", desc: "Durable state in database, cache for performance." },
          { title: "Avoid Local Files", desc: "Use object storage (S3) for file uploads, not local disk." }
        ],
        metrics: [
          { level: "JWT Tokens", downtime: "Client-side auth", useCase: "Authentication" },
          { level: "Redis Sessions", downtime: "Shared session store", useCase: "Web sessions" },
          { level: "Database", downtime: "Persistent state", useCase: "User data" },
          { level: "Object Storage", downtime: "S3, GCS", useCase: "File uploads" }
        ]
      },
      "read-replicas": {
        title: "Read Replicas",
        subtitle: "Scaling read-heavy workloads by replicating data to multiple nodes.",
        badge: { text: "Scalability", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .rr-viz { display: flex; flex-direction: column; gap: 24px; }
            .rr-arch { background: rgba(249, 115, 22, 0.1); border-radius: 12px; padding: 20px; }
            .rr-title { font-size: 0.85rem; color: #f97316; margin-bottom: 16px; font-weight: 600; text-align: center; }
            .rr-nodes { display: flex; align-items: flex-start; justify-content: center; gap: 24px; flex-wrap: wrap; }
            .rr-primary { text-align: center; }
            .rr-db { background: rgba(30, 35, 50, 0.8); border: 2px solid; border-radius: 10px; padding: 14px 20px; font-weight: 600; }
            .rr-db-icon { font-size: 1.5rem; margin-bottom: 4px; }
            .rr-primary .rr-db { border-color: #f97316; color: #f97316; }
            .rr-replica .rr-db { border-color: #3b82f6; color: #3b82f6; }
            .rr-label { font-size: 0.7rem; color: #a0a0b0; margin-top: 4px; }
            .rr-replicas { display: flex; gap: 12px; flex-wrap: wrap; }
            .rr-replica { text-align: center; }
            .rr-arrow { font-size: 1.5rem; color: #f97316; align-self: center; }
            .rr-ops { display: flex; gap: 16px; justify-content: center; flex-wrap: wrap; }
            .rr-op { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 8px; padding: 12px 20px; text-align: center; }
            .rr-op-type { font-weight: 600; font-size: 0.9rem; margin-bottom: 4px; }
            .rr-op-target { font-size: 0.75rem; color: #a0a0b0; }
          </style>
          <div class="rr-viz">
            <div class="rr-arch">
              <div class="rr-title">üìö Read Replica Architecture</div>
              <div class="rr-nodes">
                <div class="rr-primary"><div class="rr-db"><div class="rr-db-icon">üóÑÔ∏è</div>Primary</div><div class="rr-label">Writes</div></div>
                <span class="rr-arrow">‚Üí replication ‚Üí</span>
                <div class="rr-replicas">
                  <div class="rr-replica"><div class="rr-db"><div class="rr-db-icon">üìñ</div>Replica 1</div><div class="rr-label">Reads</div></div>
                  <div class="rr-replica"><div class="rr-db"><div class="rr-db-icon">üìñ</div>Replica 2</div><div class="rr-label">Reads</div></div>
                  <div class="rr-replica"><div class="rr-db"><div class="rr-db-icon">üìñ</div>Replica 3</div><div class="rr-label">Reads</div></div>
                </div>
              </div>
            </div>
            <div class="rr-ops">
              <div class="rr-op"><div class="rr-op-type" style="color:#f97316">‚úçÔ∏è Writes</div><div class="rr-op-target">‚Üí Primary only</div></div>
              <div class="rr-op"><div class="rr-op-type" style="color:#3b82f6">üìñ Reads</div><div class="rr-op-target">‚Üí Any replica</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Read Replicas</strong> are copies of the primary database that handle read queries. Writes go to the primary and are asynchronously replicated to replicas.</p><p>This scales read capacity linearly while introducing eventual consistency.</p>`,
        keyPoints: [
          { icon: "üìñ", title: "Read Scaling", desc: "Distribute reads across replicas. Linear read capacity increase.", color: "#f97316" },
          { icon: "‚úçÔ∏è", title: "Write to Primary", desc: "All writes go to primary. Single source of truth.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Replication Lag", desc: "Replicas may be slightly behind. Eventual consistency.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Failover", desc: "Replica can be promoted to primary if primary fails.", color: "#22c55e" }
        ],
        formula: "Read Capacity = Primary + (N √ó Replica Capacity)",
        strategies: [
          { title: "Route by Query Type", desc: "Writes to primary, reads to replicas. Use connection routing." },
          { title: "Handle Replication Lag", desc: "Read-after-write consistency: read from primary after writes." },
          { title: "Use for Analytics", desc: "Heavy analytics queries on replica to avoid impacting primary." },
          { title: "Geographic Replicas", desc: "Replicas in different regions reduce read latency globally." }
        ],
        metrics: [
          { level: "Async Replication", downtime: "Milliseconds lag", useCase: "Most use cases" },
          { level: "Sync Replication", downtime: "Zero lag", useCase: "Critical consistency" },
          { level: "Cross-Region", downtime: "Seconds lag", useCase: "Geographic distribution" },
          { level: "Read-After-Write", downtime: "Primary fallback", useCase: "User's own data" }
        ]
      },
      "write-amplification": {
        title: "Write Amplification",
        subtitle: "Understanding how writes multiply across indexes and replicas.",
        badge: { text: "Scalability", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .wa-viz { display: flex; flex-direction: column; gap: 24px; }
            .wa-flow { background: rgba(249, 115, 22, 0.1); border-radius: 12px; padding: 20px; }
            .wa-title { font-size: 0.85rem; color: #f97316; margin-bottom: 16px; font-weight: 600; text-align: center; }
            .wa-chain { display: flex; align-items: center; gap: 8px; justify-content: center; flex-wrap: wrap; }
            .wa-item { background: rgba(30, 35, 50, 0.8); border: 1px solid rgba(249, 115, 22, 0.3); border-radius: 8px; padding: 10px 14px; text-align: center; }
            .wa-item-count { font-size: 1.2rem; font-weight: 700; color: #f97316; }
            .wa-item-label { font-size: 0.7rem; color: #a0a0b0; }
            .wa-arrow { color: #f97316; font-size: 1.2rem; }
            .wa-result { background: rgba(239, 68, 68, 0.2); border: 1px solid #ef4444; border-radius: 8px; padding: 12px 20px; text-align: center; }
            .wa-result-count { font-size: 1.5rem; font-weight: 700; color: #ef4444; }
            .wa-result-label { font-size: 0.8rem; color: #ef4444; }
          </style>
          <div class="wa-viz">
            <div class="wa-flow">
              <div class="wa-title">üìù Write Amplification Example</div>
              <div class="wa-chain">
                <div class="wa-item"><div class="wa-item-count">1</div><div class="wa-item-label">User Write</div></div>
                <span class="wa-arrow">√ó</span>
                <div class="wa-item"><div class="wa-item-count">5</div><div class="wa-item-label">Indexes</div></div>
                <span class="wa-arrow">√ó</span>
                <div class="wa-item"><div class="wa-item-count">3</div><div class="wa-item-label">Replicas</div></div>
                <span class="wa-arrow">=</span>
                <div class="wa-result"><div class="wa-result-count">15</div><div class="wa-result-label">Actual Writes</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Write Amplification</strong> occurs when a single logical write results in multiple physical writes - to indexes, replicas, WAL, compaction. It affects storage efficiency and write throughput.</p><p>Understanding amplification helps design efficient schemas and choose appropriate databases.</p>`,
        keyPoints: [
          { icon: "üìá", title: "Indexes", desc: "Each index needs updating on write. More indexes = more writes.", color: "#f97316" },
          { icon: "üìã", title: "Replication", desc: "Each replica receives the write. N replicas = N writes.", color: "#3b82f6" },
          { icon: "üìù", title: "WAL/Journaling", desc: "Write-ahead log adds writes for durability.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Compaction", desc: "LSM trees amplify writes during compaction.", color: "#8b5cf6" }
        ],
        formula: "Amplification = Physical Writes / Logical Writes",
        strategies: [
          { title: "Minimize Indexes", desc: "Only create indexes that are actually used by queries." },
          { title: "Batch Writes", desc: "Combine multiple writes to amortize overhead." },
          { title: "Choose DB Wisely", desc: "B-trees vs LSM-trees have different amplification patterns." },
          { title: "Monitor Write IOPS", desc: "Track actual disk writes vs application writes." }
        ],
        metrics: [
          { level: "B-Tree", downtime: "Lower amplification", useCase: "Read-heavy workloads" },
          { level: "LSM-Tree", downtime: "Higher amplification", useCase: "Write-heavy workloads" },
          { level: "Per Index", downtime: "1x per index", useCase: "Schema design" },
          { level: "Per Replica", downtime: "1x per replica", useCase: "Replication config" }
        ]
      },
      "hotspot-avoidance": {
        title: "Hotspot Avoidance",
        subtitle: "Preventing uneven load distribution that overwhelms specific nodes.",
        badge: { text: "Scalability", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .ha-viz { display: flex; flex-direction: column; gap: 24px; }
            .ha-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .ha-dist { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border-radius: 12px; padding: 16px; width: 200px; }
            .ha-dist-title { font-weight: 600; font-size: 0.9rem; margin-bottom: 12px; text-align: center; }
            .ha-bars { display: flex; align-items: flex-end; gap: 6px; height: 80px; justify-content: center; }
            .ha-bar { width: 30px; border-radius: 4px 4px 0 0; }
            .ha-bad { border: 1px solid rgba(239, 68, 68, 0.3); }
            .ha-bad .ha-dist-title { color: #ef4444; }
            .ha-good { border: 1px solid rgba(34, 197, 94, 0.3); }
            .ha-good .ha-dist-title { color: #22c55e; }
            .ha-causes { display: flex; gap: 12px; flex-wrap: wrap; justify-content: center; }
            .ha-cause { background: rgba(239, 68, 68, 0.1); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 8px; padding: 10px 14px; font-size: 0.75rem; color: #ef4444; text-align: center; width: 120px; }
          </style>
          <div class="ha-viz">
            <div class="ha-compare">
              <div class="ha-dist ha-bad">
                <div class="ha-dist-title">‚ùå Hotspot</div>
                <div class="ha-bars">
                  <div class="ha-bar" style="height:20%;background:#6b7280"></div>
                  <div class="ha-bar" style="height:15%;background:#6b7280"></div>
                  <div class="ha-bar" style="height:100%;background:#ef4444"></div>
                  <div class="ha-bar" style="height:10%;background:#6b7280"></div>
                  <div class="ha-bar" style="height:18%;background:#6b7280"></div>
                </div>
              </div>
              <div class="ha-dist ha-good">
                <div class="ha-dist-title">‚úì Balanced</div>
                <div class="ha-bars">
                  <div class="ha-bar" style="height:55%;background:#22c55e"></div>
                  <div class="ha-bar" style="height:48%;background:#22c55e"></div>
                  <div class="ha-bar" style="height:52%;background:#22c55e"></div>
                  <div class="ha-bar" style="height:50%;background:#22c55e"></div>
                  <div class="ha-bar" style="height:45%;background:#22c55e"></div>
                </div>
              </div>
            </div>
            <div class="ha-causes">
              <div class="ha-cause">Sequential IDs</div>
              <div class="ha-cause">Popular Keys</div>
              <div class="ha-cause">Time-based</div>
              <div class="ha-cause">Bad Hashing</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Hotspots</strong> occur when load concentrates on specific partitions or nodes, causing them to become bottlenecks while others sit idle. This negates the benefits of horizontal scaling.</p><p>Common causes include sequential IDs, celebrity users, and time-based partitioning.</p>`,
        keyPoints: [
          { icon: "üîë", title: "Key Design", desc: "Sequential IDs cause all new writes to hit same partition.", color: "#ef4444" },
          { icon: "‚≠ê", title: "Celebrity Problem", desc: "Popular users/items create hot partitions.", color: "#f59e0b" },
          { icon: "üé≤", title: "Random Distribution", desc: "UUID keys distribute evenly but lose ordering.", color: "#22c55e" },
          { icon: "üîÑ", title: "Salting", desc: "Add random prefix to spread hot keys across partitions.", color: "#3b82f6" }
        ],
        formula: "Hot Partition = Max Load / Average Load",
        strategies: [
          { title: "Use UUIDs or Hashed Keys", desc: "Random distribution prevents sequential hotspots." },
          { title: "Salt Hot Keys", desc: "Add random suffix to celebrity user IDs to spread load." },
          { title: "Time-Based Partitions", desc: "Use consistent hashing, not pure time-based partitions." },
          { title: "Monitor Partition Metrics", desc: "Track per-partition load to detect hotspots early." }
        ],
        metrics: [
          { level: "Sequential ID", downtime: "Creates hotspots", useCase: "Avoid for partitioning" },
          { level: "UUID", downtime: "Even distribution", useCase: "Random access" },
          { level: "Hash(key)", downtime: "Predictable spread", useCase: "Consistent hashing" },
          { level: "Salted Key", downtime: "Spread hot keys", useCase: "Celebrity problem" }
        ]
      },
      "traffic-shaping": {
        title: "Traffic Shaping",
        subtitle: "Controlling the rate and priority of network traffic.",
        badge: { text: "Scalability", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .ts-viz { display: flex; flex-direction: column; gap: 24px; }
            .ts-compare { display: flex; gap: 20px; justify-content: center; flex-wrap: wrap; }
            .ts-type { background: linear-gradient(145deg, rgba(20, 25, 40, 0.8), rgba(15, 20, 35, 0.9)); border: 1px solid rgba(249, 115, 22, 0.3); border-radius: 12px; padding: 16px; width: 160px; text-align: center; }
            .ts-type-icon { font-size: 2rem; margin-bottom: 8px; }
            .ts-type-name { font-weight: 600; color: #f97316; font-size: 0.95rem; margin-bottom: 4px; }
            .ts-type-desc { font-size: 0.7rem; color: #a0a0b0; }
            .ts-flow { background: rgba(249, 115, 22, 0.1); border-radius: 12px; padding: 16px; }
            .ts-flow-title { font-weight: 600; color: #f97316; margin-bottom: 12px; text-align: center; }
            .ts-flow-visual { display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .ts-flow-item { padding: 10px 16px; border-radius: 6px; font-size: 0.8rem; font-weight: 600; }
          </style>
          <div class="ts-viz">
            <div class="ts-compare">
              <div class="ts-type"><div class="ts-type-icon">üö¶</div><div class="ts-type-name">Rate Limiting</div><div class="ts-type-desc">Cap requests per time window</div></div>
              <div class="ts-type"><div class="ts-type-icon">‚è≥</div><div class="ts-type-name">Throttling</div><div class="ts-type-desc">Slow down excess traffic</div></div>
              <div class="ts-type"><div class="ts-type-icon">‚≠ê</div><div class="ts-type-name">Prioritization</div><div class="ts-type-desc">VIP traffic first</div></div>
            </div>
            <div class="ts-flow">
              <div class="ts-flow-title">üîÄ Traffic Flow Control</div>
              <div class="ts-flow-visual">
                <div class="ts-flow-item" style="background:#ef4444;color:white">Burst üåä</div>
                <span style="color:#f97316">‚Üí</span>
                <div class="ts-flow-item" style="background:#f97316;color:white">Queue/Shape</div>
                <span style="color:#f97316">‚Üí</span>
                <div class="ts-flow-item" style="background:#22c55e;color:white">Smooth Flow ~~~</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Traffic Shaping</strong> controls the volume and rate of traffic to protect systems from overload. It smooths bursts, prioritizes important traffic, and ensures fair resource allocation.</p><p>Techniques include rate limiting, queuing, prioritization, and load shedding.</p>`,
        keyPoints: [
          { icon: "üö¶", title: "Rate Limiting", desc: "Hard cap on requests per time window. Reject excess.", color: "#f97316" },
          { icon: "‚è≥", title: "Traffic Smoothing", desc: "Queue and delay bursts to create steady flow.", color: "#3b82f6" },
          { icon: "‚≠ê", title: "Priority Queues", desc: "Process VIP/critical traffic before best-effort.", color: "#22c55e" },
          { icon: "üóëÔ∏è", title: "Load Shedding", desc: "Drop low-priority traffic during overload.", color: "#ef4444" }
        ],
        formula: "Shaped Output = min(Input Rate, Capacity) with Queuing",
        strategies: [
          { title: "Tiered Limits", desc: "Different rate limits for different user tiers (free, paid, enterprise)." },
          { title: "Priority Lanes", desc: "Separate queues for critical operations (auth, payments) vs bulk." },
          { title: "Backpressure", desc: "Signal to callers to slow down when approaching limits." },
          { title: "Circuit Breakers", desc: "Stop sending traffic to failing dependencies." }
        ],
        metrics: [
          { level: "Token Bucket", downtime: "Smooth bursts", useCase: "API rate limiting" },
          { level: "Leaky Bucket", downtime: "Constant rate", useCase: "Traffic smoothing" },
          { level: "Priority Queue", downtime: "Tiered processing", useCase: "QoS" },
          { level: "Load Shedding", downtime: "Drop low priority", useCase: "Overload protection" }
        ]
      },

      // ============================================
      // FRONTEND CONCEPTS
      // ============================================

      // Core Frontend Principles
      "fe-usability": {
        title: "Usability",
        subtitle: "The measure of how easy and intuitive an interface is for users to accomplish their goals efficiently.",
        badge: { text: "Core Principle", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .usability-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .usability-pillars { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; }
            .usability-pillar { background: linear-gradient(145deg, rgba(245, 158, 11, 0.1), rgba(245, 158, 11, 0.05)); border: 1px solid rgba(245, 158, 11, 0.3); border-radius: 12px; padding: 20px; text-align: center; transition: transform 0.3s; }
            .usability-pillar:hover { transform: translateY(-4px); }
            .pillar-icon { font-size: 2rem; margin-bottom: 8px; }
            .pillar-title { font-size: 0.85rem; font-weight: 600; color: #f59e0b; margin-bottom: 4px; }
            .pillar-desc { font-size: 0.7rem; color: #a0a0b0; }
            .usability-flow { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .flow-title { font-size: 0.8rem; color: #f59e0b; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .flow-steps { display: flex; align-items: center; justify-content: center; gap: 8px; flex-wrap: wrap; }
            .flow-step { background: rgba(245, 158, 11, 0.15); border-radius: 8px; padding: 10px 16px; font-size: 0.75rem; color: #e5e5e5; }
            .flow-arrow { color: #f59e0b; }
          </style>
          <div class="usability-viz">
            <div class="usability-pillars">
              <div class="usability-pillar"><div class="pillar-icon">üéØ</div><div class="pillar-title">Learnability</div><div class="pillar-desc">Easy to learn first time</div></div>
              <div class="usability-pillar"><div class="pillar-icon">‚ö°</div><div class="pillar-title">Efficiency</div><div class="pillar-desc">Quick task completion</div></div>
              <div class="usability-pillar"><div class="pillar-icon">üß†</div><div class="pillar-title">Memorability</div><div class="pillar-desc">Easy to remember</div></div>
              <div class="usability-pillar"><div class="pillar-icon">üõ°Ô∏è</div><div class="pillar-title">Error Prevention</div><div class="pillar-desc">Minimize mistakes</div></div>
              <div class="usability-pillar"><div class="pillar-icon">üòä</div><div class="pillar-title">Satisfaction</div><div class="pillar-desc">Pleasant to use</div></div>
            </div>
            <div class="usability-flow">
              <div class="flow-title">User-Centered Design Process</div>
              <div class="flow-steps">
                <div class="flow-step">Research</div><span class="flow-arrow">‚Üí</span>
                <div class="flow-step">Prototype</div><span class="flow-arrow">‚Üí</span>
                <div class="flow-step">Test</div><span class="flow-arrow">‚Üí</span>
                <div class="flow-step">Iterate</div><span class="flow-arrow">‚Üí</span>
                <div class="flow-step">Ship</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Usability</strong> refers to how effectively, efficiently, and satisfactorily users can interact with an interface to achieve their goals. It's a core quality attribute that directly impacts user adoption and retention.</p><p>Good usability reduces learning curves, minimizes errors, and creates positive user experiences that drive engagement.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "Learnability", desc: "New users can quickly understand how to use the interface without extensive training.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Efficiency", desc: "Experienced users can accomplish tasks quickly with minimal steps.", color: "#3b82f6" },
          { icon: "üß†", title: "Memorability", desc: "Users can easily remember how to use the interface after periods of non-use.", color: "#8b5cf6" },
          { icon: "üõ°Ô∏è", title: "Error Handling", desc: "The system prevents errors and helps users recover gracefully when they occur.", color: "#10b981" }
        ],
        formula: "Usability = Effectiveness √ó Efficiency √ó Satisfaction",
        strategies: [
          { title: "User Research", desc: "Conduct user interviews, surveys, and observation to understand real needs." },
          { title: "Usability Testing", desc: "Test with real users early and often. Watch them complete tasks." },
          { title: "Heuristic Evaluation", desc: "Apply Nielsen's 10 usability heuristics to identify issues." },
          { title: "Analytics & Metrics", desc: "Track task completion rates, time on task, and error rates." }
        ],
        metrics: [
          { level: "Task Success Rate", downtime: "% completing tasks", useCase: "Effectiveness" },
          { level: "Time on Task", downtime: "Seconds to complete", useCase: "Efficiency" },
          { level: "Error Rate", downtime: "Errors per task", useCase: "Error prevention" },
          { level: "SUS Score", downtime: "System Usability Scale", useCase: "Satisfaction" }
        ]
      },
      "fe-accessibility-principle": {
        title: "Accessibility (a11y)",
        subtitle: "Designing and building interfaces that are usable by people of all abilities and disabilities.",
        badge: { text: "Core Principle", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `
          <style>
            .a11y-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .a11y-users { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; }
            .a11y-user { background: linear-gradient(145deg, rgba(34, 197, 94, 0.1), rgba(34, 197, 94, 0.05)); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 10px; padding: 16px; text-align: center; }
            .user-icon { font-size: 1.8rem; margin-bottom: 6px; }
            .user-type { font-size: 0.75rem; color: #22c55e; font-weight: 600; }
            .a11y-pour { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .pour-title { font-size: 0.85rem; color: #22c55e; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .pour-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 10px; }
            .pour-item { background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; text-align: center; }
            .pour-letter { font-size: 1.5rem; font-weight: 700; color: #22c55e; }
            .pour-name { font-size: 0.7rem; color: #a0a0b0; margin-top: 4px; }
          </style>
          <div class="a11y-viz">
            <div class="a11y-users">
              <div class="a11y-user"><div class="user-icon">üëÅÔ∏è</div><div class="user-type">Visual</div></div>
              <div class="a11y-user"><div class="user-icon">üëÇ</div><div class="user-type">Auditory</div></div>
              <div class="a11y-user"><div class="user-icon">üñêÔ∏è</div><div class="user-type">Motor</div></div>
              <div class="a11y-user"><div class="user-icon">üß†</div><div class="user-type">Cognitive</div></div>
              <div class="a11y-user"><div class="user-icon">‚ö°</div><div class="user-type">Temporary</div></div>
              <div class="a11y-user"><div class="user-icon">üìç</div><div class="user-type">Situational</div></div>
            </div>
            <div class="a11y-pour">
              <div class="pour-title">WCAG POUR Principles</div>
              <div class="pour-grid">
                <div class="pour-item"><div class="pour-letter">P</div><div class="pour-name">Perceivable</div></div>
                <div class="pour-item"><div class="pour-letter">O</div><div class="pour-name">Operable</div></div>
                <div class="pour-item"><div class="pour-letter">U</div><div class="pour-name">Understandable</div></div>
                <div class="pour-item"><div class="pour-letter">R</div><div class="pour-name">Robust</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Accessibility (a11y)</strong> ensures that digital products are usable by everyone, including people with visual, auditory, motor, and cognitive disabilities. It's not just ethical‚Äîit's often legally required.</p><p>Accessible design benefits everyone: captions help in noisy environments, keyboard navigation helps power users, and clear layouts help cognitive load.</p>`,
        keyPoints: [
          { icon: "üèóÔ∏è", title: "Semantic HTML", desc: "Use proper HTML elements that convey meaning to assistive technologies.", color: "#22c55e" },
          { icon: "‚å®Ô∏è", title: "Keyboard Access", desc: "All functionality must be accessible via keyboard alone.", color: "#3b82f6" },
          { icon: "üì¢", title: "Screen Readers", desc: "Content must be announced correctly by screen reading software.", color: "#8b5cf6" },
          { icon: "üé®", title: "Visual Design", desc: "Sufficient color contrast, focus indicators, and text sizing.", color: "#f59e0b" }
        ],
        formula: "WCAG 2.1 Level AA = Minimum Standard for Web Accessibility",
        strategies: [
          { title: "Start with Semantics", desc: "Use proper HTML elements: buttons, headings, lists, landmarks." },
          { title: "Test with Keyboard", desc: "Navigate your entire app using only Tab, Enter, and arrow keys." },
          { title: "Use Screen Readers", desc: "Test with VoiceOver (Mac), NVDA (Windows), or TalkBack (Android)." },
          { title: "Automated Testing", desc: "Use axe, Lighthouse, or WAVE to catch common issues." }
        ],
        metrics: [
          { level: "WCAG A", downtime: "Basic", useCase: "Minimum compliance" },
          { level: "WCAG AA", downtime: "Standard", useCase: "Legal requirement" },
          { level: "WCAG AAA", downtime: "Enhanced", useCase: "Best practice" },
          { level: "Section 508", downtime: "US Federal", useCase: "Government" }
        ]
      },
      "fe-performance-principle": {
        title: "Performance",
        subtitle: "The speed and responsiveness of an application as perceived by users.",
        badge: { text: "Core Principle", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .perf-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .perf-metrics { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; }
            .perf-metric { background: linear-gradient(145deg, rgba(236, 72, 153, 0.1), rgba(236, 72, 153, 0.05)); border: 1px solid rgba(236, 72, 153, 0.3); border-radius: 12px; padding: 16px; text-align: center; }
            .metric-value { font-size: 1.8rem; font-weight: 700; color: #ec4899; }
            .metric-name { font-size: 0.75rem; color: #a0a0b0; margin-top: 4px; }
            .metric-target { font-size: 0.65rem; color: #22c55e; margin-top: 4px; }
            .perf-timeline { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .timeline-title { font-size: 0.8rem; color: #ec4899; font-weight: 600; margin-bottom: 16px; }
            .timeline-bar { height: 30px; background: #1a1f2e; border-radius: 6px; display: flex; overflow: hidden; }
            .timeline-seg { display: flex; align-items: center; justify-content: center; font-size: 0.6rem; color: white; font-weight: 600; }
          </style>
          <div class="perf-viz">
            <div class="perf-metrics">
              <div class="perf-metric"><div class="metric-value">LCP</div><div class="metric-name">Largest Contentful Paint</div><div class="metric-target">< 2.5s</div></div>
              <div class="perf-metric"><div class="metric-value">INP</div><div class="metric-name">Interaction to Next Paint</div><div class="metric-target">< 200ms</div></div>
              <div class="perf-metric"><div class="metric-value">CLS</div><div class="metric-name">Cumulative Layout Shift</div><div class="metric-target">< 0.1</div></div>
              <div class="perf-metric"><div class="metric-value">TTFB</div><div class="metric-name">Time to First Byte</div><div class="metric-target">< 800ms</div></div>
            </div>
            <div class="perf-timeline">
              <div class="timeline-title">Page Load Timeline</div>
              <div class="timeline-bar">
                <div class="timeline-seg" style="flex: 1; background: #3b82f6;">DNS</div>
                <div class="timeline-seg" style="flex: 1; background: #8b5cf6;">TCP</div>
                <div class="timeline-seg" style="flex: 2; background: #ec4899;">TTFB</div>
                <div class="timeline-seg" style="flex: 3; background: #f59e0b;">Download</div>
                <div class="timeline-seg" style="flex: 2; background: #22c55e;">Parse</div>
                <div class="timeline-seg" style="flex: 2; background: #06b6d4;">Render</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Frontend Performance</strong> directly impacts user experience, conversion rates, and SEO rankings. Users expect pages to load in under 3 seconds and interactions to feel instant (< 100ms).</p><p>Core Web Vitals (LCP, INP, CLS) are Google's key metrics for measuring real-world performance.</p>`,
        keyPoints: [
          { icon: "üñºÔ∏è", title: "LCP", desc: "Largest Contentful Paint measures when main content is visible. Target < 2.5s.", color: "#ec4899" },
          { icon: "üëÜ", title: "INP", desc: "Interaction to Next Paint measures responsiveness. Target < 200ms.", color: "#3b82f6" },
          { icon: "üìê", title: "CLS", desc: "Cumulative Layout Shift measures visual stability. Target < 0.1.", color: "#f59e0b" },
          { icon: "‚ö°", title: "TTFB", desc: "Time to First Byte measures server response time. Target < 800ms.", color: "#22c55e" }
        ],
        formula: "Performance Score = Weighted Average of Core Web Vitals",
        strategies: [
          { title: "Optimize Critical Path", desc: "Minimize render-blocking resources. Inline critical CSS." },
          { title: "Lazy Load", desc: "Defer loading of below-fold images and non-critical JavaScript." },
          { title: "Compress Assets", desc: "Use modern formats (WebP, AVIF) and compression (Brotli, gzip)." },
          { title: "CDN & Caching", desc: "Serve assets from edge locations with proper cache headers." }
        ],
        metrics: [
          { level: "Good", downtime: "LCP < 2.5s", useCase: "Green score" },
          { level: "Needs Work", downtime: "LCP 2.5-4s", useCase: "Yellow score" },
          { level: "Poor", downtime: "LCP > 4s", useCase: "Red score" },
          { level: "Lighthouse", downtime: "90+ score", useCase: "Target" }
        ]
      },
      "fe-maintainability": {
        title: "Maintainability",
        subtitle: "How easily code can be understood, modified, and extended over time.",
        badge: { text: "Core Principle", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .maint-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .maint-pillars { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; }
            .maint-pillar { background: linear-gradient(145deg, rgba(139, 92, 246, 0.1), rgba(139, 92, 246, 0.05)); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; padding: 18px; text-align: center; }
            .m-icon { font-size: 1.8rem; margin-bottom: 8px; }
            .m-title { font-size: 0.8rem; font-weight: 600; color: #8b5cf6; }
            .m-desc { font-size: 0.65rem; color: #a0a0b0; margin-top: 4px; }
            .maint-code { background: rgba(30, 35, 50, 0.8); border-radius: 12px; padding: 20px; font-family: 'JetBrains Mono', monospace; }
            .code-title { font-size: 0.75rem; color: #8b5cf6; margin-bottom: 12px; }
            .code-line { font-size: 0.7rem; color: #a0a0b0; padding: 2px 0; }
            .code-good { color: #22c55e; }
            .code-bad { color: #ef4444; text-decoration: line-through; }
          </style>
          <div class="maint-viz">
            <div class="maint-pillars">
              <div class="maint-pillar"><div class="m-icon">üìñ</div><div class="m-title">Readability</div><div class="m-desc">Clear, self-documenting code</div></div>
              <div class="maint-pillar"><div class="m-icon">üß©</div><div class="m-title">Modularity</div><div class="m-desc">Single responsibility</div></div>
              <div class="maint-pillar"><div class="m-icon">üß™</div><div class="m-title">Testability</div><div class="m-desc">Easy to test in isolation</div></div>
              <div class="maint-pillar"><div class="m-icon">üìù</div><div class="m-title">Documentation</div><div class="m-desc">Clear API contracts</div></div>
              <div class="maint-pillar"><div class="m-icon">üîÑ</div><div class="m-title">Consistency</div><div class="m-desc">Uniform patterns</div></div>
            </div>
            <div class="maint-code">
              <div class="code-title">Clean Code Example</div>
              <div class="code-line code-bad">// Bad: const d = getData().filter(x => x.a > 5);</div>
              <div class="code-line code-good">// Good: const activeUsers = users.filter(user => user.age > 18);</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Maintainability</strong> is the ease with which a codebase can be modified to fix bugs, add features, or improve performance. It's crucial for long-term project success.</p><p>Maintainable code saves time, reduces bugs, and makes onboarding new developers faster.</p>`,
        keyPoints: [
          { icon: "üìñ", title: "Readability", desc: "Code should be self-explanatory with clear naming and structure.", color: "#8b5cf6" },
          { icon: "üß©", title: "Modularity", desc: "Break code into small, focused units with single responsibilities.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Consistency", desc: "Follow established patterns and conventions throughout the codebase.", color: "#22c55e" },
          { icon: "üß™", title: "Testability", desc: "Design components to be easily tested in isolation.", color: "#f59e0b" }
        ],
        formula: "Technical Debt = Time to Fix Issues √ó Probability of Issues",
        strategies: [
          { title: "Code Reviews", desc: "Mandatory peer reviews catch issues early and share knowledge." },
          { title: "Linting & Formatting", desc: "Automated tools enforce consistent style and catch errors." },
          { title: "Refactoring", desc: "Regular refactoring prevents technical debt accumulation." },
          { title: "Documentation", desc: "Document architecture decisions and complex business logic." }
        ],
        metrics: [
          { level: "Cyclomatic Complexity", downtime: "< 10 per function", useCase: "Complexity" },
          { level: "Code Duplication", downtime: "< 5%", useCase: "DRY principle" },
          { level: "Test Coverage", downtime: "> 80%", useCase: "Confidence" },
          { level: "Dependency Age", downtime: "< 1 year old", useCase: "Security" }
        ]
      },
      "fe-scalability": {
        title: "Scalability",
        subtitle: "The ability of a frontend application to handle growth in users, features, and codebase size.",
        badge: { text: "Core Principle", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `
          <style>
            .scale-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .scale-types { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
            .scale-type { background: linear-gradient(145deg, rgba(6, 182, 212, 0.1), rgba(6, 182, 212, 0.05)); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 20px; text-align: center; }
            .scale-icon { font-size: 2rem; margin-bottom: 8px; }
            .scale-title { font-size: 0.85rem; font-weight: 600; color: #06b6d4; }
            .scale-desc { font-size: 0.7rem; color: #a0a0b0; margin-top: 6px; }
            .scale-growth { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .growth-title { font-size: 0.8rem; color: #06b6d4; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .growth-bars { display: flex; gap: 16px; align-items: flex-end; justify-content: center; height: 100px; }
            .growth-bar { width: 40px; background: linear-gradient(to top, #06b6d4, #0891b2); border-radius: 4px 4px 0 0; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 8px; font-size: 0.6rem; color: white; }
          </style>
          <div class="scale-viz">
            <div class="scale-types">
              <div class="scale-type"><div class="scale-icon">üë•</div><div class="scale-title">User Scale</div><div class="scale-desc">Handle more concurrent users</div></div>
              <div class="scale-type"><div class="scale-icon">üì¶</div><div class="scale-title">Feature Scale</div><div class="scale-desc">Add features without slowdown</div></div>
              <div class="scale-type"><div class="scale-icon">üë®‚Äçüíª</div><div class="scale-title">Team Scale</div><div class="scale-desc">Multiple teams can work independently</div></div>
            </div>
            <div class="scale-growth">
              <div class="growth-title">Bundle Size vs Features Growth</div>
              <div class="growth-bars">
                <div class="growth-bar" style="height: 30%;">v1</div>
                <div class="growth-bar" style="height: 45%;">v2</div>
                <div class="growth-bar" style="height: 55%;">v3</div>
                <div class="growth-bar" style="height: 65%;">v4</div>
                <div class="growth-bar" style="height: 70%;">v5</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Frontend Scalability</strong> ensures applications remain performant and maintainable as they grow. This includes handling more users, features, and developers.</p><p>Key strategies include code splitting, modular architecture, and design systems.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Code Splitting", desc: "Load only the code needed for the current view.", color: "#06b6d4" },
          { icon: "üß±", title: "Modular Architecture", desc: "Organize code into independent, composable modules.", color: "#3b82f6" },
          { icon: "üé®", title: "Design Systems", desc: "Reusable components prevent duplication and ensure consistency.", color: "#8b5cf6" },
          { icon: "üèóÔ∏è", title: "Micro-Frontends", desc: "Split large apps into smaller, independently deployable units.", color: "#22c55e" }
        ],
        formula: "Scalable App = Lazy Loading + Modular Code + Shared Components",
        strategies: [
          { title: "Route-Based Splitting", desc: "Load page code only when navigating to that route." },
          { title: "Feature Modules", desc: "Organize code by feature for easier maintenance and splitting." },
          { title: "Component Library", desc: "Build a shared component library for consistency and reuse." },
          { title: "Monorepo", desc: "Use monorepo tooling (Nx, Turborepo) for multi-package projects." }
        ],
        metrics: [
          { level: "Bundle Size", downtime: "< 200KB initial", useCase: "Load time" },
          { level: "Time to Interactive", downtime: "< 3.8s", useCase: "Usability" },
          { level: "Components", downtime: "Reuse > 70%", useCase: "Efficiency" },
          { level: "Build Time", downtime: "< 5 min", useCase: "Developer experience" }
        ]
      },
      "fe-security-principle": {
        title: "Security",
        subtitle: "Protecting frontend applications from common vulnerabilities and attacks.",
        badge: { text: "Core Principle", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `
          <style>
            .sec-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .sec-threats { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 12px; }
            .sec-threat { background: linear-gradient(145deg, rgba(239, 68, 68, 0.1), rgba(239, 68, 68, 0.05)); border: 1px solid rgba(239, 68, 68, 0.3); border-radius: 10px; padding: 14px; text-align: center; }
            .threat-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .threat-name { font-size: 0.75rem; font-weight: 600; color: #ef4444; }
            .sec-layers { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .layers-title { font-size: 0.8rem; color: #22c55e; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .layer { background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 8px; padding: 10px 16px; margin-bottom: 8px; display: flex; align-items: center; gap: 12px; }
            .layer-icon { font-size: 1.2rem; }
            .layer-text { font-size: 0.75rem; color: #e5e5e5; }
          </style>
          <div class="sec-viz">
            <div class="sec-threats">
              <div class="sec-threat"><div class="threat-icon">üíâ</div><div class="threat-name">XSS</div></div>
              <div class="sec-threat"><div class="threat-icon">üîÑ</div><div class="threat-name">CSRF</div></div>
              <div class="sec-threat"><div class="threat-icon">üì¶</div><div class="threat-name">Supply Chain</div></div>
              <div class="sec-threat"><div class="threat-icon">üîì</div><div class="threat-name">Auth Bypass</div></div>
              <div class="sec-threat"><div class="threat-icon">üì°</div><div class="threat-name">Data Exposure</div></div>
            </div>
            <div class="sec-layers">
              <div class="layers-title">Defense Layers</div>
              <div class="layer"><span class="layer-icon">üõ°Ô∏è</span><span class="layer-text">Content Security Policy (CSP)</span></div>
              <div class="layer"><span class="layer-icon">üîê</span><span class="layer-text">Secure Cookie Settings</span></div>
              <div class="layer"><span class="layer-icon">üßπ</span><span class="layer-text">Input Sanitization</span></div>
              <div class="layer"><span class="layer-icon">üìã</span><span class="layer-text">Dependency Auditing</span></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Frontend Security</strong> involves protecting web applications from attacks that exploit client-side vulnerabilities. XSS and CSRF are the most common threats.</p><p>Security must be built into the development process, not added as an afterthought.</p>`,
        keyPoints: [
          { icon: "üíâ", title: "XSS Prevention", desc: "Escape user input, use CSP, avoid innerHTML with untrusted data.", color: "#ef4444" },
          { icon: "üîÑ", title: "CSRF Protection", desc: "Use anti-CSRF tokens and SameSite cookie attributes.", color: "#f59e0b" },
          { icon: "üì¶", title: "Dependency Security", desc: "Audit npm packages regularly for known vulnerabilities.", color: "#3b82f6" },
          { icon: "üîê", title: "Auth Security", desc: "Store tokens securely, implement proper session management.", color: "#22c55e" }
        ],
        formula: "Security = Defense in Depth + Least Privilege + Input Validation",
        strategies: [
          { title: "CSP Headers", desc: "Implement strict Content Security Policy to prevent XSS." },
          { title: "npm audit", desc: "Run npm audit regularly and fix vulnerabilities promptly." },
          { title: "HTTPS Only", desc: "Enforce HTTPS and use secure cookie flags." },
          { title: "Code Review", desc: "Review security-sensitive code changes carefully." }
        ],
        metrics: [
          { level: "npm audit", downtime: "0 high/critical", useCase: "Dependencies" },
          { level: "CSP", downtime: "Strict policy", useCase: "XSS prevention" },
          { level: "HTTPS", downtime: "100%", useCase: "Transport" },
          { level: "OWASP", downtime: "Top 10 covered", useCase: "Compliance" }
        ]
      },
      "fe-consistency": {
        title: "Consistency",
        subtitle: "Maintaining uniform patterns, behaviors, and visual design across the application.",
        badge: { text: "Core Principle", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .consist-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .consist-types { display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; }
            .consist-type { background: linear-gradient(145deg, rgba(99, 102, 241, 0.1), rgba(99, 102, 241, 0.05)); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 12px; padding: 18px; text-align: center; }
            .c-icon { font-size: 1.8rem; margin-bottom: 8px; }
            .c-title { font-size: 0.85rem; font-weight: 600; color: #6366f1; }
            .c-desc { font-size: 0.65rem; color: #a0a0b0; margin-top: 6px; }
            .consist-example { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; display: flex; gap: 20px; justify-content: center; }
            .btn-example { padding: 10px 20px; border-radius: 8px; font-size: 0.8rem; font-weight: 600; }
            .btn-good { background: #6366f1; color: white; border: none; }
            .btn-bad { background: #22c55e; color: white; border: 2px dashed #ef4444; }
          </style>
          <div class="consist-viz">
            <div class="consist-types">
              <div class="consist-type"><div class="c-icon">üé®</div><div class="c-title">Visual</div><div class="c-desc">Colors, spacing, typography</div></div>
              <div class="consist-type"><div class="c-icon">üîÑ</div><div class="c-title">Behavioral</div><div class="c-desc">Interactions, animations</div></div>
              <div class="consist-type"><div class="c-icon">üí¨</div><div class="c-title">Voice & Tone</div><div class="c-desc">Copy, messaging, labels</div></div>
            </div>
            <div class="consist-example">
              <button class="btn-example btn-good">‚úì Consistent Button</button>
              <button class="btn-example btn-bad">‚úó Inconsistent Button</button>
            </div>
          </div>
        `,
        definition: `<p><strong>Consistency</strong> means using the same patterns, components, and behaviors throughout an application. It reduces cognitive load and makes the interface predictable.</p><p>Design systems and component libraries are the primary tools for achieving consistency at scale.</p>`,
        keyPoints: [
          { icon: "üé®", title: "Visual Consistency", desc: "Uniform colors, typography, spacing, and iconography throughout.", color: "#6366f1" },
          { icon: "üîÑ", title: "Behavioral Consistency", desc: "Similar actions should work the same way everywhere.", color: "#3b82f6" },
          { icon: "üì¶", title: "Component Reuse", desc: "Use shared components instead of creating variations.", color: "#22c55e" },
          { icon: "üìù", title: "Documentation", desc: "Design system documentation ensures team alignment.", color: "#f59e0b" }
        ],
        formula: "Consistency = Design System + Component Library + Guidelines",
        strategies: [
          { title: "Design Tokens", desc: "Use tokens for colors, spacing, and typography values." },
          { title: "Component Library", desc: "Build and maintain a shared component library." },
          { title: "Pattern Library", desc: "Document common UI patterns and when to use them." },
          { title: "Design Reviews", desc: "Regular reviews ensure new features match existing patterns." }
        ],
        metrics: [
          { level: "Component Reuse", downtime: "> 80%", useCase: "Efficiency" },
          { level: "Design Tokens", downtime: "100% adoption", useCase: "Consistency" },
          { level: "Variants", downtime: "< 3 per component", useCase: "Simplicity" },
          { level: "Documentation", downtime: "100% coverage", useCase: "Clarity" }
        ]
      },
      "fe-progressive-enhancement": {
        title: "Progressive Enhancement",
        subtitle: "Building from a baseline of functionality that works for everyone, then enhancing for capable browsers.",
        badge: { text: "Core Principle", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .pe-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .pe-pyramid { display: flex; flex-direction: column; align-items: center; gap: 8px; }
            .pe-layer { display: flex; align-items: center; justify-content: center; color: white; font-size: 0.75rem; font-weight: 600; border-radius: 4px; }
            .pe-layer-1 { width: 100%; height: 50px; background: linear-gradient(90deg, #3b82f6, #1d4ed8); }
            .pe-layer-2 { width: 75%; height: 50px; background: linear-gradient(90deg, #8b5cf6, #6d28d9); }
            .pe-layer-3 { width: 50%; height: 50px; background: linear-gradient(90deg, #10b981, #059669); }
            .pe-labels { display: flex; justify-content: space-around; margin-top: 16px; }
            .pe-label { text-align: center; font-size: 0.7rem; color: #a0a0b0; }
            .pe-label strong { display: block; color: #e5e5e5; margin-bottom: 4px; }
          </style>
          <div class="pe-viz">
            <div class="pe-pyramid">
              <div class="pe-layer pe-layer-3">üé® Enhanced Experience</div>
              <div class="pe-layer pe-layer-2">‚ö° Interactive Features</div>
              <div class="pe-layer pe-layer-1">üìÑ Core Content & Functionality</div>
            </div>
            <div class="pe-labels">
              <div class="pe-label"><strong>HTML</strong>Content accessible to all</div>
              <div class="pe-label"><strong>CSS</strong>Visual enhancement</div>
              <div class="pe-label"><strong>JavaScript</strong>Interactive features</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Progressive Enhancement</strong> starts with a baseline of essential content and functionality that works for all users and devices, then adds layers of enhanced experience for more capable browsers.</p><p>This approach ensures resilience and broad accessibility.</p>`,
        keyPoints: [
          { icon: "üìÑ", title: "Content First", desc: "Core content and functionality work without JavaScript.", color: "#3b82f6" },
          { icon: "üé®", title: "Styled Second", desc: "CSS enhances presentation without breaking functionality.", color: "#8b5cf6" },
          { icon: "‚ö°", title: "Enhanced Third", desc: "JavaScript adds interactivity for capable browsers.", color: "#10b981" },
          { icon: "üåê", title: "Universal Access", desc: "Works on any device, browser, or connection speed.", color: "#f59e0b" }
        ],
        formula: "PE = HTML (Works) + CSS (Enhanced) + JS (Enriched)",
        strategies: [
          { title: "Semantic HTML", desc: "Use proper HTML elements that convey meaning without styling." },
          { title: "Server Rendering", desc: "Generate HTML on the server for initial content." },
          { title: "Feature Detection", desc: "Check for feature support before using it." },
          { title: "Fallbacks", desc: "Provide fallback experiences for missing features." }
        ],
        metrics: [
          { level: "No JS", downtime: "Core works", useCase: "Resilience" },
          { level: "Slow 3G", downtime: "Usable", useCase: "Performance" },
          { level: "Old Browser", downtime: "Functional", useCase: "Compatibility" },
          { level: "Screen Reader", downtime: "Accessible", useCase: "Accessibility" }
        ]
      },
      "fe-graceful-degradation": {
        title: "Graceful Degradation",
        subtitle: "Ensuring the application remains functional when features fail or are unavailable.",
        badge: { text: "Core Principle", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .gd-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .gd-scenarios { display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr)); gap: 16px; }
            .gd-scenario { background: linear-gradient(145deg, rgba(249, 115, 22, 0.1), rgba(249, 115, 22, 0.05)); border: 1px solid rgba(249, 115, 22, 0.3); border-radius: 12px; padding: 16px; text-align: center; }
            .gd-icon { font-size: 1.8rem; margin-bottom: 8px; }
            .gd-title { font-size: 0.8rem; font-weight: 600; color: #f97316; }
            .gd-desc { font-size: 0.65rem; color: #a0a0b0; margin-top: 4px; }
            .gd-flow { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .gd-flow-title { font-size: 0.8rem; color: #f97316; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .gd-steps { display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap; }
            .gd-step { background: rgba(249, 115, 22, 0.15); border-radius: 8px; padding: 10px 16px; font-size: 0.75rem; color: #e5e5e5; }
          </style>
          <div class="gd-viz">
            <div class="gd-scenarios">
              <div class="gd-scenario"><div class="gd-icon">üö´</div><div class="gd-title">JS Disabled</div><div class="gd-desc">Core functionality works</div></div>
              <div class="gd-scenario"><div class="gd-icon">üì¥</div><div class="gd-title">Offline</div><div class="gd-desc">Cached content available</div></div>
              <div class="gd-scenario"><div class="gd-icon">üêå</div><div class="gd-title">Slow Network</div><div class="gd-desc">Progressive loading</div></div>
              <div class="gd-scenario"><div class="gd-icon">‚ùå</div><div class="gd-title">API Failure</div><div class="gd-desc">Fallback content shown</div></div>
            </div>
            <div class="gd-flow">
              <div class="gd-flow-title">Degradation Strategy</div>
              <div class="gd-steps">
                <div class="gd-step">Detect Failure</div>
                <span style="color: #f97316;">‚Üí</span>
                <div class="gd-step">Show Fallback</div>
                <span style="color: #f97316;">‚Üí</span>
                <div class="gd-step">Log Error</div>
                <span style="color: #f97316;">‚Üí</span>
                <div class="gd-step">Retry When Possible</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Graceful Degradation</strong> ensures that when something goes wrong‚ÄîJavaScript fails, API is down, network is slow‚Äîthe application still provides a useful experience rather than breaking completely.</p><p>It's about planning for failure and building resilience into the system.</p>`,
        keyPoints: [
          { icon: "üõ°Ô∏è", title: "Error Boundaries", desc: "Catch and handle errors without crashing the entire app.", color: "#f97316" },
          { icon: "üì¶", title: "Fallback Content", desc: "Show cached or static content when dynamic content fails.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Retry Logic", desc: "Automatically retry failed operations with backoff.", color: "#22c55e" },
          { icon: "üí¨", title: "User Communication", desc: "Inform users about degraded functionality clearly.", color: "#8b5cf6" }
        ],
        formula: "Resilience = Error Handling + Fallbacks + Recovery + Communication",
        strategies: [
          { title: "Error Boundaries", desc: "Use React Error Boundaries or equivalent to catch component errors." },
          { title: "Service Workers", desc: "Cache critical assets for offline access." },
          { title: "Loading States", desc: "Show skeleton screens while content loads." },
          { title: "Retry Mechanisms", desc: "Implement retry with exponential backoff for failed requests." }
        ],
        metrics: [
          { level: "Error Rate", downtime: "< 1%", useCase: "Stability" },
          { level: "Recovery Time", downtime: "< 3s", useCase: "Resilience" },
          { level: "Offline Support", downtime: "Core features", useCase: "Availability" },
          { level: "User Impact", downtime: "Minimal", useCase: "Experience" }
        ]
      },
      "fe-cross-browser": {
        title: "Cross-Browser Compatibility",
        subtitle: "Ensuring consistent functionality and appearance across different browsers and versions.",
        badge: { text: "Core Principle", color: "#0ea5e9", bg: "rgba(14, 165, 233, 0.15)" },
        color: "#0ea5e9",
        diagram: `
          <style>
            .xb-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .xb-browsers { display: flex; justify-content: center; gap: 20px; flex-wrap: wrap; }
            .xb-browser { background: linear-gradient(145deg, rgba(14, 165, 233, 0.1), rgba(14, 165, 233, 0.05)); border: 1px solid rgba(14, 165, 233, 0.3); border-radius: 12px; padding: 16px 24px; text-align: center; }
            .browser-icon { font-size: 2rem; margin-bottom: 6px; }
            .browser-name { font-size: 0.75rem; color: #0ea5e9; font-weight: 600; }
            .xb-strategy { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .strat-title { font-size: 0.8rem; color: #0ea5e9; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .strat-items { display: grid; grid-template-columns: repeat(2, 1fr); gap: 12px; }
            .strat-item { background: rgba(14, 165, 233, 0.1); border-radius: 8px; padding: 12px; font-size: 0.75rem; color: #e5e5e5; display: flex; align-items: center; gap: 8px; }
          </style>
          <div class="xb-viz">
            <div class="xb-browsers">
              <div class="xb-browser"><div class="browser-icon">üåê</div><div class="browser-name">Chrome</div></div>
              <div class="xb-browser"><div class="browser-icon">ü¶ä</div><div class="browser-name">Firefox</div></div>
              <div class="xb-browser"><div class="browser-icon">üß≠</div><div class="browser-name">Safari</div></div>
              <div class="xb-browser"><div class="browser-icon">üìò</div><div class="browser-name">Edge</div></div>
            </div>
            <div class="xb-strategy">
              <div class="strat-title">Compatibility Strategies</div>
              <div class="strat-items">
                <div class="strat-item">üì¶ Autoprefixer for CSS</div>
                <div class="strat-item">üîÑ Babel for JS transpilation</div>
                <div class="strat-item">üîç Feature detection</div>
                <div class="strat-item">üß™ Cross-browser testing</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Cross-Browser Compatibility</strong> ensures your application works consistently across different browsers (Chrome, Firefox, Safari, Edge) and their versions.</p><p>Modern tooling like Babel and Autoprefixer automate most compatibility work, but testing remains essential.</p>`,
        keyPoints: [
          { icon: "üîß", title: "Transpilation", desc: "Use Babel to convert modern JS to compatible versions.", color: "#0ea5e9" },
          { icon: "üé®", title: "Autoprefixer", desc: "Automatically add vendor prefixes for CSS properties.", color: "#8b5cf6" },
          { icon: "üîç", title: "Feature Detection", desc: "Check for feature support before using it.", color: "#22c55e" },
          { icon: "üß™", title: "Testing", desc: "Test on real browsers using tools like BrowserStack.", color: "#f59e0b" }
        ],
        formula: "Compatibility = Modern Code + Transpilation + Polyfills + Testing",
        strategies: [
          { title: "Browserslist", desc: "Define target browsers in package.json for consistent tooling." },
          { title: "Polyfills", desc: "Use core-js or polyfill.io for missing browser features." },
          { title: "CSS Reset", desc: "Normalize browser defaults with a CSS reset or normalize.css." },
          { title: "Testing Matrix", desc: "Define and test against a specific browser matrix." }
        ],
        metrics: [
          { level: "Last 2 versions", downtime: "Standard", useCase: "Modern browsers" },
          { level: "> 1%", downtime: "Market share", useCase: "Popular browsers" },
          { level: "not dead", downtime: "Maintained", useCase: "Active browsers" },
          { level: "Safari iOS", downtime: "Specific", useCase: "Mobile" }
        ]
      },

      // Architecture & Design Patterns
      "fe-component-architecture": {
        title: "Component-Based Architecture",
        subtitle: "Building UIs from reusable, self-contained components that encapsulate structure, style, and behavior.",
        badge: { text: "Architecture", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `
          <style>
            .comp-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .comp-tree { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 24px; }
            .tree-title { font-size: 0.8rem; color: #8b5cf6; font-weight: 600; margin-bottom: 20px; text-align: center; }
            .tree-node { display: flex; flex-direction: column; align-items: center; }
            .node-box { background: linear-gradient(145deg, rgba(139, 92, 246, 0.2), rgba(139, 92, 246, 0.1)); border: 2px solid #8b5cf6; border-radius: 8px; padding: 10px 20px; font-size: 0.75rem; color: #e5e5e5; font-weight: 600; }
            .tree-children { display: flex; gap: 20px; margin-top: 16px; }
            .child-node { background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 6px; padding: 8px 14px; font-size: 0.7rem; color: #a0a0b0; }
            .comp-benefits { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; margin-top: 8px; }
            .benefit { background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; text-align: center; font-size: 0.7rem; color: #e5e5e5; }
            .benefit-icon { font-size: 1.3rem; margin-bottom: 4px; }
          </style>
          <div class="comp-viz">
            <div class="comp-tree">
              <div class="tree-title">Component Tree Structure</div>
              <div class="tree-node">
                <div class="node-box">üè† App</div>
                <div class="tree-children">
                  <div class="child-node">üìã Header</div>
                  <div class="child-node">üìÑ Main</div>
                  <div class="child-node">üìã Footer</div>
                </div>
              </div>
            </div>
            <div class="comp-benefits">
              <div class="benefit"><div class="benefit-icon">‚ôªÔ∏è</div>Reusability</div>
              <div class="benefit"><div class="benefit-icon">üß©</div>Composability</div>
              <div class="benefit"><div class="benefit-icon">üîí</div>Encapsulation</div>
            </div>
          </div>
        `,
        definition: `<p><strong>Component-Based Architecture</strong> is the foundation of modern frontend development. Components are self-contained units that combine HTML, CSS, and JavaScript into reusable pieces.</p>`,
        keyPoints: [
          { icon: "üß©", title: "Composition", desc: "Build complex UIs by composing smaller, simpler components.", color: "#8b5cf6" },
          { icon: "‚ôªÔ∏è", title: "Reusability", desc: "Components can be reused across different parts of the application.", color: "#3b82f6" },
          { icon: "üîí", title: "Encapsulation", desc: "Each component manages its own state, styles, and behavior.", color: "#22c55e" },
          { icon: "üì¶", title: "Props & State", desc: "Components receive data via props and manage internal state.", color: "#f59e0b" }
        ],
        formula: "UI = f(State) where Components are pure functions of their props",
        strategies: [
          { title: "Single Responsibility", desc: "Each component should do one thing well." },
          { title: "Props Down, Events Up", desc: "Data flows down via props, changes flow up via events." },
          { title: "Composition over Inheritance", desc: "Compose components rather than extending them." },
          { title: "Smart vs Dumb", desc: "Separate stateful containers from presentational components." }
        ],
        metrics: [
          { level: "Component Size", downtime: "< 200 lines", useCase: "Maintainability" },
          { level: "Props Count", downtime: "< 10", useCase: "API complexity" },
          { level: "Reuse Rate", downtime: "> 70%", useCase: "Efficiency" },
          { level: "Test Coverage", downtime: "> 80%", useCase: "Quality" }
        ]
      },
      "fe-atomic-design": {
        title: "Atomic Design",
        subtitle: "A methodology for creating design systems with five distinct levels: atoms, molecules, organisms, templates, and pages.",
        badge: { text: "Architecture", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `
          <style>
            .atomic-viz { display: flex; flex-direction: column; gap: 20px; padding: 20px; }
            .atomic-levels { display: flex; align-items: flex-end; justify-content: center; gap: 12px; height: 180px; }
            .atomic-level { display: flex; flex-direction: column; align-items: center; gap: 8px; }
            .level-bar { width: 60px; border-radius: 8px 8px 0 0; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 8px; font-size: 1.2rem; }
            .level-name { font-size: 0.7rem; color: #a0a0b0; text-align: center; }
            .level-1 { height: 40px; background: linear-gradient(to top, #ef4444, #dc2626); }
            .level-2 { height: 70px; background: linear-gradient(to top, #f59e0b, #d97706); }
            .level-3 { height: 100px; background: linear-gradient(to top, #22c55e, #16a34a); }
            .level-4 { height: 130px; background: linear-gradient(to top, #3b82f6, #1d4ed8); }
            .level-5 { height: 160px; background: linear-gradient(to top, #8b5cf6, #6d28d9); }
          </style>
          <div class="atomic-viz">
            <div class="atomic-levels">
              <div class="atomic-level"><div class="level-bar level-1">‚öõÔ∏è</div><div class="level-name">Atoms</div></div>
              <div class="atomic-level"><div class="level-bar level-2">üîó</div><div class="level-name">Molecules</div></div>
              <div class="atomic-level"><div class="level-bar level-3">üß¨</div><div class="level-name">Organisms</div></div>
              <div class="atomic-level"><div class="level-bar level-4">üìê</div><div class="level-name">Templates</div></div>
              <div class="atomic-level"><div class="level-bar level-5">üìÑ</div><div class="level-name">Pages</div></div>
            </div>
          </div>
        `,
        definition: `<p><strong>Atomic Design</strong> is Brad Frost's methodology for creating design systems. It breaks interfaces into five levels of abstraction.</p>`,
        keyPoints: [
          { icon: "‚öõÔ∏è", title: "Atoms", desc: "Basic HTML elements: buttons, inputs, labels, icons.", color: "#ef4444" },
          { icon: "üîó", title: "Molecules", desc: "Simple groups of atoms: search form, menu item.", color: "#f59e0b" },
          { icon: "üß¨", title: "Organisms", desc: "Complex components: header, card, navigation.", color: "#22c55e" },
          { icon: "üìê", title: "Templates", desc: "Page-level layouts showing content structure.", color: "#3b82f6" }
        ],
        formula: "Page = Template(Organisms(Molecules(Atoms)))",
        strategies: [
          { title: "Start Small", desc: "Begin with atoms and build up to more complex components." },
          { title: "Document Everything", desc: "Create a living style guide with examples of each level." },
          { title: "Consistent Naming", desc: "Use a naming convention that reflects the atomic hierarchy." },
          { title: "Storybook", desc: "Use Storybook to develop and showcase components in isolation." }
        ],
        metrics: [
          { level: "Atoms", downtime: "20-50", useCase: "Base elements" },
          { level: "Molecules", downtime: "30-100", useCase: "Simple groups" },
          { level: "Organisms", downtime: "20-50", useCase: "Complex sections" },
          { level: "Templates", downtime: "5-15", useCase: "Page layouts" }
        ]
      },
      "fe-container-presenter": {
        title: "Container‚ÄìPresenter Pattern",
        subtitle: "Separating components into smart containers (logic) and dumb presentational components (UI).",
        badge: { text: "Architecture", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `
          <style>
            .cp-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .cp-split { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .cp-side { border-radius: 12px; padding: 20px; }
            .cp-container { background: linear-gradient(145deg, rgba(59, 130, 246, 0.15), rgba(59, 130, 246, 0.05)); border: 1px solid rgba(59, 130, 246, 0.3); }
            .cp-presenter { background: linear-gradient(145deg, rgba(34, 197, 94, 0.15), rgba(34, 197, 94, 0.05)); border: 1px solid rgba(34, 197, 94, 0.3); }
            .cp-title { font-size: 0.85rem; font-weight: 600; margin-bottom: 12px; }
            .cp-container .cp-title { color: #3b82f6; }
            .cp-presenter .cp-title { color: #22c55e; }
            .cp-items { font-size: 0.7rem; color: #a0a0b0; }
            .cp-item { padding: 6px 0; }
          </style>
          <div class="cp-viz">
            <div class="cp-split">
              <div class="cp-side cp-container">
                <div class="cp-title">üß† Container (Smart)</div>
                <div class="cp-items">
                  <div class="cp-item">‚úì Fetches data</div>
                  <div class="cp-item">‚úì Manages state</div>
                  <div class="cp-item">‚úì Handles events</div>
                </div>
              </div>
              <div class="cp-side cp-presenter">
                <div class="cp-title">üé® Presenter (Dumb)</div>
                <div class="cp-items">
                  <div class="cp-item">‚úì Receives props</div>
                  <div class="cp-item">‚úì Renders UI</div>
                  <div class="cp-item">‚úì Emits events</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Container-Presenter</strong> pattern separates components by responsibility. Containers handle logic and state, while presenters focus purely on rendering UI.</p>`,
        keyPoints: [
          { icon: "üß†", title: "Containers", desc: "Handle data fetching, state management, and business logic.", color: "#3b82f6" },
          { icon: "üé®", title: "Presenters", desc: "Pure UI components that render based on props.", color: "#22c55e" },
          { icon: "üß™", title: "Testability", desc: "Presenters are easy to test as they're pure functions of props.", color: "#8b5cf6" },
          { icon: "‚ôªÔ∏è", title: "Reusability", desc: "Presenters can be reused with different containers.", color: "#f59e0b" }
        ],
        formula: "Container(state, handlers) ‚Üí Presenter(props) ‚Üí UI",
        strategies: [
          { title: "Hooks Replace Containers", desc: "Modern React uses hooks instead of container components." },
          { title: "Keep Presenters Pure", desc: "Presenters should have no side effects or state." },
          { title: "Prop Drilling Solution", desc: "Use Context or state management to avoid excessive prop drilling." },
          { title: "Co-location", desc: "Keep containers and presenters in the same directory." }
        ],
        metrics: [
          { level: "Pure Components", downtime: "> 70%", useCase: "Reusability" },
          { level: "Hook Usage", downtime: "Modern pattern", useCase: "Simplicity" },
          { level: "Test Coverage", downtime: "> 90% for presenters", useCase: "Quality" },
          { level: "Prop Count", downtime: "< 8 per component", useCase: "API surface" }
        ]
      },
      "fe-mvvm-mvc": {
        title: "MVVM / MVC",
        subtitle: "Architectural patterns that separate concerns between data, logic, and presentation layers.",
        badge: { text: "Architecture", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .mvc-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .mvc-patterns { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .mvc-pattern { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .pattern-title { font-size: 0.85rem; font-weight: 600; color: #ec4899; margin-bottom: 16px; text-align: center; }
            .pattern-flow { display: flex; flex-direction: column; gap: 8px; align-items: center; }
            .pattern-box { background: rgba(236, 72, 153, 0.15); border-radius: 8px; padding: 10px 20px; font-size: 0.75rem; color: #e5e5e5; }
          </style>
          <div class="mvc-viz">
            <div class="mvc-patterns">
              <div class="mvc-pattern">
                <div class="pattern-title">MVC Pattern</div>
                <div class="pattern-flow">
                  <div class="pattern-box">Model</div>
                  <span style="color: #ec4899;">‚Üï</span>
                  <div class="pattern-box">Controller</div>
                  <span style="color: #ec4899;">‚Üï</span>
                  <div class="pattern-box">View</div>
                </div>
              </div>
              <div class="mvc-pattern">
                <div class="pattern-title">MVVM Pattern</div>
                <div class="pattern-flow">
                  <div class="pattern-box">Model</div>
                  <span style="color: #ec4899;">‚Üï</span>
                  <div class="pattern-box">ViewModel</div>
                  <span style="color: #ec4899;">‚Üï</span>
                  <div class="pattern-box">View</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>MVC</strong> and <strong>MVVM</strong> are architectural patterns that separate data, presentation, and logic. Modern frameworks use variations of these patterns.</p>`,
        keyPoints: [
          { icon: "üìä", title: "Model", desc: "Data and business logic layer. Source of truth.", color: "#3b82f6" },
          { icon: "üëÅÔ∏è", title: "View", desc: "UI layer that displays data and captures user input.", color: "#22c55e" },
          { icon: "üéÆ", title: "Controller/ViewModel", desc: "Mediates between Model and View.", color: "#ec4899" },
          { icon: "üîó", title: "Data Binding", desc: "MVVM uses two-way binding between View and ViewModel.", color: "#f59e0b" }
        ],
        formula: "User Action ‚Üí Controller ‚Üí Model ‚Üí View Update",
        strategies: [
          { title: "React = View", desc: "React is primarily the View layer. Use state management for Model." },
          { title: "Hooks as ViewModel", desc: "Custom hooks can serve as the ViewModel layer in React." },
          { title: "Separation of Concerns", desc: "Keep UI, state, and business logic in separate layers." },
          { title: "Unidirectional Flow", desc: "Modern frameworks prefer one-way data flow." }
        ],
        metrics: [
          { level: "Angular", downtime: "MVVM-like", useCase: "Two-way binding" },
          { level: "React", downtime: "Flux/Redux", useCase: "Unidirectional" },
          { level: "Vue", downtime: "MVVM", useCase: "Options API" },
          { level: "Svelte", downtime: "Compiler-based", useCase: "Reactive" }
        ]
      },
      "fe-micro-frontends": {
        title: "Micro-Frontends",
        subtitle: "Architectural style where independently deliverable frontend applications compose into a greater whole.",
        badge: { text: "Architecture", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `
          <style>
            .mfe-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .mfe-shell { background: linear-gradient(145deg, rgba(16, 185, 129, 0.1), rgba(16, 185, 129, 0.05)); border: 2px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 16px; }
            .shell-title { font-size: 0.8rem; color: #10b981; font-weight: 600; text-align: center; margin-bottom: 16px; }
            .mfe-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; }
            .mfe-app { background: rgba(30, 35, 50, 0.8); border-radius: 8px; padding: 16px; text-align: center; }
            .mfe-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .mfe-name { font-size: 0.75rem; color: #e5e5e5; font-weight: 600; }
            .mfe-team { font-size: 0.6rem; color: #a0a0b0; }
          </style>
          <div class="mfe-viz">
            <div class="mfe-shell">
              <div class="shell-title">üèóÔ∏è App Shell (Container)</div>
              <div class="mfe-grid">
                <div class="mfe-app"><div class="mfe-icon">üõí</div><div class="mfe-name">Cart MFE</div><div class="mfe-team">Team A</div></div>
                <div class="mfe-app"><div class="mfe-icon">üì¶</div><div class="mfe-name">Product MFE</div><div class="mfe-team">Team B</div></div>
                <div class="mfe-app"><div class="mfe-icon">üë§</div><div class="mfe-name">User MFE</div><div class="mfe-team">Team C</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Micro-Frontends</strong> extend microservices concepts to the frontend. Each team owns a vertical slice of the product, from database to UI.</p>`,
        keyPoints: [
          { icon: "üöÄ", title: "Independent Deployment", desc: "Each micro-frontend can be deployed without affecting others.", color: "#10b981" },
          { icon: "üë•", title: "Team Ownership", desc: "Teams own entire features end-to-end, including UI.", color: "#3b82f6" },
          { icon: "üîß", title: "Tech Agnostic", desc: "Different micro-frontends can use different frameworks.", color: "#8b5cf6" },
          { icon: "üì¶", title: "Module Federation", desc: "Webpack 5 Module Federation enables runtime composition.", color: "#f59e0b" }
        ],
        formula: "App = Shell + MFE‚ÇÅ + MFE‚ÇÇ + ... + MFE‚Çô",
        strategies: [
          { title: "Module Federation", desc: "Use Webpack 5 Module Federation for runtime integration." },
          { title: "App Shell", desc: "Create a lightweight shell that handles routing and composition." },
          { title: "Shared Dependencies", desc: "Share common libraries to reduce bundle size." },
          { title: "Communication", desc: "Use custom events or pub/sub for cross-MFE communication." }
        ],
        metrics: [
          { level: "Deploy Frequency", downtime: "Multiple/day", useCase: "Independence" },
          { level: "Bundle Size", downtime: "< 100KB per MFE", useCase: "Performance" },
          { level: "Load Time", downtime: "< 2s", useCase: "User experience" },
          { level: "Team Size", downtime: "3-8 per MFE", useCase: "Ownership" }
        ]
      },
      "fe-module-federation": {
        title: "Module Federation",
        subtitle: "Webpack 5 feature that allows loading remote modules at runtime from other applications.",
        badge: { text: "Architecture", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `
          <style>
            .mf-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .mf-flow { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .mf-title { font-size: 0.85rem; color: #f97316; font-weight: 600; text-align: center; margin-bottom: 20px; }
            .mf-apps { display: flex; justify-content: space-around; gap: 16px; flex-wrap: wrap; }
            .mf-app { background: linear-gradient(145deg, rgba(249, 115, 22, 0.15), rgba(249, 115, 22, 0.05)); border: 2px solid rgba(249, 115, 22, 0.3); border-radius: 10px; padding: 16px; text-align: center; }
            .mf-app-icon { font-size: 1.5rem; margin-bottom: 6px; }
            .mf-app-name { font-size: 0.75rem; color: #e5e5e5; font-weight: 600; }
          </style>
          <div class="mf-viz">
            <div class="mf-flow">
              <div class="mf-title">Runtime Module Loading</div>
              <div class="mf-apps">
                <div class="mf-app"><div class="mf-app-icon">üè†</div><div class="mf-app-name">Host App</div></div>
                <span style="color: #f97316; font-size: 1.5rem;">‚ü∑</span>
                <div class="mf-app"><div class="mf-app-icon">üì¶</div><div class="mf-app-name">Remote A</div></div>
                <span style="color: #f97316; font-size: 1.5rem;">‚ü∑</span>
                <div class="mf-app"><div class="mf-app-icon">üì¶</div><div class="mf-app-name">Remote B</div></div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Module Federation</strong> is a Webpack 5 feature that enables loading JavaScript modules from remote sources at runtime.</p>`,
        keyPoints: [
          { icon: "üîå", title: "Exposes", desc: "Remote apps expose specific modules for consumption.", color: "#f97316" },
          { icon: "üì•", title: "Remotes", desc: "Host app declares which remotes to load from.", color: "#3b82f6" },
          { icon: "ü§ù", title: "Shared", desc: "Common dependencies are shared to avoid duplication.", color: "#22c55e" },
          { icon: "‚ö°", title: "Runtime", desc: "Modules are loaded at runtime, not build time.", color: "#8b5cf6" }
        ],
        formula: "import('remote/Component') ‚Üí Network Request ‚Üí Render",
        strategies: [
          { title: "Share React", desc: "Always share React and ReactDOM to avoid multiple instances." },
          { title: "Version Pinning", desc: "Use strictVersion for critical shared dependencies." },
          { title: "Fallbacks", desc: "Provide local fallbacks for when remotes fail to load." },
          { title: "Lazy Loading", desc: "Load remotes lazily to improve initial load time." }
        ],
        metrics: [
          { level: "Shared Deps", downtime: "React, Router, etc.", useCase: "Deduplication" },
          { level: "Remote Size", downtime: "< 50KB each", useCase: "Performance" },
          { level: "Load Time", downtime: "< 500ms", useCase: "User experience" },
          { level: "Fallback", downtime: "100%", useCase: "Resilience" }
        ]
      },
      "fe-monorepo-polyrepo": {
        title: "Monorepo vs Polyrepo",
        subtitle: "Choosing between a single repository for all code or separate repositories for each project.",
        badge: { text: "Architecture", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `
          <style>
            .repo-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .repo-compare { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .repo-type { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 20px; }
            .repo-title { font-size: 0.85rem; font-weight: 600; margin-bottom: 16px; text-align: center; }
            .mono-title { color: #6366f1; }
            .poly-title { color: #22c55e; }
            .repo-items { font-size: 0.7rem; color: #a0a0b0; }
            .repo-item { padding: 8px 0; display: flex; align-items: center; gap: 8px; }
          </style>
          <div class="repo-viz">
            <div class="repo-compare">
              <div class="repo-type">
                <div class="repo-title mono-title">üì¶ Monorepo</div>
                <div class="repo-items">
                  <div class="repo-item">‚úì Atomic changes</div>
                  <div class="repo-item">‚úì Shared tooling</div>
                  <div class="repo-item">‚úì Easy code sharing</div>
                </div>
              </div>
              <div class="repo-type">
                <div class="repo-title poly-title">üìö Polyrepo</div>
                <div class="repo-items">
                  <div class="repo-item">‚úì Clear ownership</div>
                  <div class="repo-item">‚úì Independent versioning</div>
                  <div class="repo-item">‚úì Simple CI/CD per repo</div>
                </div>
              </div>
            </div>
          </div>
        `,
        definition: `<p>A <strong>Monorepo</strong> contains multiple projects in a single repository. A <strong>Polyrepo</strong> has separate repositories for each project.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Monorepo", desc: "Single repo for all packages. Atomic changes, shared configs.", color: "#6366f1" },
          { icon: "üìö", title: "Polyrepo", desc: "Separate repos per project. Clear boundaries.", color: "#22c55e" },
          { icon: "üîß", title: "Tooling", desc: "Nx and Turborepo make monorepos efficient with caching.", color: "#f59e0b" },
          { icon: "üîÑ", title: "CI/CD", desc: "Monorepos need smart CI to build only affected packages.", color: "#8b5cf6" }
        ],
        formula: "Monorepo + Good Tooling = Best of Both Worlds",
        strategies: [
          { title: "Use Nx or Turborepo", desc: "Modern monorepo tools with caching." },
          { title: "Task Caching", desc: "Cache build outputs to speed up CI." },
          { title: "Affected Commands", desc: "Only build/test packages affected by changes." },
          { title: "Consistent Dependencies", desc: "Use single versions across packages." }
        ],
        metrics: [
          { level: "Nx", downtime: "Full-featured", useCase: "Large teams" },
          { level: "Turborepo", downtime: "Fast & simple", useCase: "Performance" },
          { level: "Lerna", downtime: "Legacy", useCase: "Publishing" },
          { level: "Yarn Workspaces", downtime: "Basic", useCase: "Simple setups" }
        ]
      },
      "fe-folder-structure": {
        title: "Feature-Based Folder Structure",
        subtitle: "Organizing code by feature or domain rather than by technical type.",
        badge: { text: "Architecture", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `
          <style>
            .folder-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .folder-compare { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
            .folder-type { background: rgba(30, 35, 50, 0.6); border-radius: 12px; padding: 16px; }
            .folder-title { font-size: 0.8rem; font-weight: 600; margin-bottom: 12px; text-align: center; }
            .bad-title { color: #ef4444; }
            .good-title { color: #22c55e; }
            .folder-tree { font-family: 'JetBrains Mono', monospace; font-size: 0.65rem; color: #a0a0b0; }
          </style>
          <div class="folder-viz">
            <div class="folder-compare">
              <div class="folder-type">
                <div class="folder-title bad-title">‚ùå Type-Based</div>
                <div class="folder-tree">src/<br>‚îú‚îÄ‚îÄ components/<br>‚îú‚îÄ‚îÄ hooks/<br>‚îú‚îÄ‚îÄ services/<br>‚îî‚îÄ‚îÄ utils/</div>
              </div>
              <div class="folder-type">
                <div class="folder-title good-title">‚úì Feature-Based</div>
                <div class="folder-tree">src/<br>‚îú‚îÄ‚îÄ features/<br>‚îÇ   ‚îú‚îÄ‚îÄ users/<br>‚îÇ   ‚îî‚îÄ‚îÄ products/<br>‚îî‚îÄ‚îÄ shared/</div>
              </div>
            </div>
          </div>
        `,
        definition: `<p><strong>Feature-Based Folder Structure</strong> organizes code by business domain or feature rather than by technical layer.</p>`,
        keyPoints: [
          { icon: "üìÅ", title: "Co-location", desc: "Related files live together: components, hooks, tests.", color: "#22c55e" },
          { icon: "üîç", title: "Discoverability", desc: "Easy to find all code related to a feature.", color: "#3b82f6" },
          { icon: "üóëÔ∏è", title: "Deletability", desc: "Features can be removed by deleting a single folder.", color: "#f59e0b" },
          { icon: "üë•", title: "Team Ownership", desc: "Teams can own entire feature folders.", color: "#8b5cf6" }
        ],
        formula: "Feature Folder = Components + Hooks + API + Types + Tests",
        strategies: [
          { title: "Shared Folder", desc: "Keep truly shared code in a dedicated shared/ folder." },
          { title: "Barrel Exports", desc: "Use index.ts to export public API of each feature." },
          { title: "Flat Features", desc: "Keep feature folders relatively flat when possible." },
          { title: "Cross-Feature Imports", desc: "Import from feature's public API only." }
        ],
        metrics: [
          { level: "Files per Feature", downtime: "5-15", useCase: "Cohesion" },
          { level: "Depth", downtime: "< 4 levels", useCase: "Navigability" },
          { level: "Cross Imports", downtime: "Via public API", useCase: "Encapsulation" },
          { level: "Shared Code", downtime: "< 20%", useCase: "Independence" }
        ]
      },
      "fe-design-system": {
        title: "Design System Architecture",
        subtitle: "A collection of reusable components, design tokens, and guidelines that ensure consistency.",
        badge: { text: "Architecture", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `
          <style>
            .ds-viz { display: flex; flex-direction: column; gap: 24px; padding: 20px; }
            .ds-layers { display: flex; flex-direction: column; gap: 8px; }
            .ds-layer { border-radius: 10px; padding: 16px 20px; display: flex; align-items: center; justify-content: space-between; }
            .ds-layer-1 { background: linear-gradient(90deg, rgba(236, 72, 153, 0.2), rgba(236, 72, 153, 0.1)); border-left: 4px solid #ec4899; }
            .ds-layer-2 { background: linear-gradient(90deg, rgba(139, 92, 246, 0.2), rgba(139, 92, 246, 0.1)); border-left: 4px solid #8b5cf6; }
            .ds-layer-3 { background: linear-gradient(90deg, rgba(59, 130, 246, 0.2), rgba(59, 130, 246, 0.1)); border-left: 4px solid #3b82f6; }
            .layer-name { font-size: 0.85rem; font-weight: 600; color: #e5e5e5; }
            .layer-examples { font-size: 0.7rem; color: #a0a0b0; }
          </style>
          <div class="ds-viz">
            <div class="ds-layers">
              <div class="ds-layer ds-layer-1"><span class="layer-name">üé® Design Tokens</span><span class="layer-examples">Colors, Spacing</span></div>
              <div class="ds-layer ds-layer-2"><span class="layer-name">‚öõÔ∏è Components</span><span class="layer-examples">Button, Input</span></div>
              <div class="ds-layer ds-layer-3"><span class="layer-name">üìê Patterns</span><span class="layer-examples">Forms, Tables</span></div>
            </div>
          </div>
        `,
        definition: `<p>A <strong>Design System</strong> is the single source of truth for design and development. It includes design tokens, reusable components, patterns, and documentation.</p>`,
        keyPoints: [
          { icon: "üé®", title: "Design Tokens", desc: "Primitives like colors, spacing, and typography.", color: "#ec4899" },
          { icon: "üì¶", title: "Component Library", desc: "Reusable UI components with consistent API.", color: "#8b5cf6" },
          { icon: "üìñ", title: "Documentation", desc: "Usage guidelines, examples, and best practices.", color: "#3b82f6" },
          { icon: "üîß", title: "Tooling", desc: "Storybook, Figma integration, and automated publishing.", color: "#22c55e" }
        ],
        formula: "Design System = Tokens + Components + Patterns + Documentation",
        strategies: [
          { title: "Start with Tokens", desc: "Define design tokens first as the foundation." },
          { title: "Use Storybook", desc: "Develop and document components in Storybook." },
          { title: "Version Carefully", desc: "Use semantic versioning and changelogs." },
          { title: "Adoption Metrics", desc: "Track adoption and gather feedback." }
        ],
        metrics: [
          { level: "Component Count", downtime: "50-200", useCase: "Coverage" },
          { level: "Adoption", downtime: "> 90%", useCase: "Consistency" },
          { level: "Documentation", downtime: "100%", useCase: "Usability" },
          { level: "Token Usage", downtime: "> 95%", useCase: "Design adherence" }
        ]
      },

      // State Management
      "fe-local-global-state": {
        title: "Local vs Global State",
        subtitle: "Understanding when to use component-local state versus application-wide global state.",
        badge: { text: "State", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px;"><div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üìç</div><div style="color: #3b82f6; font-weight: 600;">Local State</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Form inputs, UI toggles, Hover states</div></div><div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üåç</div><div style="color: #8b5cf6; font-weight: 600;">Global State</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">User auth, Theme, Cart items</div></div></div>`,
        definition: `<p><strong>Local state</strong> is scoped to a single component (useState). <strong>Global state</strong> is shared across multiple components (Context, Redux, Zustand).</p>`,
        keyPoints: [
          { icon: "üìç", title: "Local State", desc: "UI state that only one component needs. Use useState.", color: "#3b82f6" },
          { icon: "üåç", title: "Global State", desc: "Data needed by many components. Use state management.", color: "#8b5cf6" },
          { icon: "üìè", title: "Scope Rule", desc: "Keep state as close as possible to where it's used.", color: "#22c55e" },
          { icon: "üîÑ", title: "Lifting State", desc: "Move state up when siblings need to share it.", color: "#f59e0b" }
        ],
        formula: "Start Local ‚Üí Lift When Needed ‚Üí Go Global Last",
        strategies: [
          { title: "Default to Local", desc: "Start with useState. Only lift/globalize when needed." },
          { title: "Avoid Premature Global", desc: "Don't put everything in Redux. Most state is local." },
          { title: "Derived State", desc: "Compute values from state instead of storing them." },
          { title: "State Machines", desc: "Use XState for complex UI state transitions." }
        ],
        metrics: [
          { level: "Local", downtime: "useState", useCase: "Component UI" },
          { level: "Shared", downtime: "Lift up / Context", useCase: "Sibling components" },
          { level: "Global", downtime: "Redux / Zustand", useCase: "App-wide data" },
          { level: "Server", downtime: "React Query", useCase: "API data" }
        ]
      },
      "fe-server-client-state": {
        title: "Server State vs Client State",
        subtitle: "Distinguishing between data from the server and UI state managed on the client.",
        badge: { text: "State", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px;"><div style="background: rgba(16, 185, 129, 0.1); border: 1px solid rgba(16, 185, 129, 0.3); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üñ•Ô∏è</div><div style="color: #10b981; font-weight: 600;">Server State</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Fetched data, cached, can be stale</div></div><div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üíª</div><div style="color: #3b82f6; font-weight: 600;">Client State</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">UI state, ephemeral, synchronous</div></div></div>`,
        definition: `<p><strong>Server State</strong> is data fetched from APIs that can be cached, become stale, and needs background updates. <strong>Client State</strong> is local UI state that exists only in the browser.</p>`,
        keyPoints: [
          { icon: "üñ•Ô∏è", title: "Server State", desc: "Async, cacheable, can be stale. Use React Query or SWR.", color: "#10b981" },
          { icon: "üíª", title: "Client State", desc: "Synchronous, ephemeral. Use useState/useReducer.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Sync Challenges", desc: "Server state requires refetching, caching, invalidation.", color: "#f59e0b" },
          { icon: "üìä", title: "Different Tools", desc: "Don't use Redux for server state. Use specialized tools.", color: "#8b5cf6" }
        ],
        formula: "Server State = React Query | Client State = Zustand/useState",
        strategies: [
          { title: "React Query for Server", desc: "Use React Query or SWR for all data fetching." },
          { title: "Cache Invalidation", desc: "Invalidate queries when mutations change server data." },
          { title: "Optimistic Updates", desc: "Update UI immediately, rollback on error." },
          { title: "Background Refetch", desc: "Stale-while-revalidate keeps data fresh." }
        ],
        metrics: [
          { level: "React Query", downtime: "Most popular", useCase: "Server state" },
          { level: "SWR", downtime: "Lightweight", useCase: "Server state" },
          { level: "Apollo", downtime: "GraphQL", useCase: "Server state" },
          { level: "Zustand", downtime: "Simple", useCase: "Client state" }
        ]
      },
      "fe-lifting-state": {
        title: "Lifting State Up",
        subtitle: "Moving state to a common ancestor when multiple components need to share it.",
        badge: { text: "State", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="background: rgba(245, 158, 11, 0.1); border: 2px solid #f59e0b; border-radius: 12px; padding: 16px; margin-bottom: 16px;"><div style="font-size: 1.2rem;">üëÜ Parent (state lives here)</div></div><div style="display: flex; justify-content: center; gap: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.8rem;">Child A</div></div><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.8rem;">Child B</div></div></div></div>`,
        definition: `<p><strong>Lifting State Up</strong> is the React pattern of moving shared state to the closest common ancestor of the components that need it.</p>`,
        keyPoints: [
          { icon: "üëÜ", title: "Lift Up", desc: "Move state to parent when siblings need to share it.", color: "#f59e0b" },
          { icon: "‚¨áÔ∏è", title: "Props Down", desc: "Pass state down to children via props.", color: "#3b82f6" },
          { icon: "‚¨ÜÔ∏è", title: "Callbacks Up", desc: "Pass handlers to update parent state from children.", color: "#8b5cf6" },
          { icon: "üéØ", title: "Single Source", desc: "State lives in one place, preventing sync issues.", color: "#22c55e" }
        ],
        formula: "Shared State = Lift to Common Ancestor + Props + Callbacks",
        strategies: [
          { title: "Find Common Ancestor", desc: "Identify the lowest parent that contains all consumers." },
          { title: "Pass Handlers", desc: "Pass setState functions or handler callbacks to children." },
          { title: "Avoid Over-Lifting", desc: "Don't lift higher than necessary. Use Context if deep." },
          { title: "Component Composition", desc: "Sometimes composition is better than prop drilling." }
        ],
        metrics: [
          { level: "1-2 levels", downtime: "Props", useCase: "Simple" },
          { level: "3+ levels", downtime: "Context", useCase: "Avoid drilling" },
          { level: "Cross-tree", downtime: "State management", useCase: "Complex" },
          { level: "Composition", downtime: "Children prop", useCase: "Alternative" }
        ]
      },
      "fe-context-api": {
        title: "Context API",
        subtitle: "React's built-in solution for passing data through the component tree without prop drilling.",
        badge: { text: "State", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="background: linear-gradient(to bottom, rgba(139, 92, 246, 0.2), transparent); border: 2px solid #8b5cf6; border-radius: 12px; padding: 20px;"><div style="font-size: 1rem; color: #8b5cf6; margin-bottom: 16px;">Context.Provider</div><div style="display: flex; justify-content: center; gap: 16px; flex-wrap: wrap;"><div style="background: rgba(139, 92, 246, 0.15); border-radius: 8px; padding: 10px; font-size: 0.75rem;">useContext</div><div style="background: rgba(139, 92, 246, 0.15); border-radius: 8px; padding: 10px; font-size: 0.75rem;">useContext</div><div style="background: rgba(139, 92, 246, 0.15); border-radius: 8px; padding: 10px; font-size: 0.75rem;">useContext</div></div></div></div>`,
        definition: `<p><strong>Context API</strong> provides a way to share values between components without explicitly passing props through every level of the tree.</p>`,
        keyPoints: [
          { icon: "üèóÔ∏è", title: "Provider", desc: "Wraps components that need access to the context value.", color: "#8b5cf6" },
          { icon: "üé£", title: "useContext", desc: "Hook to consume context value in any child component.", color: "#3b82f6" },
          { icon: "‚ö†Ô∏è", title: "Re-renders", desc: "All consumers re-render when context value changes.", color: "#ef4444" },
          { icon: "üîÄ", title: "Splitting", desc: "Split contexts to minimize unnecessary re-renders.", color: "#22c55e" }
        ],
        formula: "createContext ‚Üí Provider value={} ‚Üí useContext",
        strategies: [
          { title: "Split Contexts", desc: "Separate frequently changing state into different contexts." },
          { title: "Memoize Values", desc: "Wrap context value in useMemo to prevent re-renders." },
          { title: "Custom Hooks", desc: "Create useXxxContext hooks for better DX." },
          { title: "Not for Everything", desc: "Use for truly global data like theme, auth, locale." }
        ],
        metrics: [
          { level: "Theme", downtime: "Good fit", useCase: "Rarely changes" },
          { level: "Auth", downtime: "Good fit", useCase: "Global" },
          { level: "Frequent updates", downtime: "Avoid", useCase: "Use state lib" },
          { level: "Large apps", downtime: "Consider Zustand", useCase: "Performance" }
        ]
      },
      "fe-redux-zustand": {
        title: "Redux / Zustand / Jotai",
        subtitle: "Popular state management libraries for managing complex application state.",
        badge: { text: "State", color: "#764abc", bg: "rgba(118, 74, 188, 0.15)" },
        color: "#764abc",
        diagram: `<div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px; padding: 20px;"><div style="background: rgba(118, 74, 188, 0.1); border: 1px solid rgba(118, 74, 188, 0.3); border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 6px;">üîÑ</div><div style="font-size: 0.8rem; color: #764abc; font-weight: 600;">Redux</div><div style="font-size: 0.65rem; color: #a0a0b0;">Flux pattern</div></div><div style="background: rgba(34, 197, 94, 0.1); border: 1px solid rgba(34, 197, 94, 0.3); border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 6px;">üêª</div><div style="font-size: 0.8rem; color: #22c55e; font-weight: 600;">Zustand</div><div style="font-size: 0.65rem; color: #a0a0b0;">Simple hooks</div></div><div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 6px;">‚öõÔ∏è</div><div style="font-size: 0.8rem; color: #3b82f6; font-weight: 600;">Jotai</div><div style="font-size: 0.65rem; color: #a0a0b0;">Atomic model</div></div></div>`,
        definition: `<p><strong>Redux</strong> uses actions and reducers. <strong>Zustand</strong> is a minimal hook-based store. <strong>Jotai</strong> uses atomic state model.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "Redux", desc: "Predictable state container with actions and reducers.", color: "#764abc" },
          { icon: "üêª", title: "Zustand", desc: "Minimal, hook-based state management. No boilerplate.", color: "#22c55e" },
          { icon: "‚öõÔ∏è", title: "Jotai", desc: "Atomic approach. State as independent atoms.", color: "#3b82f6" },
          { icon: "üéØ", title: "Choose Wisely", desc: "Pick based on complexity and team familiarity.", color: "#f59e0b" }
        ],
        formula: "Redux = Actions + Reducers | Zustand = create() | Jotai = atom()",
        strategies: [
          { title: "Zustand for Simplicity", desc: "Start with Zustand. Less boilerplate than Redux." },
          { title: "Redux Toolkit", desc: "If using Redux, always use Redux Toolkit." },
          { title: "Jotai for Fine-grained", desc: "Use Jotai when you need atomic re-renders." },
          { title: "Combine with React Query", desc: "Use with React Query for server state." }
        ],
        metrics: [
          { level: "Redux Toolkit", downtime: "Large apps", useCase: "Team standard" },
          { level: "Zustand", downtime: "Any size", useCase: "Simplicity" },
          { level: "Jotai", downtime: "Complex UI", useCase: "Fine-grained updates" },
          { level: "Recoil", downtime: "Meta apps", useCase: "React-first" }
        ]
      },
      "fe-react-query": {
        title: "React Query / TanStack Query",
        subtitle: "Powerful data fetching and caching library for managing server state.",
        badge: { text: "State", color: "#ff4154", bg: "rgba(255, 65, 84, 0.15)" },
        color: "#ff4154",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(255, 65, 84, 0.1); border: 1px solid rgba(255, 65, 84, 0.3); border-radius: 12px; padding: 20px;"><div style="text-align: center; color: #ff4154; font-weight: 600; margin-bottom: 16px;">TanStack Query Features</div><div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 0.75rem;"><div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 6px;">üîÑ Auto Refetching</div><div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 6px;">üíæ Caching</div><div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 6px;">‚ö° Optimistic Updates</div><div style="background: rgba(255,255,255,0.05); padding: 10px; border-radius: 6px;">‚ôæÔ∏è Infinite Queries</div></div></div></div>`,
        definition: `<p><strong>TanStack Query</strong> (formerly React Query) handles fetching, caching, synchronizing, and updating server state with minimal boilerplate.</p>`,
        keyPoints: [
          { icon: "üíæ", title: "Caching", desc: "Automatic caching and cache invalidation.", color: "#ff4154" },
          { icon: "üîÑ", title: "Background Updates", desc: "Stale-while-revalidate pattern out of the box.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Mutations", desc: "useMutation for create/update/delete operations.", color: "#22c55e" },
          { icon: "üéØ", title: "DevTools", desc: "Excellent devtools for debugging queries.", color: "#f59e0b" }
        ],
        formula: "useQuery(key, fetchFn) ‚Üí { data, isLoading, error }",
        strategies: [
          { title: "Query Keys", desc: "Use structured query keys for proper cache management." },
          { title: "Prefetching", desc: "Prefetch data on hover or route change." },
          { title: "Optimistic Updates", desc: "Update cache immediately, rollback on error." },
          { title: "Infinite Queries", desc: "Use useInfiniteQuery for pagination." }
        ],
        metrics: [
          { level: "staleTime", downtime: "When to refetch", useCase: "Freshness" },
          { level: "gcTime", downtime: "Cache lifetime", useCase: "Memory" },
          { level: "retry", downtime: "Error handling", useCase: "Resilience" },
          { level: "enabled", downtime: "Conditional fetch", useCase: "Control" }
        ]
      },
      "fe-url-state": {
        title: "URL State",
        subtitle: "Using URL parameters and query strings to persist and share application state.",
        badge: { text: "State", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(6, 182, 212, 0.1); border: 1px solid rgba(6, 182, 212, 0.3); border-radius: 12px; padding: 20px; font-family: 'JetBrains Mono', monospace;"><div style="color: #06b6d4; font-size: 0.8rem; margin-bottom: 8px;">URL State Example:</div><div style="color: #e5e5e5; font-size: 0.75rem;">/products?category=shoes&sort=price&page=2</div></div></div>`,
        definition: `<p><strong>URL State</strong> stores application state in the URL, making it shareable, bookmarkable, and preserved across refreshes.</p>`,
        keyPoints: [
          { icon: "üîó", title: "Shareable", desc: "Users can share URLs with current app state.", color: "#06b6d4" },
          { icon: "üîñ", title: "Bookmarkable", desc: "State persists across browser sessions.", color: "#3b82f6" },
          { icon: "üîÑ", title: "History", desc: "Browser back/forward works with state changes.", color: "#22c55e" },
          { icon: "üîç", title: "Filters & Search", desc: "Perfect for search, filters, and pagination.", color: "#f59e0b" }
        ],
        formula: "useSearchParams() ‚Üí [params, setParams]",
        strategies: [
          { title: "Filters in URL", desc: "Store search, filter, and sort in query params." },
          { title: "nuqs Library", desc: "Use nuqs for type-safe URL state management." },
          { title: "Sync with React Query", desc: "Use URL params as query keys." },
          { title: "Debounce Updates", desc: "Debounce URL updates for rapid changes." }
        ],
        metrics: [
          { level: "Search", downtime: "Always URL", useCase: "Shareable" },
          { level: "Filters", downtime: "Always URL", useCase: "Bookmarkable" },
          { level: "Pagination", downtime: "Always URL", useCase: "Navigation" },
          { level: "Modal state", downtime: "Maybe URL", useCase: "Deep linking" }
        ]
      },
      "fe-form-state": {
        title: "Form State Management",
        subtitle: "Managing form values, validation, and submission state effectively.",
        badge: { text: "State", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">üìù</div><div style="font-size: 0.75rem; color: #ec4899;">Values</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">‚úÖ</div><div style="font-size: 0.75rem; color: #ec4899;">Validation</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">üöÄ</div><div style="font-size: 0.75rem; color: #ec4899;">Submission</div></div></div></div>`,
        definition: `<p><strong>Form State</strong> includes field values, touched/dirty state, validation errors, and submission status. Libraries like React Hook Form simplify this.</p>`,
        keyPoints: [
          { icon: "üìù", title: "Field Values", desc: "Track current values of all form fields.", color: "#ec4899" },
          { icon: "‚úÖ", title: "Validation", desc: "Validate on change, blur, or submit.", color: "#22c55e" },
          { icon: "üëÜ", title: "Touched/Dirty", desc: "Track which fields user has interacted with.", color: "#3b82f6" },
          { icon: "üöÄ", title: "Submission", desc: "Handle loading, success, and error states.", color: "#f59e0b" }
        ],
        formula: "useForm() ‚Üí { register, handleSubmit, formState }",
        strategies: [
          { title: "React Hook Form", desc: "Uncontrolled forms with excellent performance." },
          { title: "Zod Validation", desc: "Use Zod schemas for type-safe validation." },
          { title: "Error Display", desc: "Show errors on blur or submit, not on change." },
          { title: "Optimistic Submit", desc: "Disable form during submission, show loading." }
        ],
        metrics: [
          { level: "React Hook Form", downtime: "Performance", useCase: "Complex forms" },
          { level: "Formik", downtime: "Mature", useCase: "Any forms" },
          { level: "Zod", downtime: "Validation", useCase: "Type safety" },
          { level: "Native", downtime: "Simple forms", useCase: "Minimal" }
        ]
      },
      "fe-state-normalization": {
        title: "State Normalization",
        subtitle: "Structuring state like a database with IDs and references for efficient updates.",
        badge: { text: "State", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 12px; padding: 16px;"><div style="color: #ef4444; font-size: 0.75rem; margin-bottom: 8px;">‚ùå Nested</div><div style="font-family: monospace; font-size: 0.6rem; color: #a0a0b0;">{ posts: [{ author: {...} }] }</div></div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 12px; padding: 16px;"><div style="color: #22c55e; font-size: 0.75rem; margin-bottom: 8px;">‚úì Normalized</div><div style="font-family: monospace; font-size: 0.6rem; color: #a0a0b0;">{ posts: {}, users: {} }</div></div></div></div>`,
        definition: `<p><strong>State Normalization</strong> flattens nested data into tables keyed by ID, similar to a relational database. This makes updates efficient and prevents data duplication.</p>`,
        keyPoints: [
          { icon: "üóÑÔ∏è", title: "Flat Structure", desc: "Store entities in lookup tables keyed by ID.", color: "#f97316" },
          { icon: "üîó", title: "References", desc: "Use IDs to reference related entities.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Efficient Updates", desc: "Update one place instead of hunting nested data.", color: "#22c55e" },
          { icon: "üîß", title: "Normalizr", desc: "Use normalizr library to normalize API responses.", color: "#8b5cf6" }
        ],
        formula: "{ entities: { users: { 1: {...} } }, result: [1, 2, 3] }",
        strategies: [
          { title: "Normalize on Fetch", desc: "Normalize API responses before storing." },
          { title: "Selectors", desc: "Create selectors to denormalize for components." },
          { title: "Redux Toolkit", desc: "Use createEntityAdapter for normalized state." },
          { title: "React Query", desc: "Consider if React Query caching is sufficient." }
        ],
        metrics: [
          { level: "createEntityAdapter", downtime: "Redux Toolkit", useCase: "CRUD" },
          { level: "normalizr", downtime: "Manual", useCase: "Complex relations" },
          { level: "React Query", downtime: "Alternative", useCase: "Server state" },
          { level: "Manual", downtime: "Simple cases", useCase: "Learning" }
        ]
      },
      "fe-derived-state": {
        title: "Derived State",
        subtitle: "Computing values from existing state rather than storing them separately.",
        badge: { text: "State", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.75rem; color: #3b82f6;">items[]</div></div><span style="color: #22c55e; font-size: 1.5rem;">‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.75rem; color: #22c55e;">total = items.reduce()</div></div></div></div>`,
        definition: `<p><strong>Derived State</strong> is computed from other state values rather than stored separately. This prevents sync issues and reduces state complexity.</p>`,
        keyPoints: [
          { icon: "üßÆ", title: "Compute Don't Store", desc: "Calculate values from source state when needed.", color: "#22c55e" },
          { icon: "üì¶", title: "useMemo", desc: "Memoize expensive derivations to avoid recalculation.", color: "#3b82f6" },
          { icon: "üéØ", title: "Single Source", desc: "Source state is the only truth. Derived follows.", color: "#f59e0b" },
          { icon: "‚ö†Ô∏è", title: "Avoid Duplication", desc: "Don't store what can be computed.", color: "#ef4444" }
        ],
        formula: "derivedValue = useMemo(() => compute(state), [state])",
        strategies: [
          { title: "Selectors", desc: "Create selector functions for common derivations." },
          { title: "useMemo", desc: "Memoize expensive computations." },
          { title: "Reselect", desc: "Use Reselect for Redux selector memoization." },
          { title: "Avoid State Sync", desc: "If you sync state, you probably need derived state." }
        ],
        metrics: [
          { level: "totals", downtime: "Derive", useCase: "Aggregations" },
          { level: "filtered", downtime: "Derive", useCase: "Filters" },
          { level: "sorted", downtime: "Derive", useCase: "Ordering" },
          { level: "formatted", downtime: "Derive", useCase: "Display" }
        ]
      },

      // Data Fetching & APIs
      "fe-rest-graphql": {
        title: "REST vs GraphQL",
        subtitle: "Comparing two popular API paradigms for frontend data fetching.",
        badge: { text: "Data Fetching", color: "#e535ab", bg: "rgba(229, 53, 171, 0.15)" },
        color: "#e535ab",
        diagram: `<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px;"><div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üì°</div><div style="color: #3b82f6; font-weight: 600;">REST</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Multiple endpoints, fixed responses</div></div><div style="background: rgba(229, 53, 171, 0.1); border: 1px solid rgba(229, 53, 171, 0.3); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">‚óºÔ∏è</div><div style="color: #e535ab; font-weight: 600;">GraphQL</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Single endpoint, flexible queries</div></div></div>`,
        definition: `<p><strong>REST</strong> uses multiple endpoints with fixed responses. <strong>GraphQL</strong> uses a single endpoint where clients specify exactly what data they need.</p>`,
        keyPoints: [
          { icon: "üì°", title: "REST", desc: "Resource-based URLs. GET /users, POST /posts.", color: "#3b82f6" },
          { icon: "‚óºÔ∏è", title: "GraphQL", desc: "Query language. Request exactly what you need.", color: "#e535ab" },
          { icon: "üì¶", title: "Over-fetching", desc: "REST often returns more data than needed.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Under-fetching", desc: "REST may require multiple requests for related data.", color: "#ef4444" }
        ],
        formula: "REST = Resources + HTTP Methods | GraphQL = Types + Queries",
        strategies: [
          { title: "REST for Simple", desc: "Use REST for simple CRUD with predictable data needs." },
          { title: "GraphQL for Complex", desc: "Use GraphQL when data requirements vary by client." },
          { title: "BFF Pattern", desc: "Consider BFF to tailor REST for frontend needs." },
          { title: "Caching Differs", desc: "REST caches via HTTP. GraphQL needs client caching." }
        ],
        metrics: [
          { level: "REST", downtime: "HTTP caching", useCase: "Simple APIs" },
          { level: "GraphQL", downtime: "Flexible queries", useCase: "Complex UIs" },
          { level: "Apollo", downtime: "GraphQL client", useCase: "React" },
          { level: "tRPC", downtime: "Type-safe", useCase: "Full-stack TS" }
        ]
      },
      "fe-caching-strategies": {
        title: "Caching Strategies",
        subtitle: "Techniques for caching data to improve performance and reduce network requests.",
        badge: { text: "Data Fetching", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 12px;"><div style="background: rgba(16, 185, 129, 0.1); border-left: 4px solid #10b981; padding: 12px; border-radius: 0 8px 8px 0;"><div style="font-size: 0.8rem; color: #10b981;">Stale-While-Revalidate</div></div><div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 12px; border-radius: 0 8px 8px 0;"><div style="font-size: 0.8rem; color: #3b82f6;">Cache-First</div></div><div style="background: rgba(245, 158, 11, 0.1); border-left: 4px solid #f59e0b; padding: 12px; border-radius: 0 8px 8px 0;"><div style="font-size: 0.8rem; color: #f59e0b;">Network-First</div></div></div></div>`,
        definition: `<p><strong>Caching Strategies</strong> determine how and when to serve cached data vs fetching fresh data from the network.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "SWR", desc: "Serve stale data immediately, revalidate in background.", color: "#10b981" },
          { icon: "üíæ", title: "Cache-First", desc: "Check cache first, fetch only if not found.", color: "#3b82f6" },
          { icon: "üåê", title: "Network-First", desc: "Always fetch, fall back to cache if offline.", color: "#f59e0b" },
          { icon: "‚è∞", title: "Time-Based", desc: "Invalidate cache after a certain time period.", color: "#8b5cf6" }
        ],
        formula: "SWR = Instant Response + Background Update",
        strategies: [
          { title: "staleTime", desc: "How long data is considered fresh." },
          { title: "gcTime", desc: "How long unused cache is kept." },
          { title: "Invalidation", desc: "Invalidate cache after mutations." },
          { title: "Optimistic", desc: "Update cache before server confirms." }
        ],
        metrics: [
          { level: "staleTime: 0", downtime: "Always refetch", useCase: "Real-time" },
          { level: "staleTime: 5min", downtime: "Balanced", useCase: "Most data" },
          { level: "staleTime: Infinity", downtime: "Never refetch", useCase: "Static" },
          { level: "gcTime: 5min", downtime: "Memory cleanup", useCase: "Default" }
        ]
      },
      "fe-pagination": {
        title: "Pagination & Infinite Scroll",
        subtitle: "Loading large datasets in chunks for better performance and UX.",
        badge: { text: "Data Fetching", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"><div style="background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">üìÑ</div><div style="font-size: 0.8rem; color: #6366f1;">Page-Based</div><div style="font-size: 0.65rem; color: #a0a0b0;">1 2 3 ... 10</div></div><div style="background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">‚ôæÔ∏è</div><div style="font-size: 0.8rem; color: #6366f1;">Infinite Scroll</div><div style="font-size: 0.65rem; color: #a0a0b0;">Load more on scroll</div></div></div></div>`,
        definition: `<p><strong>Pagination</strong> loads data in discrete pages. <strong>Infinite Scroll</strong> loads more data as the user scrolls, creating a seamless experience.</p>`,
        keyPoints: [
          { icon: "üìÑ", title: "Page-Based", desc: "Traditional pagination with page numbers.", color: "#6366f1" },
          { icon: "‚ôæÔ∏è", title: "Infinite Scroll", desc: "Load more as user scrolls. Great for feeds.", color: "#3b82f6" },
          { icon: "üîñ", title: "Cursor-Based", desc: "Use cursor/token instead of page numbers.", color: "#22c55e" },
          { icon: "üì±", title: "Virtual Lists", desc: "Render only visible items for large lists.", color: "#f59e0b" }
        ],
        formula: "useInfiniteQuery + Intersection Observer",
        strategies: [
          { title: "useInfiniteQuery", desc: "Use React Query's infinite query for scroll loading." },
          { title: "Intersection Observer", desc: "Detect when user scrolls to end of list." },
          { title: "Virtualization", desc: "Combine with virtualization for huge lists." },
          { title: "Loading States", desc: "Show skeleton loaders while fetching more." }
        ],
        metrics: [
          { level: "Offset", downtime: "?page=2&limit=20", useCase: "Simple" },
          { level: "Cursor", downtime: "?cursor=xyz", useCase: "Stable" },
          { level: "Page size", downtime: "20-50 items", useCase: "Balanced" },
          { level: "Prefetch", downtime: "Next page", useCase: "Smooth UX" }
        ]
      },
      "fe-optimistic-updates": {
        title: "Optimistic Updates",
        subtitle: "Updating the UI immediately before the server confirms, then reconciling.",
        badge: { text: "Data Fetching", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; gap: 12px; justify-content: center; flex-wrap: wrap;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem;">1. Update UI</div></div><span style="color: #22c55e;">‚Üí</span><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem;">2. Send Request</div></div><span style="color: #22c55e;">‚Üí</span><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem;">3. Confirm/Rollback</div></div></div></div>`,
        definition: `<p><strong>Optimistic Updates</strong> immediately reflect user actions in the UI, assuming the server will succeed. If the request fails, the UI reverts to the previous state.</p>`,
        keyPoints: [
          { icon: "‚ö°", title: "Instant Feedback", desc: "UI updates immediately, no waiting for server.", color: "#22c55e" },
          { icon: "üîÑ", title: "Rollback", desc: "Revert to previous state if request fails.", color: "#ef4444" },
          { icon: "üì¶", title: "Cache Update", desc: "Update local cache before server response.", color: "#3b82f6" },
          { icon: "üéØ", title: "Reconciliation", desc: "Sync with server response when it arrives.", color: "#f59e0b" }
        ],
        formula: "onMutate ‚Üí Update Cache ‚Üí onError ‚Üí Rollback",
        strategies: [
          { title: "onMutate", desc: "Update cache optimistically in onMutate callback." },
          { title: "Save Previous", desc: "Store previous state for rollback." },
          { title: "onError Rollback", desc: "Restore previous state on error." },
          { title: "onSettled", desc: "Invalidate to ensure sync with server." }
        ],
        metrics: [
          { level: "Like button", downtime: "Always optimistic", useCase: "Instant" },
          { level: "Form submit", downtime: "Sometimes", useCase: "Consider errors" },
          { level: "Delete", downtime: "Careful", useCase: "Hard to undo" },
          { level: "Create", downtime: "Need temp ID", useCase: "Complex" }
        ]
      },
      "fe-error-handling": {
        title: "Error Handling",
        subtitle: "Gracefully handling and displaying errors from API requests.",
        badge: { text: "Data Fetching", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 12px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 14px; display: flex; align-items: center; gap: 12px;"><span style="font-size: 1.2rem;">üî¥</span><span style="font-size: 0.8rem; color: #ef4444;">Network Error</span></div><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 14px; display: flex; align-items: center; gap: 12px;"><span style="font-size: 1.2rem;">üü°</span><span style="font-size: 0.8rem; color: #f59e0b;">Validation Error</span></div><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 14px; display: flex; align-items: center; gap: 12px;"><span style="font-size: 1.2rem;">üîµ</span><span style="font-size: 0.8rem; color: #3b82f6;">Server Error</span></div></div></div>`,
        definition: `<p><strong>Error Handling</strong> involves catching, categorizing, and displaying errors appropriately to users while logging them for debugging.</p>`,
        keyPoints: [
          { icon: "üî¥", title: "Network Errors", desc: "Handle offline, timeout, and connection issues.", color: "#ef4444" },
          { icon: "üü°", title: "Validation Errors", desc: "Show field-level errors from server validation.", color: "#f59e0b" },
          { icon: "üîµ", title: "Server Errors", desc: "Handle 500s gracefully with retry options.", color: "#3b82f6" },
          { icon: "üõ°Ô∏è", title: "Error Boundaries", desc: "Catch React render errors at component level.", color: "#8b5cf6" }
        ],
        formula: "try/catch + Error Boundaries + User Messaging",
        strategies: [
          { title: "Error Boundaries", desc: "Wrap sections with error boundaries." },
          { title: "Toast Messages", desc: "Show non-blocking error notifications." },
          { title: "Retry Buttons", desc: "Let users retry failed requests." },
          { title: "Logging", desc: "Send errors to Sentry or similar." }
        ],
        metrics: [
          { level: "4xx", downtime: "Client error", useCase: "Validation/auth" },
          { level: "5xx", downtime: "Server error", useCase: "Retry" },
          { level: "Network", downtime: "Offline", useCase: "Queue/retry" },
          { level: "Timeout", downtime: "Slow", useCase: "Retry/cancel" }
        ]
      },
      "fe-retry-backoff": {
        title: "Retry & Backoff",
        subtitle: "Automatically retrying failed requests with increasing delays.",
        badge: { text: "Data Fetching", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: flex-end; justify-content: center; gap: 16px; height: 100px;"><div style="background: #f97316; width: 30px; height: 20px; border-radius: 4px 4px 0 0;"></div><div style="background: #f97316; width: 30px; height: 40px; border-radius: 4px 4px 0 0;"></div><div style="background: #f97316; width: 30px; height: 60px; border-radius: 4px 4px 0 0;"></div><div style="background: #f97316; width: 30px; height: 80px; border-radius: 4px 4px 0 0;"></div></div><div style="text-align: center; font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Exponential Backoff: 1s ‚Üí 2s ‚Üí 4s ‚Üí 8s</div></div>`,
        definition: `<p><strong>Retry with Backoff</strong> automatically retries failed requests with exponentially increasing delays to avoid overwhelming a struggling server.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "Automatic Retry", desc: "Retry failed requests automatically.", color: "#f97316" },
          { icon: "üìà", title: "Exponential Backoff", desc: "Double the delay between each retry.", color: "#3b82f6" },
          { icon: "üé≤", title: "Jitter", desc: "Add randomness to prevent thundering herd.", color: "#22c55e" },
          { icon: "üõë", title: "Max Retries", desc: "Limit retries to prevent infinite loops.", color: "#ef4444" }
        ],
        formula: "delay = min(base * 2^attempt + jitter, maxDelay)",
        strategies: [
          { title: "React Query retry", desc: "Configure retry count and delay in React Query." },
          { title: "Only Retry 5xx", desc: "Don't retry 4xx errors that will always fail." },
          { title: "User Cancellation", desc: "Allow users to cancel and retry manually." },
          { title: "Offline Queue", desc: "Queue requests when offline, retry when online." }
        ],
        metrics: [
          { level: "retry: 3", downtime: "Default", useCase: "Most queries" },
          { level: "retryDelay", downtime: "Exponential", useCase: "Backoff" },
          { level: "retry: false", downtime: "Mutations", useCase: "User-triggered" },
          { level: "Network error", downtime: "Always retry", useCase: "Transient" }
        ]
      },
      "fe-debounce-throttle": {
        title: "Debouncing & Throttling",
        subtitle: "Controlling the rate of function execution to optimize performance.",
        badge: { text: "Data Fetching", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px; padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">‚è∏Ô∏è</div><div style="font-size: 0.8rem; color: #8b5cf6; font-weight: 600;">Debounce</div><div style="font-size: 0.65rem; color: #a0a0b0;">Wait for pause</div></div><div style="background: rgba(59, 130, 246, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.3rem; margin-bottom: 6px;">‚è±Ô∏è</div><div style="font-size: 0.8rem; color: #3b82f6; font-weight: 600;">Throttle</div><div style="font-size: 0.65rem; color: #a0a0b0;">Regular intervals</div></div></div>`,
        definition: `<p><strong>Debouncing</strong> delays execution until input stops. <strong>Throttling</strong> limits execution to fixed intervals. Both prevent excessive function calls.</p>`,
        keyPoints: [
          { icon: "‚è∏Ô∏è", title: "Debounce", desc: "Execute after user stops typing. Good for search.", color: "#8b5cf6" },
          { icon: "‚è±Ô∏è", title: "Throttle", desc: "Execute at most once per interval. Good for scroll.", color: "#3b82f6" },
          { icon: "üîç", title: "Search", desc: "Debounce search to avoid request spam.", color: "#22c55e" },
          { icon: "üìú", title: "Scroll", desc: "Throttle scroll handlers for performance.", color: "#f59e0b" }
        ],
        formula: "Debounce = Wait for silence | Throttle = Rate limit",
        strategies: [
          { title: "useDebouncedValue", desc: "Debounce state values for search inputs." },
          { title: "300ms Default", desc: "300ms is a good default debounce delay." },
          { title: "useThrottle", desc: "Throttle scroll and resize handlers." },
          { title: "Cancel on Unmount", desc: "Cancel pending debounced calls on unmount." }
        ],
        metrics: [
          { level: "Search", downtime: "Debounce 300ms", useCase: "Typing" },
          { level: "Autocomplete", downtime: "Debounce 150ms", useCase: "Fast" },
          { level: "Scroll", downtime: "Throttle 100ms", useCase: "Smooth" },
          { level: "Resize", downtime: "Throttle 200ms", useCase: "Layout" }
        ]
      },
      "fe-parallel-sequential": {
        title: "Parallel vs Sequential Requests",
        subtitle: "Optimizing data fetching by making requests concurrently when possible.",
        badge: { text: "Data Fetching", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 16px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.75rem; color: #22c55e; margin-bottom: 8px;">Parallel (faster)</div><div style="display: flex; gap: 8px;"><div style="background: #22c55e; height: 8px; flex: 1; border-radius: 4px;"></div><div style="background: #22c55e; height: 8px; flex: 1; border-radius: 4px;"></div><div style="background: #22c55e; height: 8px; flex: 1; border-radius: 4px;"></div></div></div><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.75rem; color: #f59e0b; margin-bottom: 8px;">Sequential (slower)</div><div style="display: flex; gap: 8px;"><div style="background: #f59e0b; height: 8px; width: 60px; border-radius: 4px;"></div><div style="background: #f59e0b; height: 8px; width: 60px; border-radius: 4px;"></div><div style="background: #f59e0b; height: 8px; width: 60px; border-radius: 4px;"></div></div></div></div></div>`,
        definition: `<p><strong>Parallel requests</strong> are made simultaneously, reducing total wait time. <strong>Sequential requests</strong> depend on previous results.</p>`,
        keyPoints: [
          { icon: "‚ö°", title: "Parallel", desc: "Make independent requests simultaneously.", color: "#22c55e" },
          { icon: "‚è≥", title: "Sequential", desc: "Wait for one request to make the next.", color: "#f59e0b" },
          { icon: "üîó", title: "Dependencies", desc: "Use sequential when requests depend on each other.", color: "#3b82f6" },
          { icon: "üì¶", title: "Promise.all", desc: "Use Promise.all for parallel requests.", color: "#8b5cf6" }
        ],
        formula: "Parallel Time = max(request times) | Sequential = sum(request times)",
        strategies: [
          { title: "Default Parallel", desc: "React Query runs multiple useQuery hooks in parallel." },
          { title: "Promise.all", desc: "Use Promise.all to wait for all parallel requests." },
          { title: "Dependent Queries", desc: "Use enabled option for dependent queries." },
          { title: "Waterfall Detection", desc: "Use devtools to detect request waterfalls." }
        ],
        metrics: [
          { level: "Independent", downtime: "Parallel", useCase: "Fastest" },
          { level: "Dependent", downtime: "Sequential", useCase: "Required" },
          { level: "Prefetch", downtime: "Background", useCase: "Eager" },
          { level: "Lazy", downtime: "On demand", useCase: "Deferred" }
        ]
      },
      "fe-api-versioning": {
        title: "API Versioning",
        subtitle: "Handling different API versions on the frontend.",
        badge: { text: "Data Fetching", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="background: rgba(236, 72, 153, 0.1); border-left: 4px solid #ec4899; padding: 10px; border-radius: 0 8px 8px 0; font-family: monospace; font-size: 0.75rem;">/api/v1/users</div><div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 10px; border-radius: 0 8px 8px 0; font-family: monospace; font-size: 0.75rem;">/api/v2/users</div></div></div>`,
        definition: `<p><strong>API Versioning</strong> allows backends to evolve while maintaining compatibility. Frontends must handle version transitions gracefully.</p>`,
        keyPoints: [
          { icon: "üî¢", title: "URL Versioning", desc: "/api/v1/ in the URL path.", color: "#ec4899" },
          { icon: "üìã", title: "Header Versioning", desc: "Version specified in request headers.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Migration", desc: "Plan frontend updates when API versions change.", color: "#22c55e" },
          { icon: "üì¶", title: "Type Safety", desc: "Keep TypeScript types in sync with API versions.", color: "#f59e0b" }
        ],
        formula: "Frontend Version ‚â§ API Version",
        strategies: [
          { title: "Config-Driven", desc: "Store API version in environment config." },
          { title: "Type Generation", desc: "Generate types from OpenAPI/GraphQL schema." },
          { title: "Adapter Pattern", desc: "Create adapters to normalize different API versions." },
          { title: "Feature Detection", desc: "Check API capabilities rather than version numbers." }
        ],
        metrics: [
          { level: "URL path", downtime: "/v1/", useCase: "Most common" },
          { level: "Header", downtime: "Accept-Version", useCase: "Clean URLs" },
          { level: "Query param", downtime: "?version=1", useCase: "Simple" },
          { level: "GraphQL", downtime: "Schema evolution", useCase: "Different" }
        ]
      },
      "fe-bff-pattern": {
        title: "BFF Pattern",
        subtitle: "Backend for Frontend pattern tailors APIs specifically for frontend needs.",
        badge: { text: "Data Fetching", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="display: flex; flex-direction: column; align-items: center; gap: 16px;"><div style="background: rgba(245, 158, 11, 0.1); border: 2px solid #f59e0b; border-radius: 12px; padding: 16px; width: 150px;"><div style="font-size: 1rem;">üì± Frontend</div></div><div style="color: #f59e0b;">‚Üï</div><div style="background: rgba(139, 92, 246, 0.1); border: 2px solid #8b5cf6; border-radius: 12px; padding: 16px; width: 150px;"><div style="font-size: 1rem;">üîß BFF</div></div><div style="color: #f59e0b;">‚Üï</div><div style="display: flex; gap: 12px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 10px; font-size: 0.75rem;">Service A</div><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 10px; font-size: 0.75rem;">Service B</div></div></div></div>`,
        definition: `<p><strong>BFF (Backend for Frontend)</strong> is a pattern where a dedicated backend service is created specifically for a frontend, aggregating and transforming data from multiple services.</p>`,
        keyPoints: [
          { icon: "üîß", title: "Custom API", desc: "API tailored to frontend's exact needs.", color: "#f59e0b" },
          { icon: "üì¶", title: "Aggregation", desc: "Combines data from multiple backend services.", color: "#3b82f6" },
          { icon: "üîí", title: "Security", desc: "Handles auth and hides internal services.", color: "#22c55e" },
          { icon: "‚ö°", title: "Performance", desc: "Reduces over-fetching and request count.", color: "#8b5cf6" }
        ],
        formula: "Frontend ‚Üí BFF ‚Üí Multiple Backend Services",
        strategies: [
          { title: "One BFF per Client", desc: "Separate BFFs for web, mobile, etc." },
          { title: "GraphQL as BFF", desc: "GraphQL can serve as a BFF layer." },
          { title: "Node.js BFF", desc: "Use Node.js for JavaScript-based BFF." },
          { title: "Next.js API Routes", desc: "Use Next.js API routes as a lightweight BFF." }
        ],
        metrics: [
          { level: "Aggregation", downtime: "Combine services", useCase: "Reduce requests" },
          { level: "Transformation", downtime: "Shape data", useCase: "Frontend-friendly" },
          { level: "Caching", downtime: "Cache responses", useCase: "Performance" },
          { level: "Auth", downtime: "Handle tokens", useCase: "Security" }
        ]
      },

      // Performance Optimization
      "fe-code-splitting": {
        title: "Code Splitting",
        subtitle: "Breaking your bundle into smaller chunks that are loaded on demand.",
        badge: { text: "Performance", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;"><div style="background: rgba(236, 72, 153, 0.15); border: 2px solid #ec4899; border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1rem;">üì¶ Main</div><div style="font-size: 0.6rem; color: #a0a0b0;">50KB</div></div><div style="background: rgba(139, 92, 246, 0.1); border: 1px solid rgba(139, 92, 246, 0.3); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1rem;">üìÑ Route A</div><div style="font-size: 0.6rem; color: #a0a0b0;">20KB</div></div><div style="background: rgba(59, 130, 246, 0.1); border: 1px solid rgba(59, 130, 246, 0.3); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1rem;">üìÑ Route B</div><div style="font-size: 0.6rem; color: #a0a0b0;">30KB</div></div></div></div>`,
        definition: `<p><strong>Code Splitting</strong> divides your JavaScript bundle into smaller chunks. Users only download code for the features they use, improving initial load time.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Route Splitting", desc: "Split by route. Each page loads its own code.", color: "#ec4899" },
          { icon: "üîÄ", title: "Dynamic Import", desc: "Use import() for on-demand loading.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Lazy Loading", desc: "React.lazy() for component-level splitting.", color: "#22c55e" },
          { icon: "üìä", title: "Bundle Analysis", desc: "Use webpack-bundle-analyzer to find opportunities.", color: "#f59e0b" }
        ],
        formula: "const Component = React.lazy(() => import('./Component'))",
        strategies: [
          { title: "Route-based", desc: "Split at the route level for page-based apps." },
          { title: "Component-based", desc: "Lazy load heavy components like modals, charts." },
          { title: "Vendor Splitting", desc: "Separate vendor code from app code." },
          { title: "Prefetching", desc: "Prefetch likely-needed chunks on hover or idle." }
        ],
        metrics: [
          { level: "Initial Bundle", downtime: "< 100KB", useCase: "Fast load" },
          { level: "Route Chunks", downtime: "< 50KB each", useCase: "Navigation" },
          { level: "Coverage", downtime: "> 80% used", useCase: "Efficiency" },
          { level: "LCP Impact", downtime: "< 2.5s", useCase: "Core Web Vitals" }
        ]
      },
      "fe-lazy-loading": {
        title: "Lazy Loading",
        subtitle: "Deferring the loading of resources until they are actually needed.",
        badge: { text: "Performance", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 12px; padding: 20px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="background: #3b82f6; height: 40px; border-radius: 6px; display: flex; align-items: center; justify-content: center; color: white; font-size: 0.75rem;">Visible - Loaded ‚úì</div><div style="background: rgba(59, 130, 246, 0.3); height: 40px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; color: #a0a0b0;">Below fold - Lazy</div><div style="background: rgba(59, 130, 246, 0.2); height: 40px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.75rem; color: #a0a0b0;">Below fold - Lazy</div></div></div></div>`,
        definition: `<p><strong>Lazy Loading</strong> defers loading of non-critical resources. Images, components, and scripts load only when needed, speeding up initial page load.</p>`,
        keyPoints: [
          { icon: "üñºÔ∏è", title: "Images", desc: "Use loading='lazy' or Intersection Observer.", color: "#3b82f6" },
          { icon: "üß©", title: "Components", desc: "React.lazy() with Suspense for components.", color: "#8b5cf6" },
          { icon: "üìú", title: "Scripts", desc: "defer or async for non-critical scripts.", color: "#22c55e" },
          { icon: "üëÅÔ∏è", title: "Intersection Observer", desc: "Load when element enters viewport.", color: "#f59e0b" }
        ],
        formula: "<img loading='lazy' /> + React.lazy() + Intersection Observer",
        strategies: [
          { title: "Native lazy", desc: "Use loading='lazy' for images and iframes." },
          { title: "Suspense", desc: "Wrap lazy components with Suspense and fallback." },
          { title: "Route-based", desc: "Lazy load entire routes." },
          { title: "Skeleton UI", desc: "Show skeletons while lazy content loads." }
        ],
        metrics: [
          { level: "Images", downtime: "loading='lazy'", useCase: "Below fold" },
          { level: "Components", downtime: "React.lazy", useCase: "Heavy UI" },
          { level: "Routes", downtime: "Dynamic import", useCase: "Pages" },
          { level: "Third-party", downtime: "Defer", useCase: "Analytics, chat" }
        ]
      },
      "fe-tree-shaking": {
        title: "Tree Shaking",
        subtitle: "Eliminating dead code from bundles by removing unused exports.",
        badge: { text: "Performance", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="display: flex; align-items: center; justify-content: center; gap: 20px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 16px;"><div style="font-size: 1.5rem;">üå≥</div><div style="font-size: 0.7rem; color: #ef4444;">Before: 500KB</div></div><span style="color: #22c55e; font-size: 1.5rem;">‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 16px;"><div style="font-size: 1.5rem;">üåø</div><div style="font-size: 0.7rem; color: #22c55e;">After: 150KB</div></div></div></div>`,
        definition: `<p><strong>Tree Shaking</strong> removes unused code from your bundle. It relies on ES modules' static structure to determine what's actually used.</p>`,
        keyPoints: [
          { icon: "üå≥", title: "Dead Code", desc: "Unused exports are eliminated from the bundle.", color: "#22c55e" },
          { icon: "üì¶", title: "ES Modules", desc: "Works with import/export, not require().", color: "#3b82f6" },
          { icon: "‚ö†Ô∏è", title: "Side Effects", desc: "Mark files with sideEffects in package.json.", color: "#f59e0b" },
          { icon: "üìö", title: "Library Choice", desc: "Choose tree-shakeable libraries.", color: "#8b5cf6" }
        ],
        formula: "import { used } from 'lib' ‚Üí only 'used' is bundled",
        strategies: [
          { title: "Named Imports", desc: "Use named imports, not import *." },
          { title: "ES Modules", desc: "Use ESM libraries, avoid CommonJS." },
          { title: "sideEffects", desc: "Add sideEffects: false to package.json." },
          { title: "Bundle Analysis", desc: "Check if tree shaking is working." }
        ],
        metrics: [
          { level: "ESM", downtime: "Required", useCase: "Tree shaking" },
          { level: "sideEffects", downtime: "false", useCase: "Optimal" },
          { level: "lodash-es", downtime: "Not lodash", useCase: "Library choice" },
          { level: "Bundle size", downtime: "-30-70%", useCase: "Savings" }
        ]
      },
      "fe-memoization": {
        title: "Memoization",
        subtitle: "Caching computation results to avoid redundant recalculations.",
        badge: { text: "Performance", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üß†</div><div style="font-size: 0.7rem; color: #8b5cf6;">useMemo</div></div><div style="background: rgba(139, 92, 246, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üîÑ</div><div style="font-size: 0.7rem; color: #8b5cf6;">useCallback</div></div><div style="background: rgba(139, 92, 246, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üì¶</div><div style="font-size: 0.7rem; color: #8b5cf6;">React.memo</div></div></div></div>`,
        definition: `<p><strong>Memoization</strong> caches the result of expensive computations. React provides useMemo, useCallback, and React.memo for different memoization needs.</p>`,
        keyPoints: [
          { icon: "üß†", title: "useMemo", desc: "Memoize expensive computed values.", color: "#8b5cf6" },
          { icon: "üîÑ", title: "useCallback", desc: "Memoize callback functions.", color: "#3b82f6" },
          { icon: "üì¶", title: "React.memo", desc: "Prevent unnecessary component re-renders.", color: "#22c55e" },
          { icon: "‚ö†Ô∏è", title: "Don't Overuse", desc: "Memoization has its own cost. Profile first.", color: "#f59e0b" }
        ],
        formula: "useMemo(() => expensive(a, b), [a, b])",
        strategies: [
          { title: "Expensive Calcs", desc: "Memoize filtering, sorting, transformations." },
          { title: "Stable References", desc: "useCallback for handlers passed to children." },
          { title: "Pure Children", desc: "Use React.memo for pure presentational components." },
          { title: "Profile First", desc: "Don't memoize prematurely. Measure first." }
        ],
        metrics: [
          { level: "useMemo", downtime: "Values", useCase: "Computed data" },
          { level: "useCallback", downtime: "Functions", useCase: "Event handlers" },
          { level: "React.memo", downtime: "Components", useCase: "Pure components" },
          { level: "Compiler", downtime: "React 19+", useCase: "Automatic" }
        ]
      },
      "fe-virtualization": {
        title: "Virtualization",
        subtitle: "Rendering only visible items in large lists for optimal performance.",
        badge: { text: "Performance", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(245, 158, 11, 0.1); border: 2px solid rgba(245, 158, 11, 0.3); border-radius: 12px; padding: 16px; max-height: 150px; overflow: hidden;"><div style="display: flex; flex-direction: column; gap: 6px;"><div style="background: #f59e0b; height: 24px; border-radius: 4px; display: flex; align-items: center; padding: 0 10px; font-size: 0.7rem; color: white;">Rendered ‚úì</div><div style="background: #f59e0b; height: 24px; border-radius: 4px; display: flex; align-items: center; padding: 0 10px; font-size: 0.7rem; color: white;">Rendered ‚úì</div><div style="background: rgba(245, 158, 11, 0.3); height: 24px; border-radius: 4px; display: flex; align-items: center; padding: 0 10px; font-size: 0.7rem; color: #a0a0b0;">Virtual...</div><div style="text-align: center; font-size: 0.6rem; color: #a0a0b0;">...9,997 more items</div></div></div></div>`,
        definition: `<p><strong>Virtualization</strong> renders only the items currently visible in the viewport. For lists with thousands of items, this dramatically improves performance.</p>`,
        keyPoints: [
          { icon: "üìú", title: "Virtual Lists", desc: "Only render visible rows, not all 10,000.", color: "#f59e0b" },
          { icon: "üìä", title: "Virtual Tables", desc: "Same concept for large data tables.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Recycling", desc: "Reuse DOM nodes as user scrolls.", color: "#22c55e" },
          { icon: "üìö", title: "Libraries", desc: "Use react-virtual, react-window, or tanstack-virtual.", color: "#8b5cf6" }
        ],
        formula: "Render = items.slice(startIndex, endIndex)",
        strategies: [
          { title: "TanStack Virtual", desc: "Modern, headless virtualization library." },
          { title: "Fixed Height", desc: "Works best with known, fixed item heights." },
          { title: "Dynamic Height", desc: "Use estimateSize for variable heights." },
          { title: "Overscan", desc: "Render a few extra items to prevent flicker." }
        ],
        metrics: [
          { level: "> 100 items", downtime: "Consider", useCase: "Performance" },
          { level: "> 1000 items", downtime: "Required", useCase: "Smooth scroll" },
          { level: "Overscan", downtime: "5-10 items", useCase: "Buffer" },
          { level: "React Window", downtime: "2KB", useCase: "Lightweight" }
        ]
      },
      "fe-image-optimization": {
        title: "Image Optimization",
        subtitle: "Reducing image file sizes and improving loading performance.",
        badge: { text: "Performance", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;"><div style="background: rgba(6, 182, 212, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üñºÔ∏è</div><div style="font-size: 0.7rem; color: #06b6d4;">WebP/AVIF</div></div><div style="background: rgba(6, 182, 212, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üìê</div><div style="font-size: 0.7rem; color: #06b6d4;">Responsive</div></div><div style="background: rgba(6, 182, 212, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">‚è≥</div><div style="font-size: 0.7rem; color: #06b6d4;">Lazy Load</div></div><div style="background: rgba(6, 182, 212, 0.1); border-radius: 10px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üåê</div><div style="font-size: 0.7rem; color: #06b6d4;">CDN</div></div></div></div>`,
        definition: `<p><strong>Image Optimization</strong> reduces image file sizes while maintaining quality. Use modern formats, responsive images, and lazy loading.</p>`,
        keyPoints: [
          { icon: "üñºÔ∏è", title: "Modern Formats", desc: "WebP is 25-35% smaller than JPEG. AVIF even better.", color: "#06b6d4" },
          { icon: "üìê", title: "Responsive", desc: "Serve different sizes for different screens.", color: "#3b82f6" },
          { icon: "‚è≥", title: "Lazy Loading", desc: "Load images as they enter viewport.", color: "#22c55e" },
          { icon: "üî≤", title: "Placeholders", desc: "Use blur-up or solid color placeholders.", color: "#f59e0b" }
        ],
        formula: "srcset + sizes + loading='lazy' + WebP",
        strategies: [
          { title: "Next/Image", desc: "Use next/image for automatic optimization." },
          { title: "WebP with Fallback", desc: "Use <picture> for format fallbacks." },
          { title: "CDN Optimization", desc: "Use Cloudinary, imgix, or Vercel Image." },
          { title: "Blur Placeholder", desc: "Show blurred preview while loading." }
        ],
        metrics: [
          { level: "WebP", downtime: "-30% size", useCase: "Default format" },
          { level: "AVIF", downtime: "-50% size", useCase: "Best compression" },
          { level: "LCP Image", downtime: "Priority", useCase: "Above fold" },
          { level: "CLS", downtime: "width/height", useCase: "Prevent shift" }
        ]
      },
      "fe-bundle-analysis": {
        title: "Bundle Size Analysis",
        subtitle: "Analyzing and optimizing your JavaScript bundle composition.",
        badge: { text: "Performance", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: flex; gap: 8px; height: 80px; align-items: flex-end;"><div style="background: #ef4444; width: 50px; height: 100%; border-radius: 4px 4px 0 0; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 4px; font-size: 0.5rem; color: white;">react</div><div style="background: #f59e0b; width: 40px; height: 60%; border-radius: 4px 4px 0 0;"></div><div style="background: #22c55e; width: 30px; height: 40%; border-radius: 4px 4px 0 0;"></div><div style="background: #3b82f6; width: 35px; height: 50%; border-radius: 4px 4px 0 0;"></div><div style="background: #8b5cf6; width: 25px; height: 30%; border-radius: 4px 4px 0 0;"></div></div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px; text-align: center;">Bundle Composition Visualization</div></div>`,
        definition: `<p><strong>Bundle Analysis</strong> helps you understand what's in your JavaScript bundles, identify large dependencies, and find optimization opportunities.</p>`,
        keyPoints: [
          { icon: "üìä", title: "Visualize", desc: "See treemap of bundle contents.", color: "#ef4444" },
          { icon: "üîç", title: "Find Bloat", desc: "Identify unnecessarily large dependencies.", color: "#3b82f6" },
          { icon: "üì¶", title: "Duplicates", desc: "Find duplicate packages in bundle.", color: "#f59e0b" },
          { icon: "‚úÇÔ∏è", title: "Optimize", desc: "Replace heavy packages with lighter alternatives.", color: "#22c55e" }
        ],
        formula: "npx webpack-bundle-analyzer stats.json",
        strategies: [
          { title: "webpack-bundle-analyzer", desc: "Interactive treemap of bundle." },
          { title: "source-map-explorer", desc: "Analyze using source maps." },
          { title: "bundlephobia", desc: "Check package sizes before installing." },
          { title: "Import Cost", desc: "VS Code extension shows import sizes." }
        ],
        metrics: [
          { level: "Initial JS", downtime: "< 100KB", useCase: "Fast load" },
          { level: "Total JS", downtime: "< 300KB", useCase: "Reasonable" },
          { level: "Largest chunk", downtime: "< 150KB", useCase: "Code split" },
          { level: "Gzipped", downtime: "-70%", useCase: "Compression" }
        ]
      },
      "fe-web-workers": {
        title: "Web Workers",
        subtitle: "Running scripts in background threads to avoid blocking the main thread.",
        badge: { text: "Performance", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;"><div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1rem; margin-bottom: 6px;">üñ•Ô∏è</div><div style="font-size: 0.8rem; color: #10b981;">Main Thread</div><div style="font-size: 0.6rem; color: #a0a0b0;">UI, Events</div></div><div style="background: rgba(59, 130, 246, 0.1); border: 2px solid #3b82f6; border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1rem; margin-bottom: 6px;">‚öôÔ∏è</div><div style="font-size: 0.8rem; color: #3b82f6;">Web Worker</div><div style="font-size: 0.6rem; color: #a0a0b0;">Heavy computation</div></div></div></div>`,
        definition: `<p><strong>Web Workers</strong> run scripts in background threads, preventing heavy computations from blocking the UI and causing jank.</p>`,
        keyPoints: [
          { icon: "üßµ", title: "Background Thread", desc: "Run heavy computation off main thread.", color: "#10b981" },
          { icon: "üì®", title: "Message Passing", desc: "Communicate via postMessage.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Use Cases", desc: "Data processing, parsing, encryption.", color: "#f59e0b" },
          { icon: "üö´", title: "No DOM", desc: "Workers can't access DOM directly.", color: "#ef4444" }
        ],
        formula: "worker.postMessage(data) ‚Üí worker.onmessage",
        strategies: [
          { title: "comlink", desc: "Use Comlink for easier worker communication." },
          { title: "Heavy Computation", desc: "Move JSON parsing, filtering, sorting to worker." },
          { title: "Web Assembly", desc: "Combine with WASM for max performance." },
          { title: "Shared Workers", desc: "Share worker between tabs." }
        ],
        metrics: [
          { level: "> 50ms", downtime: "Consider worker", useCase: "Long task" },
          { level: "> 100ms", downtime: "Definitely worker", useCase: "Jank risk" },
          { level: "Comlink", downtime: "Easy API", useCase: "DX" },
          { level: "Transferable", downtime: "Zero-copy", useCase: "Large data" }
        ]
      },
      "fe-prefetch-preload": {
        title: "Prefetching & Preloading",
        subtitle: "Loading resources before they're needed to improve perceived performance.",
        badge: { text: "Performance", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 12px;"><div style="background: rgba(99, 102, 241, 0.1); border-left: 4px solid #6366f1; padding: 12px; border-radius: 0 8px 8px 0;"><div style="font-size: 0.8rem; color: #6366f1;">preload - Critical resources NOW</div></div><div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 12px; border-radius: 0 8px 8px 0;"><div style="font-size: 0.8rem; color: #3b82f6;">prefetch - Next page resources LATER</div></div><div style="background: rgba(34, 197, 94, 0.1); border-left: 4px solid #22c55e; padding: 12px; border-radius: 0 8px 8px 0;"><div style="font-size: 0.8rem; color: #22c55e;">preconnect - Early connection to origins</div></div></div></div>`,
        definition: `<p><strong>Preloading</strong> fetches critical resources early. <strong>Prefetching</strong> fetches resources likely needed for future navigation.</p>`,
        keyPoints: [
          { icon: "‚ö°", title: "Preload", desc: "High priority. Load critical resources NOW.", color: "#6366f1" },
          { icon: "üì¶", title: "Prefetch", desc: "Low priority. Load for future navigation.", color: "#3b82f6" },
          { icon: "üîó", title: "Preconnect", desc: "Establish early connections to third-party origins.", color: "#22c55e" },
          { icon: "üåê", title: "DNS Prefetch", desc: "Resolve DNS for external domains early.", color: "#f59e0b" }
        ],
        formula: "<link rel='preload' as='script' href='critical.js'>",
        strategies: [
          { title: "Preload LCP Image", desc: "Preload the Largest Contentful Paint image." },
          { title: "Preload Fonts", desc: "Preload critical fonts to avoid FOUT." },
          { title: "Prefetch Routes", desc: "Prefetch next-page bundles on link hover." },
          { title: "Preconnect CDN", desc: "Preconnect to CDN and API origins." }
        ],
        metrics: [
          { level: "preload", downtime: "Critical", useCase: "LCP image, fonts" },
          { level: "prefetch", downtime: "Next nav", useCase: "Route chunks" },
          { level: "preconnect", downtime: "Origins", useCase: "APIs, CDN" },
          { level: "dns-prefetch", downtime: "DNS only", useCase: "Many origins" }
        ]
      },
      "fe-cold-start": {
        title: "Cold Start Optimization",
        subtitle: "Minimizing the time from page load to interactive for first-time visitors.",
        badge: { text: "Performance", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(249, 115, 22, 0.1); border-radius: 12px; padding: 16px;"><div style="display: flex; gap: 4px; height: 30px;"><div style="background: #f97316; flex: 1; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; color: white;">Parse</div><div style="background: #f59e0b; flex: 2; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; color: white;">Compile</div><div style="background: #22c55e; flex: 1; border-radius: 4px; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; color: white;">Execute</div></div><div style="text-align: center; font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">JavaScript Startup Cost</div></div></div>`,
        definition: `<p><strong>Cold Start</strong> is the initial page load without cache. Optimizing means minimizing JavaScript parsing, compilation, and execution time.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Bundle Size", desc: "Less JS = faster parse and compile.", color: "#f97316" },
          { icon: "‚ö°", title: "Critical Path", desc: "Only load essential code initially.", color: "#3b82f6" },
          { icon: "üóúÔ∏è", title: "Compression", desc: "Brotli compression reduces transfer size.", color: "#22c55e" },
          { icon: "üíæ", title: "Caching", desc: "Long cache headers for return visitors.", color: "#8b5cf6" }
        ],
        formula: "TTI = Download + Parse + Compile + Execute",
        strategies: [
          { title: "Code Split", desc: "Only load code needed for initial render." },
          { title: "SSR/SSG", desc: "Server render for faster First Paint." },
          { title: "Edge Caching", desc: "Cache static assets at edge." },
          { title: "Modern JS", desc: "Serve ES2020+ to modern browsers." }
        ],
        metrics: [
          { level: "FCP", downtime: "< 1.8s", useCase: "First Paint" },
          { level: "TTI", downtime: "< 3.8s", useCase: "Interactive" },
          { level: "TBT", downtime: "< 200ms", useCase: "Main thread" },
          { level: "JS parse", downtime: "< 1s", useCase: "Mobile" }
        ]
      },

      // Rendering Strategies
      "fe-csr": {
        title: "CSR (Client-Side Rendering)",
        subtitle: "Rendering the application entirely in the browser using JavaScript.",
        badge: { text: "Rendering", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(6, 182, 212, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üåê</div><div style="font-size: 0.7rem; color: #06b6d4;">Empty HTML</div></div><span style="color: #06b6d4;">‚Üí</span><div style="background: rgba(6, 182, 212, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">‚öôÔ∏è</div><div style="font-size: 0.7rem; color: #06b6d4;">JS Loads</div></div><span style="color: #06b6d4;">‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">‚ú®</div><div style="font-size: 0.7rem; color: #22c55e;">Rendered</div></div></div></div>`,
        definition: `<p><strong>CSR</strong> sends a minimal HTML shell, then JavaScript downloads and renders the entire application in the browser.</p>`,
        keyPoints: [
          { icon: "üìÑ", title: "Empty Shell", desc: "Server sends minimal HTML with JS bundle.", color: "#06b6d4" },
          { icon: "‚öôÔ∏è", title: "JS Renders", desc: "JavaScript builds the DOM in browser.", color: "#3b82f6" },
          { icon: "‚è≥", title: "Slower FCP", desc: "First Contentful Paint waits for JS.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Rich Interactivity", desc: "Great for app-like experiences.", color: "#22c55e" }
        ],
        formula: "HTML Shell ‚Üí JS Download ‚Üí JS Execute ‚Üí Render",
        strategies: [
          { title: "SPAs", desc: "Best for highly interactive applications." },
          { title: "Code Split", desc: "Split code to reduce initial bundle." },
          { title: "Loading States", desc: "Show skeletons while content loads." },
          { title: "Consider SEO", desc: "CSR can hurt SEO. Use SSR if needed." }
        ],
        metrics: [
          { level: "FCP", downtime: "Slower", useCase: "Waits for JS" },
          { level: "TTI", downtime: "Depends on JS", useCase: "Bundle size" },
          { level: "SEO", downtime: "Challenging", useCase: "Need SSR/SSG" },
          { level: "UX", downtime: "Highly interactive", useCase: "SPAs" }
        ]
      },
      "fe-ssr": {
        title: "SSR (Server-Side Rendering)",
        subtitle: "Rendering HTML on the server for each request before sending to the client.",
        badge: { text: "Rendering", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üñ•Ô∏è</div><div style="font-size: 0.7rem; color: #8b5cf6;">Server</div></div><span style="color: #8b5cf6;">‚Üí</span><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üìÑ</div><div style="font-size: 0.7rem; color: #8b5cf6;">Full HTML</div></div><span style="color: #8b5cf6;">‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üíß</div><div style="font-size: 0.7rem; color: #22c55e;">Hydrate</div></div></div></div>`,
        definition: `<p><strong>SSR</strong> renders the full HTML on the server for each request. The browser receives complete HTML and then hydrates it with JavaScript.</p>`,
        keyPoints: [
          { icon: "üñ•Ô∏è", title: "Server Render", desc: "HTML generated on server per request.", color: "#8b5cf6" },
          { icon: "üìÑ", title: "Full HTML", desc: "Browser receives complete, crawlable HTML.", color: "#3b82f6" },
          { icon: "üíß", title: "Hydration", desc: "JS attaches event handlers to static HTML.", color: "#22c55e" },
          { icon: "üîç", title: "SEO Friendly", desc: "Search engines see full content.", color: "#f59e0b" }
        ],
        formula: "Request ‚Üí Server Render ‚Üí HTML Response ‚Üí Hydrate",
        strategies: [
          { title: "Next.js", desc: "Use Next.js for easy SSR setup." },
          { title: "Streaming", desc: "Stream HTML for faster TTFB." },
          { title: "Caching", desc: "Cache rendered pages when possible." },
          { title: "Dynamic Data", desc: "Use SSR for personalized, dynamic content." }
        ],
        metrics: [
          { level: "FCP", downtime: "Fast", useCase: "Immediate content" },
          { level: "TTFB", downtime: "Slower", useCase: "Server processing" },
          { level: "SEO", downtime: "Excellent", useCase: "Crawlable" },
          { level: "Server Load", downtime: "Higher", useCase: "Per-request render" }
        ]
      },
      "fe-ssg": {
        title: "SSG (Static Site Generation)",
        subtitle: "Pre-rendering pages at build time for maximum performance.",
        badge: { text: "Rendering", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üî®</div><div style="font-size: 0.7rem; color: #22c55e;">Build Time</div></div><span style="color: #22c55e;">‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üìÑ</div><div style="font-size: 0.7rem; color: #22c55e;">Static HTML</div></div><span style="color: #22c55e;">‚Üí</span><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üåê</div><div style="font-size: 0.7rem; color: #3b82f6;">CDN</div></div></div></div>`,
        definition: `<p><strong>SSG</strong> generates HTML at build time. Pages are pre-built and served as static files from a CDN, offering the best performance.</p>`,
        keyPoints: [
          { icon: "üî®", title: "Build Time", desc: "HTML generated once during build.", color: "#22c55e" },
          { icon: "üìÑ", title: "Static Files", desc: "Pure HTML, CSS, JS files.", color: "#3b82f6" },
          { icon: "üåê", title: "CDN Served", desc: "Served from edge, globally fast.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Fastest", desc: "Best possible TTFB and FCP.", color: "#8b5cf6" }
        ],
        formula: "Build ‚Üí Generate HTML ‚Üí Deploy to CDN ‚Üí Serve",
        strategies: [
          { title: "Blog, Docs", desc: "Perfect for content that rarely changes." },
          { title: "Marketing", desc: "Landing pages, marketing sites." },
          { title: "Incremental", desc: "Use ISR for large sites or frequent updates." },
          { title: "Client Fetch", desc: "Fetch dynamic data on client if needed." }
        ],
        metrics: [
          { level: "TTFB", downtime: "Fastest", useCase: "No server" },
          { level: "FCP", downtime: "Instant", useCase: "Pre-rendered" },
          { level: "Scalability", downtime: "Unlimited", useCase: "CDN" },
          { level: "Freshness", downtime: "Rebuild needed", useCase: "Static" }
        ]
      },
      "fe-isr": {
        title: "ISR (Incremental Static Regeneration)",
        subtitle: "Updating static pages after deployment without rebuilding the entire site.",
        badge: { text: "Rendering", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(245, 158, 11, 0.1); border-radius: 12px; padding: 16px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="display: flex; justify-content: space-between; align-items: center; font-size: 0.75rem;"><span style="color: #f59e0b;">Serve cached</span><span>‚Üí Revalidate in background ‚Üí</span><span style="color: #22c55e;">Update cache</span></div></div></div></div>`,
        definition: `<p><strong>ISR</strong> combines SSG with the ability to update pages incrementally. Pages are regenerated in the background after a specified revalidation time.</p>`,
        keyPoints: [
          { icon: "‚ö°", title: "Static Speed", desc: "Serve from cache instantly.", color: "#f59e0b" },
          { icon: "üîÑ", title: "Background Update", desc: "Regenerate stale pages in background.", color: "#3b82f6" },
          { icon: "‚è∞", title: "Revalidate", desc: "Set time interval for freshness.", color: "#22c55e" },
          { icon: "üìà", title: "Scalable", desc: "Works for millions of pages.", color: "#8b5cf6" }
        ],
        formula: "revalidate: 60 ‚Üí Serve stale ‚Üí Regenerate ‚Üí Serve fresh",
        strategies: [
          { title: "E-commerce", desc: "Product pages with ISR for price updates." },
          { title: "News Sites", desc: "Articles that update periodically." },
          { title: "On-Demand", desc: "Use revalidateTag/Path for instant updates." },
          { title: "Fallback", desc: "Use fallback for new pages." }
        ],
        metrics: [
          { level: "revalidate: 60", downtime: "1 min stale", useCase: "Frequent updates" },
          { level: "revalidate: 3600", downtime: "1 hour stale", useCase: "Less frequent" },
          { level: "On-demand", downtime: "Instant", useCase: "CMS webhook" },
          { level: "fallback", downtime: "blocking/true", useCase: "New pages" }
        ]
      },
      "fe-streaming-suspense": {
        title: "Streaming & Suspense",
        subtitle: "Streaming HTML and progressively rendering content as it becomes available.",
        badge: { text: "Rendering", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="background: #ec4899; height: 30px; border-radius: 6px; display: flex; align-items: center; padding: 0 12px; font-size: 0.7rem; color: white;">Shell - Immediate ‚úì</div><div style="background: rgba(236, 72, 153, 0.5); height: 30px; border-radius: 6px; display: flex; align-items: center; padding: 0 12px; font-size: 0.7rem; color: white;">Content A - Streaming...</div><div style="background: rgba(236, 72, 153, 0.3); height: 30px; border-radius: 6px; display: flex; align-items: center; padding: 0 12px; font-size: 0.7rem; color: white;">Content B - Loading...</div></div></div>`,
        definition: `<p><strong>Streaming</strong> sends HTML progressively as it's generated. <strong>Suspense</strong> shows fallbacks while async content loads.</p>`,
        keyPoints: [
          { icon: "üåä", title: "Streaming", desc: "Send HTML chunks as they're ready.", color: "#ec4899" },
          { icon: "‚è≥", title: "Suspense", desc: "Show fallback while awaiting data.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Fast TTFB", desc: "Start sending response immediately.", color: "#22c55e" },
          { icon: "üì¶", title: "Progressive", desc: "Users see content progressively.", color: "#f59e0b" }
        ],
        formula: "<Suspense fallback={<Skeleton />}><AsyncComponent /></Suspense>",
        strategies: [
          { title: "Shell First", desc: "Stream layout shell immediately." },
          { title: "Suspense Boundaries", desc: "Wrap slow components in Suspense." },
          { title: "Loading UI", desc: "Design meaningful loading states." },
          { title: "Error Boundaries", desc: "Handle streaming errors gracefully." }
        ],
        metrics: [
          { level: "TTFB", downtime: "Immediate", useCase: "Start streaming" },
          { level: "FCP", downtime: "Fast", useCase: "Shell renders" },
          { level: "LCP", downtime: "Progressive", useCase: "Content streams" },
          { level: "TTI", downtime: "Selective hydration", useCase: "Priority" }
        ]
      },
      "fe-hydration": {
        title: "Hydration & Rehydration",
        subtitle: "Attaching JavaScript functionality to server-rendered HTML.",
        badge: { text: "Rendering", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">üìÑ</div><div style="font-size: 0.7rem; color: #3b82f6;">Static HTML</div></div><span style="color: #3b82f6;">+</span><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">‚öôÔ∏è</div><div style="font-size: 0.7rem; color: #f59e0b;">JavaScript</div></div><span style="color: #3b82f6;">=</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem;">‚ú®</div><div style="font-size: 0.7rem; color: #22c55e;">Interactive</div></div></div></div>`,
        definition: `<p><strong>Hydration</strong> is the process where JavaScript takes over the static HTML from the server and makes it interactive by attaching event listeners.</p>`,
        keyPoints: [
          { icon: "üíß", title: "Hydration", desc: "Attach JS to server-rendered HTML.", color: "#3b82f6" },
          { icon: "‚ö†Ô∏è", title: "Mismatch", desc: "Server and client HTML must match.", color: "#ef4444" },
          { icon: "üéØ", title: "Selective", desc: "React 18+ hydrates components by priority.", color: "#22c55e" },
          { icon: "üèùÔ∏è", title: "Islands", desc: "Only hydrate interactive parts.", color: "#f59e0b" }
        ],
        formula: "Static HTML + JS Hydration = Interactive App",
        strategies: [
          { title: "Avoid Mismatch", desc: "Ensure server and client render same content." },
          { title: "Selective Hydration", desc: "Use Suspense for priority hydration." },
          { title: "Progressive", desc: "Let React hydrate most interactive parts first." },
          { title: "Islands", desc: "Consider Astro for partial hydration." }
        ],
        metrics: [
          { level: "TTI", downtime: "After hydration", useCase: "Interactive" },
          { level: "TBT", downtime: "During hydration", useCase: "Main thread" },
          { level: "INP", downtime: "User interactions", useCase: "Responsiveness" },
          { level: "Selective", downtime: "React 18+", useCase: "Priority" }
        ]
      },
      "fe-edge-rendering": {
        title: "Edge Rendering",
        subtitle: "Running rendering logic at edge locations close to users.",
        badge: { text: "Rendering", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="background: rgba(16, 185, 129, 0.1); border: 2px solid #10b981; border-radius: 50%; width: 80px; height: 80px; margin: 0 auto; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üåç</div><div style="display: flex; justify-content: center; gap: 20px; margin-top: 16px;"><div style="background: rgba(16, 185, 129, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem;">üá∫üá∏ Edge</div><div style="background: rgba(16, 185, 129, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem;">üá™üá∫ Edge</div><div style="background: rgba(16, 185, 129, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem;">üáØüáµ Edge</div></div></div>`,
        definition: `<p><strong>Edge Rendering</strong> runs server-side code at CDN edge locations worldwide, combining the speed of CDN with dynamic rendering.</p>`,
        keyPoints: [
          { icon: "üåç", title: "Global", desc: "Run code at 100s of edge locations.", color: "#10b981" },
          { icon: "‚ö°", title: "Low Latency", desc: "Render close to the user.", color: "#3b82f6" },
          { icon: "üîß", title: "Edge Runtime", desc: "Limited Node.js API, fast cold start.", color: "#f59e0b" },
          { icon: "üìç", title: "Personalization", desc: "Render based on user location, headers.", color: "#8b5cf6" }
        ],
        formula: "User Request ‚Üí Nearest Edge ‚Üí Render ‚Üí Response",
        strategies: [
          { title: "Middleware", desc: "Use Next.js middleware at edge." },
          { title: "Edge Functions", desc: "Vercel, Cloudflare Workers, Deno Deploy." },
          { title: "A/B Testing", desc: "Split traffic at edge." },
          { title: "Geolocation", desc: "Personalize by user location." }
        ],
        metrics: [
          { level: "TTFB", downtime: "< 100ms", useCase: "Global" },
          { level: "Cold Start", downtime: "< 50ms", useCase: "Edge runtime" },
          { level: "Locations", downtime: "100+", useCase: "Global coverage" },
          { level: "Compute", downtime: "Limited", useCase: "Lightweight" }
        ]
      },

      // Styling & UI Engineering
      "fe-css-modules": {
        title: "CSS Modules",
        subtitle: "Locally scoped CSS that prevents style conflicts between components.",
        badge: { text: "Styling", color: "#f472b6", bg: "rgba(244, 114, 182, 0.15)" },
        color: "#f472b6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(244, 114, 182, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.7rem;"><div style="color: #f472b6; margin-bottom: 8px;">.button { } ‚Üí .Button_button__x7Ks2</div><div style="color: #a0a0b0;">Unique class names, no conflicts</div></div></div>`,
        definition: `<p><strong>CSS Modules</strong> automatically scope CSS class names locally, preventing naming conflicts between components.</p>`,
        keyPoints: [
          { icon: "üîí", title: "Scoped", desc: "Classes are unique to each component.", color: "#f472b6" },
          { icon: "üì¶", title: "Composable", desc: "Compose styles from other modules.", color: "#3b82f6" },
          { icon: "üö´", title: "No Conflicts", desc: "No global namespace pollution.", color: "#22c55e" },
          { icon: "‚ö°", title: "Built-in", desc: "Supported by most bundlers.", color: "#f59e0b" }
        ],
        formula: "import styles from './Button.module.css'",
        strategies: [
          { title: "Name Convention", desc: "Use .module.css extension." },
          { title: "Composition", desc: "Use composes for style reuse." },
          { title: "Global Styles", desc: "Use :global() for global styles." },
          { title: "TypeScript", desc: "Generate types with typed-css-modules." }
        ],
        metrics: [
          { level: "Scoping", downtime: "Automatic", useCase: "Isolation" },
          { level: "Bundle", downtime: "Optimal", useCase: "Only used CSS" },
          { level: "Learning", downtime: "Low", useCase: "Just CSS" },
          { level: "Tooling", downtime: "Built-in", useCase: "Next.js, Vite" }
        ]
      },
      "fe-styled-components": {
        title: "Styled Components",
        subtitle: "CSS-in-JS library for styling React components with tagged template literals.",
        badge: { text: "Styling", color: "#db7093", bg: "rgba(219, 112, 147, 0.15)" },
        color: "#db7093",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(219, 112, 147, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.65rem; color: #db7093;"><div>const Button = styled.button\`</div><div style="padding-left: 16px;">background: blue;</div><div>\`</div></div></div>`,
        definition: `<p><strong>Styled Components</strong> lets you write CSS inside JavaScript using tagged template literals, with automatic scoping and dynamic styling.</p>`,
        keyPoints: [
          { icon: "üíÖ", title: "CSS-in-JS", desc: "Write CSS inside JavaScript.", color: "#db7093" },
          { icon: "üé®", title: "Dynamic", desc: "Style based on props.", color: "#3b82f6" },
          { icon: "üé≠", title: "Theming", desc: "Built-in theme provider.", color: "#22c55e" },
          { icon: "‚öôÔ∏è", title: "SSR Support", desc: "Works with server rendering.", color: "#f59e0b" }
        ],
        formula: "styled.div`color: ${props => props.color};`",
        strategies: [
          { title: "Props-based", desc: "Pass props for dynamic styling." },
          { title: "Theming", desc: "Use ThemeProvider for consistent theming." },
          { title: "Extend", desc: "Extend existing styled components." },
          { title: "Babel Plugin", desc: "Use babel plugin for debugging." }
        ],
        metrics: [
          { level: "Runtime", downtime: "CSS-in-JS cost", useCase: "Tradeoff" },
          { level: "Bundle", downtime: "12KB", useCase: "Library size" },
          { level: "DX", downtime: "Excellent", useCase: "Productivity" },
          { level: "SSR", downtime: "Supported", useCase: "Server render" }
        ]
      },
      "fe-tailwind": {
        title: "Tailwind CSS",
        subtitle: "Utility-first CSS framework for rapid UI development.",
        badge: { text: "Styling", color: "#38bdf8", bg: "rgba(56, 189, 248, 0.15)" },
        color: "#38bdf8",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(56, 189, 248, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.65rem; color: #38bdf8;"><div>className="flex items-center gap-4 p-4 bg-blue-500 text-white rounded-lg"</div></div></div>`,
        definition: `<p><strong>Tailwind CSS</strong> is a utility-first framework where you compose designs using small, single-purpose classes.</p>`,
        keyPoints: [
          { icon: "üé®", title: "Utility-First", desc: "Compose styles with utility classes.", color: "#38bdf8" },
          { icon: "üì¶", title: "No Custom CSS", desc: "Build entire UIs without writing CSS.", color: "#3b82f6" },
          { icon: "üóëÔ∏è", title: "Purging", desc: "Unused styles removed in production.", color: "#22c55e" },
          { icon: "üéõÔ∏è", title: "Customizable", desc: "Fully customizable via config.", color: "#f59e0b" }
        ],
        formula: "className='flex gap-4 p-4 bg-blue-500'",
        strategies: [
          { title: "@apply", desc: "Extract repeated utilities to components." },
          { title: "Config", desc: "Customize theme in tailwind.config.js." },
          { title: "Plugins", desc: "Use plugins for animations, forms, etc." },
          { title: "Prettier Plugin", desc: "Auto-sort class names." }
        ],
        metrics: [
          { level: "Dev Bundle", downtime: "Full CSS", useCase: "Development" },
          { level: "Prod Bundle", downtime: "< 10KB", useCase: "Purged" },
          { level: "Learning", downtime: "Medium", useCase: "Class names" },
          { level: "DX", downtime: "Fast", useCase: "No context switching" }
        ]
      },
      "fe-theming": {
        title: "Theming",
        subtitle: "Implementing consistent, switchable visual themes across an application.",
        badge: { text: "Styling", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: #ffffff; border: 1px solid #e5e5e5; border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #333;">‚òÄÔ∏è Light</div></div><div style="background: #1a1a2e; border: 1px solid #333; border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #e5e5e5;">üåô Dark</div></div></div></div>`,
        definition: `<p><strong>Theming</strong> allows switching between different visual styles (like dark/light mode) while maintaining consistency through design tokens.</p>`,
        keyPoints: [
          { icon: "üé®", title: "CSS Variables", desc: "Use CSS custom properties for themes.", color: "#8b5cf6" },
          { icon: "üåô", title: "Dark Mode", desc: "Support system preference and manual toggle.", color: "#3b82f6" },
          { icon: "üîß", title: "Tokens", desc: "Define colors, spacing, etc. as tokens.", color: "#22c55e" },
          { icon: "üíæ", title: "Persistence", desc: "Save theme preference in localStorage.", color: "#f59e0b" }
        ],
        formula: ":root { --color-primary: blue; } .dark { --color-primary: lightblue; }",
        strategies: [
          { title: "CSS Variables", desc: "Use native CSS custom properties." },
          { title: "System Preference", desc: "Respect prefers-color-scheme." },
          { title: "Class Toggle", desc: "Toggle .dark class on html element." },
          { title: "No Flash", desc: "Apply theme before render to avoid flash." }
        ],
        metrics: [
          { level: "CSS Variables", downtime: "Native", useCase: "Standard" },
          { level: "next-themes", downtime: "Easy", useCase: "Next.js" },
          { level: "prefers-color-scheme", downtime: "System", useCase: "Auto" },
          { level: "localStorage", downtime: "Persist", useCase: "User pref" }
        ]
      },
      "fe-responsive-design": {
        title: "Responsive Design",
        subtitle: "Creating layouts that adapt to different screen sizes and devices.",
        badge: { text: "Styling", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: flex-end; justify-content: center; gap: 16px;"><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 4px; width: 30px; height: 50px;"></div><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 4px; width: 50px; height: 40px;"></div><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 4px; width: 80px; height: 50px;"></div></div><div style="text-align: center; font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Mobile ‚Üí Tablet ‚Üí Desktop</div></div>`,
        definition: `<p><strong>Responsive Design</strong> adapts layouts to different screen sizes using media queries, flexible grids, and responsive images.</p>`,
        keyPoints: [
          { icon: "üì±", title: "Mobile-First", desc: "Design for mobile, enhance for larger.", color: "#22c55e" },
          { icon: "üìê", title: "Media Queries", desc: "Apply styles based on viewport.", color: "#3b82f6" },
          { icon: "üî≤", title: "Fluid Layout", desc: "Use % and rem, not fixed pixels.", color: "#f59e0b" },
          { icon: "üñºÔ∏è", title: "Images", desc: "Use srcset for responsive images.", color: "#8b5cf6" }
        ],
        formula: "@media (min-width: 768px) { ... }",
        strategies: [
          { title: "Mobile-First", desc: "Start with mobile styles, add breakpoints up." },
          { title: "Container Queries", desc: "Use container queries for component-based responsiveness." },
          { title: "Fluid Typography", desc: "Use clamp() for fluid font sizes." },
          { title: "Test Real Devices", desc: "Don't rely only on dev tools." }
        ],
        metrics: [
          { level: "sm: 640px", downtime: "Mobile", useCase: "Phones" },
          { level: "md: 768px", downtime: "Tablet", useCase: "Tablets" },
          { level: "lg: 1024px", downtime: "Desktop", useCase: "Laptops" },
          { level: "xl: 1280px", downtime: "Large", useCase: "Monitors" }
        ]
      },
      "fe-dark-mode": {
        title: "Dark Mode",
        subtitle: "Implementing a dark color scheme that respects user preferences.",
        badge: { text: "Styling", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 20px;"><div style="background: #ffffff; border: 2px solid #e5e5e5; border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 1.5rem;">‚òÄÔ∏è</div></div><div style="background: #1a1a2e; border: 2px solid #333; border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 1.5rem;">üåô</div></div></div></div>`,
        definition: `<p><strong>Dark Mode</strong> provides a darker color scheme that reduces eye strain in low-light conditions and can save battery on OLED screens.</p>`,
        keyPoints: [
          { icon: "üåô", title: "Dark Theme", desc: "Darker backgrounds, lighter text.", color: "#6366f1" },
          { icon: "‚öôÔ∏è", title: "System Pref", desc: "Respect prefers-color-scheme.", color: "#3b82f6" },
          { icon: "üîÄ", title: "Toggle", desc: "Let users manually switch.", color: "#22c55e" },
          { icon: "‚ö°", title: "No Flash", desc: "Apply before first render.", color: "#f59e0b" }
        ],
        formula: "@media (prefers-color-scheme: dark) { ... }",
        strategies: [
          { title: "Script in Head", desc: "Apply theme class before body renders." },
          { title: "next-themes", desc: "Use next-themes for Next.js." },
          { title: "CSS Variables", desc: "Switch variable values for themes." },
          { title: "Images", desc: "Consider dark mode variants for images." }
        ],
        metrics: [
          { level: "System", downtime: "Auto", useCase: "prefers-color-scheme" },
          { level: "Manual", downtime: "Toggle", useCase: "User choice" },
          { level: "Persist", downtime: "localStorage", useCase: "Remember" },
          { level: "No Flash", downtime: "Script first", useCase: "UX" }
        ]
      },
      "fe-design-tokens": {
        title: "Design Tokens",
        subtitle: "Platform-agnostic design values that define visual properties.",
        badge: { text: "Styling", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #ec4899;">color.primary</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #ec4899;">spacing.md</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #ec4899;">font.body</div></div></div></div>`,
        definition: `<p><strong>Design Tokens</strong> are named entities that store visual design values like colors, spacing, and typography, enabling consistency across platforms.</p>`,
        keyPoints: [
          { icon: "üé®", title: "Colors", desc: "Primary, secondary, semantic colors.", color: "#ec4899" },
          { icon: "üìê", title: "Spacing", desc: "Consistent spacing scale.", color: "#3b82f6" },
          { icon: "üî§", title: "Typography", desc: "Font families, sizes, weights.", color: "#22c55e" },
          { icon: "üîÑ", title: "Cross-Platform", desc: "Same tokens for web, iOS, Android.", color: "#f59e0b" }
        ],
        formula: "tokens.json ‚Üí CSS variables, Swift, Kotlin, etc.",
        strategies: [
          { title: "Style Dictionary", desc: "Transform tokens to multiple platforms." },
          { title: "CSS Variables", desc: "Export tokens as CSS custom properties." },
          { title: "Figma Tokens", desc: "Sync with design tool." },
          { title: "Semantic Names", desc: "Use semantic names like color.danger, not color.red." }
        ],
        metrics: [
          { level: "Primitive", downtime: "Raw values", useCase: "color.blue.500" },
          { level: "Semantic", downtime: "Purpose", useCase: "color.primary" },
          { level: "Component", downtime: "Specific", useCase: "button.background" },
          { level: "Format", downtime: "JSON/YAML", useCase: "Source" }
        ]
      },
      "fe-animations": {
        title: "Animations & Transitions",
        subtitle: "Adding motion to create engaging and intuitive user interfaces.",
        badge: { text: "Styling", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 16px;"><div style="width: 40px; height: 40px; background: #f59e0b; border-radius: 8px; animation: pulse 2s infinite;"></div><div style="width: 40px; height: 40px; background: #3b82f6; border-radius: 8px; animation: pulse 2s infinite 0.5s;"></div><div style="width: 40px; height: 40px; background: #22c55e; border-radius: 8px; animation: pulse 2s infinite 1s;"></div></div><style>@keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }</style></div>`,
        definition: `<p><strong>Animations</strong> add life to interfaces through movement. Use CSS transitions for simple effects and JS libraries for complex choreography.</p>`,
        keyPoints: [
          { icon: "üé¨", title: "Transitions", desc: "Smooth property changes.", color: "#f59e0b" },
          { icon: "üé≠", title: "Keyframes", desc: "Complex multi-step animations.", color: "#3b82f6" },
          { icon: "‚ö°", title: "Performance", desc: "Animate transform and opacity only.", color: "#22c55e" },
          { icon: "‚ôø", title: "Motion Pref", desc: "Respect prefers-reduced-motion.", color: "#8b5cf6" }
        ],
        formula: "transition: transform 0.3s ease-in-out",
        strategies: [
          { title: "CSS First", desc: "Prefer CSS for simple animations." },
          { title: "Framer Motion", desc: "Use Framer Motion for React." },
          { title: "GPU Properties", desc: "Only animate transform, opacity." },
          { title: "Reduced Motion", desc: "Disable animations for motion-sensitive users." }
        ],
        metrics: [
          { level: "transform", downtime: "GPU", useCase: "Performant" },
          { level: "opacity", downtime: "GPU", useCase: "Performant" },
          { level: "height/width", downtime: "CPU", useCase: "Layout thrash" },
          { level: "Framer Motion", downtime: "Library", useCase: "Complex" }
        ]
      },
      "fe-layout-systems": {
        title: "Layout Systems (Flexbox, Grid)",
        subtitle: "Modern CSS layout methods for creating flexible, responsive layouts.",
        badge: { text: "Styling", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(6, 182, 212, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.8rem; color: #06b6d4; margin-bottom: 8px;">Flexbox</div><div style="display: flex; gap: 4px;"><div style="background: #06b6d4; height: 20px; flex: 1; border-radius: 4px;"></div><div style="background: #06b6d4; height: 20px; flex: 1; border-radius: 4px;"></div></div></div><div style="background: rgba(6, 182, 212, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.8rem; color: #06b6d4; margin-bottom: 8px;">Grid</div><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 4px;"><div style="background: #06b6d4; height: 20px; border-radius: 4px;"></div><div style="background: #06b6d4; height: 20px; border-radius: 4px;"></div></div></div></div></div>`,
        definition: `<p><strong>Flexbox</strong> is for one-dimensional layouts (rows or columns). <strong>CSS Grid</strong> is for two-dimensional layouts (rows and columns).</p>`,
        keyPoints: [
          { icon: "‚ÜîÔ∏è", title: "Flexbox", desc: "One dimension - row or column.", color: "#06b6d4" },
          { icon: "üìê", title: "Grid", desc: "Two dimensions - rows and columns.", color: "#3b82f6" },
          { icon: "üéØ", title: "Use Cases", desc: "Flexbox for components, Grid for layouts.", color: "#22c55e" },
          { icon: "üì¶", title: "Gap", desc: "Use gap property for spacing.", color: "#f59e0b" }
        ],
        formula: "Grid for layout, Flexbox for alignment",
        strategies: [
          { title: "Grid for Pages", desc: "Use Grid for page-level layouts." },
          { title: "Flexbox for Components", desc: "Use Flexbox for component internals." },
          { title: "Gap", desc: "Use gap instead of margins." },
          { title: "Subgrid", desc: "Use subgrid for nested alignment." }
        ],
        metrics: [
          { level: "Flexbox", downtime: "1D layout", useCase: "Navigation, cards" },
          { level: "Grid", downtime: "2D layout", useCase: "Page layout" },
          { level: "gap", downtime: "Spacing", useCase: "Replaces margins" },
          { level: "subgrid", downtime: "Nested", useCase: "Alignment" }
        ]
      },

      // Accessibility (A11y)
      "fe-semantic-html": {
        title: "Semantic HTML",
        subtitle: "Using HTML elements that convey meaning and structure to assistive technologies.",
        badge: { text: "A11y", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.7rem; color: #ef4444; margin-bottom: 8px;">‚ùå Non-semantic</div><div style="font-family: monospace; font-size: 0.6rem; color: #a0a0b0;">&lt;div class="btn"&gt;</div></div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.7rem; color: #22c55e; margin-bottom: 8px;">‚úì Semantic</div><div style="font-family: monospace; font-size: 0.6rem; color: #a0a0b0;">&lt;button&gt;</div></div></div></div>`,
        definition: `<p><strong>Semantic HTML</strong> uses elements that describe their meaning. Screen readers and browsers understand these elements without extra work.</p>`,
        keyPoints: [
          { icon: "üèóÔ∏è", title: "Structure", desc: "header, nav, main, footer for layout.", color: "#22c55e" },
          { icon: "üìù", title: "Content", desc: "article, section, aside for content.", color: "#3b82f6" },
          { icon: "üîò", title: "Interactive", desc: "button, a, input for interactions.", color: "#f59e0b" },
          { icon: "üìã", title: "Lists", desc: "ul, ol, dl for lists.", color: "#8b5cf6" }
        ],
        formula: "<button> not <div onclick>",
        strategies: [
          { title: "Use Native", desc: "Prefer native elements over divs with roles." },
          { title: "Landmarks", desc: "Use landmark elements for page structure." },
          { title: "Headings", desc: "Use proper heading hierarchy (h1-h6)." },
          { title: "Lists", desc: "Use lists for groups of items." }
        ],
        metrics: [
          { level: "button", downtime: "Interactive", useCase: "Clicks" },
          { level: "a", downtime: "Navigation", useCase: "Links" },
          { level: "input", downtime: "Forms", useCase: "Input" },
          { level: "Landmarks", downtime: "Structure", useCase: "Navigation" }
        ]
      },
      "fe-aria-roles": {
        title: "ARIA Roles",
        subtitle: "Accessible Rich Internet Applications attributes for enhancing accessibility.",
        badge: { text: "A11y", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.65rem; color: #3b82f6;"><div>role="dialog" aria-labelledby="title"</div><div>aria-hidden="true" aria-expanded="false"</div></div></div>`,
        definition: `<p><strong>ARIA</strong> provides attributes that define roles, states, and properties for custom interactive elements that lack native semantics.</p>`,
        keyPoints: [
          { icon: "üé≠", title: "Roles", desc: "Define what an element is (button, dialog).", color: "#3b82f6" },
          { icon: "üìä", title: "States", desc: "Current state (expanded, checked, disabled).", color: "#22c55e" },
          { icon: "üè∑Ô∏è", title: "Properties", desc: "Static info (labelledby, describedby).", color: "#f59e0b" },
          { icon: "‚ö†Ô∏è", title: "Last Resort", desc: "Use ARIA only when HTML isn't enough.", color: "#ef4444" }
        ],
        formula: "No ARIA is better than bad ARIA",
        strategies: [
          { title: "Native First", desc: "Use semantic HTML before reaching for ARIA." },
          { title: "Labels", desc: "Use aria-label or aria-labelledby for names." },
          { title: "Live Regions", desc: "Use aria-live for dynamic updates." },
          { title: "Test", desc: "Test with actual screen readers." }
        ],
        metrics: [
          { level: "role", downtime: "What it is", useCase: "Widget type" },
          { level: "aria-label", downtime: "Name", useCase: "Accessible name" },
          { level: "aria-expanded", downtime: "State", useCase: "Collapsed/expanded" },
          { level: "aria-live", downtime: "Updates", useCase: "Dynamic content" }
        ]
      },
      "fe-keyboard-nav": {
        title: "Keyboard Navigation",
        subtitle: "Ensuring all functionality is accessible via keyboard alone.",
        badge: { text: "A11y", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 8px;"><div style="background: rgba(245, 158, 11, 0.2); border: 2px solid #f59e0b; border-radius: 6px; padding: 8px 16px; font-size: 0.7rem; color: #f59e0b;">Tab</div><div style="background: rgba(245, 158, 11, 0.2); border: 2px solid #f59e0b; border-radius: 6px; padding: 8px 16px; font-size: 0.7rem; color: #f59e0b;">Enter</div><div style="background: rgba(245, 158, 11, 0.2); border: 2px solid #f59e0b; border-radius: 6px; padding: 8px 16px; font-size: 0.7rem; color: #f59e0b;">Esc</div><div style="background: rgba(245, 158, 11, 0.2); border: 2px solid #f59e0b; border-radius: 6px; padding: 8px 16px; font-size: 0.7rem; color: #f59e0b;">Arrows</div></div></div>`,
        definition: `<p><strong>Keyboard Navigation</strong> ensures users can navigate and interact with your app using only a keyboard, essential for many assistive technology users.</p>`,
        keyPoints: [
          { icon: "‚å®Ô∏è", title: "Tab Order", desc: "Logical focus order through interactive elements.", color: "#f59e0b" },
          { icon: "üéØ", title: "Focus Visible", desc: "Clear visual indicator of focused element.", color: "#3b82f6" },
          { icon: "üö´", title: "No Trap", desc: "Users must be able to escape any component.", color: "#ef4444" },
          { icon: "‚åò", title: "Shortcuts", desc: "Provide keyboard shortcuts for common actions.", color: "#8b5cf6" }
        ],
        formula: "Tab to navigate, Enter/Space to activate, Esc to dismiss",
        strategies: [
          { title: "Test Without Mouse", desc: "Navigate your app with keyboard only." },
          { title: "Focus Styles", desc: "Never remove :focus styles without replacement." },
          { title: "Skip Links", desc: "Provide skip to main content link." },
          { title: "Focus Management", desc: "Manage focus in modals, dropdowns." }
        ],
        metrics: [
          { level: "Tab", downtime: "Navigate", useCase: "Move focus" },
          { level: "Enter/Space", downtime: "Activate", useCase: "Click" },
          { level: "Esc", downtime: "Dismiss", useCase: "Close modal" },
          { level: "Arrows", downtime: "Within widget", useCase: "Menu, tabs" }
        ]
      },
      "fe-screen-reader": {
        title: "Screen Reader Support",
        subtitle: "Ensuring content is properly announced by screen reading software.",
        badge: { text: "A11y", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üîä</div><div style="font-size: 0.8rem; color: #8b5cf6;">"Button, Submit Form"</div></div></div>`,
        definition: `<p><strong>Screen Readers</strong> convert on-screen content to speech or braille. Proper markup ensures they announce content meaningfully.</p>`,
        keyPoints: [
          { icon: "üîä", title: "Announcements", desc: "Elements must have accessible names.", color: "#8b5cf6" },
          { icon: "üìÑ", title: "Alt Text", desc: "Images need descriptive alt text.", color: "#3b82f6" },
          { icon: "üè∑Ô∏è", title: "Labels", desc: "Form inputs must have labels.", color: "#22c55e" },
          { icon: "üìã", title: "Live Regions", desc: "Announce dynamic content changes.", color: "#f59e0b" }
        ],
        formula: "Test with VoiceOver, NVDA, or JAWS",
        strategies: [
          { title: "Test Real SR", desc: "Test with VoiceOver (Mac) or NVDA (Windows)." },
          { title: "Alt Text", desc: "Write meaningful, concise alt text." },
          { title: "Hidden Content", desc: "Use aria-hidden for decorative content." },
          { title: "Live Regions", desc: "Announce dynamic updates with aria-live." }
        ],
        metrics: [
          { level: "VoiceOver", downtime: "macOS/iOS", useCase: "Apple" },
          { level: "NVDA", downtime: "Windows", useCase: "Free" },
          { level: "JAWS", downtime: "Windows", useCase: "Enterprise" },
          { level: "TalkBack", downtime: "Android", useCase: "Mobile" }
        ]
      },
      "fe-color-contrast": {
        title: "Color Contrast",
        subtitle: "Ensuring sufficient contrast between text and background colors.",
        badge: { text: "A11y", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: #333; color: #fff; border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 0.8rem;">‚úì Good: 12.6:1</div></div><div style="background: #ddd; color: #999; border-radius: 8px; padding: 16px; text-align: center;"><div style="font-size: 0.8rem;">‚úó Bad: 1.6:1</div></div></div></div>`,
        definition: `<p><strong>Color Contrast</strong> is the difference in luminance between foreground and background. WCAG requires minimum contrast ratios for readability.</p>`,
        keyPoints: [
          { icon: "üé®", title: "4.5:1", desc: "Minimum for normal text (AA).", color: "#ec4899" },
          { icon: "üìù", title: "3:1", desc: "Minimum for large text (AA).", color: "#3b82f6" },
          { icon: "‚≠ê", title: "7:1", desc: "Enhanced contrast (AAA).", color: "#22c55e" },
          { icon: "üîß", title: "Tools", desc: "Use contrast checkers during design.", color: "#f59e0b" }
        ],
        formula: "Contrast Ratio = (L1 + 0.05) / (L2 + 0.05)",
        strategies: [
          { title: "Check Early", desc: "Verify contrast during design, not after." },
          { title: "Use Tools", desc: "WebAIM Contrast Checker, Stark." },
          { title: "Don't Use Color Alone", desc: "Use icons, text, patterns too." },
          { title: "Focus States", desc: "Focus indicators need 3:1 contrast." }
        ],
        metrics: [
          { level: "4.5:1", downtime: "Normal text", useCase: "WCAG AA" },
          { level: "3:1", downtime: "Large text/UI", useCase: "WCAG AA" },
          { level: "7:1", downtime: "Enhanced", useCase: "WCAG AAA" },
          { level: "Non-text", downtime: "3:1", useCase: "Icons, borders" }
        ]
      },
      "fe-focus-management": {
        title: "Focus Management",
        subtitle: "Programmatically controlling focus for dynamic content and navigation.",
        badge: { text: "A11y", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(6, 182, 212, 0.1); border: 2px solid #06b6d4; border-radius: 8px; padding: 12px; font-size: 0.75rem; color: #06b6d4;">Button</div><span style="color: #06b6d4;">‚Üí</span><div style="background: rgba(6, 182, 212, 0.3); border: 3px solid #06b6d4; border-radius: 8px; padding: 12px; font-size: 0.75rem; color: #06b6d4;">Modal (Focus Here)</div></div></div>`,
        definition: `<p><strong>Focus Management</strong> controls where keyboard focus goes in dynamic UIs like modals, tab panels, and route changes.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "Move Focus", desc: "Move focus to new content like modals.", color: "#06b6d4" },
          { icon: "üîí", title: "Focus Trap", desc: "Keep focus inside modals until closed.", color: "#3b82f6" },
          { icon: "‚Ü©Ô∏è", title: "Return Focus", desc: "Return focus to trigger when closing.", color: "#22c55e" },
          { icon: "üîÄ", title: "Route Changes", desc: "Manage focus on SPA navigation.", color: "#f59e0b" }
        ],
        formula: "Modal opens ‚Üí Focus first element ‚Üí Trap ‚Üí Return on close",
        strategies: [
          { title: "Focus First Element", desc: "Focus first interactive element in modal." },
          { title: "Focus Trap", desc: "Use focus-trap-react or similar." },
          { title: "Return Focus", desc: "Store and return focus on dismiss." },
          { title: "Announce Navigation", desc: "Announce route changes to SR users." }
        ],
        metrics: [
          { level: "Modal", downtime: "Focus inside", useCase: "Trap focus" },
          { level: "Close", downtime: "Return focus", useCase: "Back to trigger" },
          { level: "SPA Nav", downtime: "Focus main", useCase: "Route change" },
          { level: "Dropdown", downtime: "Focus first item", useCase: "Open" }
        ]
      },
      "fe-accessible-forms": {
        title: "Accessible Forms",
        subtitle: "Creating form experiences that work for all users.",
        badge: { text: "A11y", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(16, 185, 129, 0.1); border-radius: 12px; padding: 16px;"><div style="margin-bottom: 8px; font-size: 0.75rem; color: #10b981;">Label</div><div style="background: rgba(255,255,255,0.1); border: 2px solid #10b981; border-radius: 6px; padding: 8px; font-size: 0.7rem; color: #a0a0b0;">Input with associated label</div></div></div>`,
        definition: `<p><strong>Accessible Forms</strong> have proper labels, clear error messages, and work correctly with assistive technologies.</p>`,
        keyPoints: [
          { icon: "üè∑Ô∏è", title: "Labels", desc: "Every input needs a visible label.", color: "#10b981" },
          { icon: "‚ùå", title: "Errors", desc: "Clear error messages associated with inputs.", color: "#ef4444" },
          { icon: "üìã", title: "Required", desc: "Indicate required fields clearly.", color: "#f59e0b" },
          { icon: "‚úÖ", title: "Validation", desc: "Announce validation errors to SR users.", color: "#22c55e" }
        ],
        formula: "<label for='email'>Email</label><input id='email' />",
        strategies: [
          { title: "label + htmlFor", desc: "Associate labels with inputs." },
          { title: "Error Messages", desc: "Use aria-describedby for error messages." },
          { title: "Required", desc: "Use required attribute and visual indicator." },
          { title: "Autocomplete", desc: "Use autocomplete for common fields." }
        ],
        metrics: [
          { level: "label", downtime: "Required", useCase: "Names input" },
          { level: "aria-describedby", downtime: "Errors", useCase: "Links error" },
          { level: "required", downtime: "Validation", useCase: "Required field" },
          { level: "autocomplete", downtime: "UX", useCase: "Password managers" }
        ]
      },
      "fe-wcag": {
        title: "WCAG Guidelines",
        subtitle: "Web Content Accessibility Guidelines - the international standard for web accessibility.",
        badge: { text: "A11y", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(249, 115, 22, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1.2rem; color: #f97316;">A</div><div style="font-size: 0.6rem; color: #a0a0b0;">Minimum</div></div><div style="background: rgba(249, 115, 22, 0.2); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1.2rem; color: #f97316;">AA</div><div style="font-size: 0.6rem; color: #a0a0b0;">Standard</div></div><div style="background: rgba(249, 115, 22, 0.3); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1.2rem; color: #f97316;">AAA</div><div style="font-size: 0.6rem; color: #a0a0b0;">Enhanced</div></div></div></div>`,
        definition: `<p><strong>WCAG</strong> provides guidelines for making web content accessible. Most organizations target WCAG 2.1 Level AA compliance.</p>`,
        keyPoints: [
          { icon: "üëÅÔ∏è", title: "Perceivable", desc: "Content must be presentable to users.", color: "#f97316" },
          { icon: "üñ±Ô∏è", title: "Operable", desc: "UI must be operable by all users.", color: "#3b82f6" },
          { icon: "üìñ", title: "Understandable", desc: "Content must be understandable.", color: "#22c55e" },
          { icon: "üîß", title: "Robust", desc: "Works with current and future assistive tech.", color: "#8b5cf6" }
        ],
        formula: "WCAG 2.1 AA is the standard target",
        strategies: [
          { title: "Target AA", desc: "WCAG 2.1 Level AA is the standard target." },
          { title: "POUR", desc: "Remember the four principles." },
          { title: "Testing", desc: "Use automated tools + manual testing." },
          { title: "Documentation", desc: "Document your accessibility conformance." }
        ],
        metrics: [
          { level: "Level A", downtime: "Minimum", useCase: "Must have" },
          { level: "Level AA", downtime: "Standard", useCase: "Target" },
          { level: "Level AAA", downtime: "Enhanced", useCase: "Some criteria" },
          { level: "WCAG 2.2", downtime: "Latest", useCase: "2023" }
        ]
      },
      "fe-a11y-testing": {
        title: "Accessibility Testing",
        subtitle: "Tools and techniques for testing accessibility compliance.",
        badge: { text: "A11y", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">ü§ñ</div><div style="font-size: 0.7rem; color: #ef4444;">Automated</div></div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üë§</div><div style="font-size: 0.7rem; color: #22c55e;">Manual</div></div></div></div>`,
        definition: `<p><strong>Accessibility Testing</strong> combines automated tools (catching ~30% of issues) with manual testing including keyboard and screen reader checks.</p>`,
        keyPoints: [
          { icon: "ü§ñ", title: "Automated", desc: "axe, Lighthouse catch common issues.", color: "#ef4444" },
          { icon: "‚å®Ô∏è", title: "Keyboard", desc: "Test all functionality with keyboard only.", color: "#3b82f6" },
          { icon: "üîä", title: "Screen Reader", desc: "Test with real screen readers.", color: "#22c55e" },
          { icon: "üë•", title: "User Testing", desc: "Test with users who have disabilities.", color: "#f59e0b" }
        ],
        formula: "Automated + Keyboard + Screen Reader + User Testing",
        strategies: [
          { title: "axe DevTools", desc: "Browser extension for quick checks." },
          { title: "jest-axe", desc: "Add accessibility tests to your test suite." },
          { title: "Keyboard Testing", desc: "Navigate with Tab, Enter, Arrows." },
          { title: "Screen Reader", desc: "Test with VoiceOver or NVDA." }
        ],
        metrics: [
          { level: "axe", downtime: "Automated", useCase: "30% of issues" },
          { level: "Lighthouse", downtime: "CI/CD", useCase: "Audits" },
          { level: "jest-axe", downtime: "Tests", useCase: "Prevent regression" },
          { level: "Manual", downtime: "70% of issues", useCase: "Essential" }
        ]
      },

      // Testing Strategy
      "fe-unit-testing": {
        title: "Unit Testing",
        subtitle: "Testing individual functions and components in isolation.",
        badge: { text: "Testing", color: "#a855f7", bg: "rgba(168, 85, 247, 0.15)" },
        color: "#a855f7",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(168, 85, 247, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üß™</div><div style="font-size: 0.8rem; color: #a855f7;">expect(sum(1, 2)).toBe(3)</div></div></div>`,
        definition: `<p><strong>Unit Tests</strong> verify that individual units of code (functions, components) work correctly in isolation.</p>`,
        keyPoints: [
          { icon: "üî¨", title: "Isolation", desc: "Test one thing at a time.", color: "#a855f7" },
          { icon: "‚ö°", title: "Fast", desc: "Run in milliseconds.", color: "#22c55e" },
          { icon: "üéØ", title: "Focused", desc: "Test specific behavior.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Reliable", desc: "Consistent results, no flakiness.", color: "#f59e0b" }
        ],
        formula: "describe ‚Üí it ‚Üí expect ‚Üí toBe/toEqual",
        strategies: [
          { title: "Vitest", desc: "Modern, fast testing framework." },
          { title: "Jest", desc: "Mature, full-featured framework." },
          { title: "Mock Dependencies", desc: "Isolate code from external dependencies." },
          { title: "Coverage", desc: "Aim for meaningful coverage, not 100%." }
        ],
        metrics: [
          { level: "Vitest", downtime: "Fast", useCase: "Vite projects" },
          { level: "Jest", downtime: "Mature", useCase: "Standard" },
          { level: "Coverage", downtime: "> 80%", useCase: "Critical paths" },
          { level: "Speed", downtime: "< 1s each", useCase: "Fast feedback" }
        ]
      },
      "fe-component-testing": {
        title: "Component Testing",
        subtitle: "Testing React components in isolation with realistic interactions.",
        badge: { text: "Testing", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üß©</div><div style="font-size: 0.75rem; color: #3b82f6;">render ‚Üí interact ‚Üí assert</div></div></div>`,
        definition: `<p><strong>Component Tests</strong> render components in a simulated DOM and verify they behave correctly when users interact with them.</p>`,
        keyPoints: [
          { icon: "üñºÔ∏è", title: "Render", desc: "Render component to virtual DOM.", color: "#3b82f6" },
          { icon: "üñ±Ô∏è", title: "Interact", desc: "Simulate user interactions.", color: "#22c55e" },
          { icon: "‚úÖ", title: "Assert", desc: "Verify expected outcomes.", color: "#f59e0b" },
          { icon: "‚ôø", title: "Accessible", desc: "Query by accessible roles.", color: "#8b5cf6" }
        ],
        formula: "render(<Component />) ‚Üí userEvent.click ‚Üí expect",
        strategies: [
          { title: "Testing Library", desc: "Use React Testing Library for user-centric tests." },
          { title: "Query by Role", desc: "Prefer getByRole over getByTestId." },
          { title: "User Events", desc: "Use userEvent for realistic interactions." },
          { title: "Avoid Implementation", desc: "Test behavior, not implementation details." }
        ],
        metrics: [
          { level: "RTL", downtime: "Standard", useCase: "React Testing Library" },
          { level: "userEvent", downtime: "Interactions", useCase: "Click, type" },
          { level: "getByRole", downtime: "Accessible", useCase: "Best practice" },
          { level: "screen", downtime: "Queries", useCase: "DOM queries" }
        ]
      },
      "fe-integration-testing": {
        title: "Integration Testing",
        subtitle: "Testing how multiple components work together.",
        badge: { text: "Testing", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 8px;"><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 8px; padding: 12px; font-size: 0.7rem;">Component A</div><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 8px; padding: 12px; font-size: 0.7rem;">Component B</div><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 8px; padding: 12px; font-size: 0.7rem;">Component C</div></div></div>`,
        definition: `<p><strong>Integration Tests</strong> verify that multiple units work correctly together, such as a form with validation and submission.</p>`,
        keyPoints: [
          { icon: "üîó", title: "Combined", desc: "Test multiple components together.", color: "#22c55e" },
          { icon: "üåê", title: "Mock APIs", desc: "Mock network requests.", color: "#3b82f6" },
          { icon: "üìã", title: "Workflows", desc: "Test complete user workflows.", color: "#f59e0b" },
          { icon: "‚öñÔ∏è", title: "Balance", desc: "More realistic than unit, faster than E2E.", color: "#8b5cf6" }
        ],
        formula: "Multiple components + mocked services = Integration test",
        strategies: [
          { title: "MSW", desc: "Use Mock Service Worker for API mocking." },
          { title: "Test Workflows", desc: "Test complete user journeys." },
          { title: "Realistic Data", desc: "Use realistic mock data." },
          { title: "Provider Wrappers", desc: "Wrap with necessary providers." }
        ],
        metrics: [
          { level: "MSW", downtime: "API mocking", useCase: "Network" },
          { level: "Providers", downtime: "Context", useCase: "State" },
          { level: "Speed", downtime: "< 5s each", useCase: "Reasonable" },
          { level: "Coverage", downtime: "Critical flows", useCase: "Priority" }
        ]
      },
      "fe-e2e-testing": {
        title: "E2E Testing",
        subtitle: "Testing the application from a user's perspective in a real browser.",
        badge: { text: "Testing", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(245, 158, 11, 0.1); border: 2px solid #f59e0b; border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üåê</div><div style="font-size: 0.75rem; color: #f59e0b;">Real Browser ‚Üí Real Interactions</div></div></div>`,
        definition: `<p><strong>E2E Tests</strong> run in a real browser, testing the full application stack from the user's perspective.</p>`,
        keyPoints: [
          { icon: "üåê", title: "Real Browser", desc: "Tests run in Chrome, Firefox, etc.", color: "#f59e0b" },
          { icon: "üéØ", title: "User Flows", desc: "Test complete user journeys.", color: "#3b82f6" },
          { icon: "‚è±Ô∏è", title: "Slower", desc: "Takes longer than unit/integration tests.", color: "#ef4444" },
          { icon: "üí∞", title: "Expensive", desc: "More costly to run and maintain.", color: "#8b5cf6" }
        ],
        formula: "Browser automation ‚Üí Navigate ‚Üí Interact ‚Üí Assert",
        strategies: [
          { title: "Playwright", desc: "Modern, fast, reliable E2E framework." },
          { title: "Cypress", desc: "Great DX, time-travel debugging." },
          { title: "Critical Paths", desc: "Only E2E test critical user flows." },
          { title: "Parallel", desc: "Run tests in parallel for speed." }
        ],
        metrics: [
          { level: "Playwright", downtime: "Modern", useCase: "Recommended" },
          { level: "Cypress", downtime: "Great DX", useCase: "Popular" },
          { level: "Count", downtime: "10-50", useCase: "Critical paths" },
          { level: "Speed", downtime: "< 5 min total", useCase: "CI/CD" }
        ]
      },
      "fe-visual-regression": {
        title: "Visual Regression Testing",
        subtitle: "Detecting unintended visual changes by comparing screenshots.",
        badge: { text: "Testing", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 12px; text-align: center;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.7rem; color: #ec4899;">Baseline</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.7rem; color: #ec4899;">Current</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px;"><div style="font-size: 0.7rem; color: #ec4899;">Diff</div></div></div></div>`,
        definition: `<p><strong>Visual Regression Testing</strong> captures screenshots and compares them to baselines to detect unintended visual changes.</p>`,
        keyPoints: [
          { icon: "üì∏", title: "Screenshots", desc: "Capture component/page screenshots.", color: "#ec4899" },
          { icon: "üîç", title: "Compare", desc: "Compare to baseline images.", color: "#3b82f6" },
          { icon: "üéØ", title: "Diff", desc: "Highlight visual differences.", color: "#f59e0b" },
          { icon: "‚úÖ", title: "Approve", desc: "Update baselines for intentional changes.", color: "#22c55e" }
        ],
        formula: "Screenshot ‚Üí Compare to Baseline ‚Üí Show Diff",
        strategies: [
          { title: "Chromatic", desc: "Cloud-based visual testing for Storybook." },
          { title: "Percy", desc: "Visual testing platform." },
          { title: "Playwright", desc: "Built-in screenshot comparison." },
          { title: "Component Level", desc: "Test components in Storybook." }
        ],
        metrics: [
          { level: "Chromatic", downtime: "Storybook", useCase: "Components" },
          { level: "Percy", downtime: "Pages", useCase: "Full pages" },
          { level: "Playwright", downtime: "Built-in", useCase: "Free" },
          { level: "Threshold", downtime: "0.1%", useCase: "Sensitivity" }
        ]
      },
      "fe-accessibility-testing": {
        title: "Accessibility Testing",
        subtitle: "Automated and manual testing for accessibility compliance.",
        badge: { text: "Testing", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(6, 182, 212, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">‚ôø</div><div style="font-size: 0.75rem; color: #06b6d4;">axe-core + Manual Testing</div></div></div>`,
        definition: `<p><strong>Accessibility Testing</strong> ensures your application is usable by people with disabilities using automated tools and manual testing.</p>`,
        keyPoints: [
          { icon: "ü§ñ", title: "Automated", desc: "axe-core catches ~30% of issues.", color: "#06b6d4" },
          { icon: "‚å®Ô∏è", title: "Keyboard", desc: "Test with keyboard navigation.", color: "#3b82f6" },
          { icon: "üîä", title: "Screen Reader", desc: "Test with VoiceOver/NVDA.", color: "#22c55e" },
          { icon: "üë•", title: "User Testing", desc: "Test with users who have disabilities.", color: "#f59e0b" }
        ],
        formula: "jest-axe + Keyboard Testing + Screen Reader",
        strategies: [
          { title: "jest-axe", desc: "Add axe tests to component tests." },
          { title: "Lighthouse CI", desc: "Run accessibility audits in CI." },
          { title: "Keyboard Testing", desc: "Test all interactions with keyboard." },
          { title: "Screen Reader", desc: "Regular testing with real screen readers." }
        ],
        metrics: [
          { level: "jest-axe", downtime: "Unit tests", useCase: "CI" },
          { level: "Lighthouse", downtime: "90+", useCase: "Score" },
          { level: "axe DevTools", downtime: "Browser", useCase: "Manual" },
          { level: "VoiceOver", downtime: "macOS", useCase: "Screen reader" }
        ]
      },
      "fe-mocking-apis": {
        title: "Mocking APIs",
        subtitle: "Simulating API responses for reliable, fast tests.",
        badge: { text: "Testing", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; font-size: 0.75rem; color: #8b5cf6;">App</div><span style="color: #8b5cf6;">‚Üí</span><div style="background: rgba(139, 92, 246, 0.2); border: 2px solid #8b5cf6; border-radius: 8px; padding: 12px; font-size: 0.75rem; color: #8b5cf6;">MSW</div><span style="color: #8b5cf6;">‚Üí</span><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; font-size: 0.75rem; color: #8b5cf6;">Mock Data</div></div></div>`,
        definition: `<p><strong>API Mocking</strong> intercepts network requests and returns mock responses, making tests fast, reliable, and independent of backend.</p>`,
        keyPoints: [
          { icon: "üîÄ", title: "MSW", desc: "Mock Service Worker intercepts at network level.", color: "#8b5cf6" },
          { icon: "‚ö°", title: "Fast", desc: "No real network requests needed.", color: "#22c55e" },
          { icon: "üéØ", title: "Reliable", desc: "No flaky tests from network issues.", color: "#3b82f6" },
          { icon: "üîß", title: "Flexible", desc: "Test various scenarios (errors, loading).", color: "#f59e0b" }
        ],
        formula: "http.get('/api/users', () => HttpResponse.json(users))",
        strategies: [
          { title: "MSW", desc: "Use MSW for realistic API mocking." },
          { title: "Handlers", desc: "Define handlers for each endpoint." },
          { title: "Scenarios", desc: "Create handlers for error/edge cases." },
          { title: "Share", desc: "Use same mocks in tests and Storybook." }
        ],
        metrics: [
          { level: "MSW", downtime: "Network level", useCase: "Realistic" },
          { level: "Jest mocks", downtime: "Module level", useCase: "Simple" },
          { level: "Fixtures", downtime: "Static data", useCase: "Shared" },
          { level: "Factories", downtime: "Dynamic data", useCase: "Flexible" }
        ]
      },
      "fe-test-coverage": {
        title: "Test Coverage Strategy",
        subtitle: "Measuring and prioritizing test coverage effectively.",
        badge: { text: "Testing", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="padding: 20px;"><div style="display: flex; gap: 8px; height: 80px; align-items: flex-end;"><div style="background: #10b981; width: 50px; height: 100%; border-radius: 4px; display: flex; align-items: flex-end; justify-content: center; padding-bottom: 4px; font-size: 0.5rem; color: white;">90%</div><div style="background: #22c55e; width: 50px; height: 80%; border-radius: 4px;"></div><div style="background: #4ade80; width: 50px; height: 60%; border-radius: 4px;"></div></div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Critical ‚Üí Important ‚Üí Nice-to-have</div></div>`,
        definition: `<p><strong>Test Coverage</strong> measures what percentage of code is executed by tests. Focus on meaningful coverage of critical paths, not arbitrary percentages.</p>`,
        keyPoints: [
          { icon: "üìä", title: "Metrics", desc: "Line, branch, function coverage.", color: "#10b981" },
          { icon: "üéØ", title: "Critical First", desc: "Cover critical paths thoroughly.", color: "#3b82f6" },
          { icon: "‚ö†Ô∏è", title: "Not 100%", desc: "100% coverage doesn't mean bug-free.", color: "#f59e0b" },
          { icon: "üìà", title: "Trend", desc: "Coverage should trend upward.", color: "#8b5cf6" }
        ],
        formula: "Coverage = (Tested Lines / Total Lines) √ó 100",
        strategies: [
          { title: "80% Target", desc: "Aim for 80% coverage on critical code." },
          { title: "CI Thresholds", desc: "Enforce coverage thresholds in CI." },
          { title: "New Code", desc: "Require tests for new code." },
          { title: "Quality over Quantity", desc: "Meaningful tests over coverage numbers." }
        ],
        metrics: [
          { level: "Lines", downtime: "> 80%", useCase: "Code coverage" },
          { level: "Branches", downtime: "> 70%", useCase: "Logic paths" },
          { level: "Functions", downtime: "> 80%", useCase: "API coverage" },
          { level: "Critical", downtime: "> 90%", useCase: "Core features" }
        ]
      },
      "fe-flaky-tests": {
        title: "Flaky Test Handling",
        subtitle: "Identifying and fixing tests that intermittently pass or fail.",
        badge: { text: "Testing", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 8px;"><div style="background: rgba(34, 197, 94, 0.3); border-radius: 4px; padding: 8px; font-size: 0.7rem;">‚úì</div><div style="background: rgba(239, 68, 68, 0.3); border-radius: 4px; padding: 8px; font-size: 0.7rem;">‚úó</div><div style="background: rgba(34, 197, 94, 0.3); border-radius: 4px; padding: 8px; font-size: 0.7rem;">‚úì</div><div style="background: rgba(34, 197, 94, 0.3); border-radius: 4px; padding: 8px; font-size: 0.7rem;">‚úì</div><div style="background: rgba(239, 68, 68, 0.3); border-radius: 4px; padding: 8px; font-size: 0.7rem;">‚úó</div></div><div style="text-align: center; font-size: 0.7rem; color: #ef4444; margin-top: 8px;">Intermittent failures = Flaky</div></div>`,
        definition: `<p><strong>Flaky Tests</strong> pass sometimes and fail other times without code changes. They erode confidence and slow down development.</p>`,
        keyPoints: [
          { icon: "üé≤", title: "Random Failures", desc: "Tests fail intermittently.", color: "#ef4444" },
          { icon: "‚è±Ô∏è", title: "Timing", desc: "Race conditions, async issues.", color: "#f59e0b" },
          { icon: "üåê", title: "Dependencies", desc: "Network, database, external services.", color: "#3b82f6" },
          { icon: "üîß", title: "Fix ASAP", desc: "Flaky tests should be fixed or quarantined.", color: "#22c55e" }
        ],
        formula: "Identify ‚Üí Quarantine ‚Üí Fix ‚Üí Re-enable",
        strategies: [
          { title: "Quarantine", desc: "Move flaky tests to separate suite." },
          { title: "Retry", desc: "Use retry mechanisms sparingly." },
          { title: "Proper Waits", desc: "Use proper async waiting, not sleep." },
          { title: "Fix Root Cause", desc: "Don't just retry, fix the underlying issue." }
        ],
        metrics: [
          { level: "Flake rate", downtime: "< 1%", useCase: "Target" },
          { level: "Quarantine", downtime: "Isolate", useCase: "Temporary" },
          { level: "Retry", downtime: "Max 2", useCase: "Last resort" },
          { level: "Time limit", downtime: "1 week", useCase: "Fix deadline" }
        ]
      },

      // Frontend Security
      "fe-xss": {
        title: "XSS Prevention",
        subtitle: "Protecting against Cross-Site Scripting attacks that inject malicious scripts.",
        badge: { text: "Security", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(239, 68, 68, 0.1); border: 2px solid #ef4444; border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">‚ö†Ô∏è</div><div style="font-family: monospace; font-size: 0.65rem; color: #ef4444;">&lt;script&gt;evil()&lt;/script&gt;</div></div></div>`,
        definition: `<p><strong>XSS</strong> attacks inject malicious scripts into web pages. Prevent by escaping output, using CSP, and avoiding innerHTML with untrusted data.</p>`,
        keyPoints: [
          { icon: "üîí", title: "Escape Output", desc: "React auto-escapes JSX content.", color: "#ef4444" },
          { icon: "üö´", title: "Avoid innerHTML", desc: "Never use dangerouslySetInnerHTML with user data.", color: "#f59e0b" },
          { icon: "üõ°Ô∏è", title: "CSP", desc: "Content Security Policy blocks inline scripts.", color: "#3b82f6" },
          { icon: "üßπ", title: "Sanitize", desc: "Use DOMPurify for rich text content.", color: "#22c55e" }
        ],
        formula: "Escape + CSP + Sanitize = XSS Prevention",
        strategies: [
          { title: "Trust React", desc: "React escapes content by default." },
          { title: "CSP", desc: "Implement strict Content Security Policy." },
          { title: "DOMPurify", desc: "Sanitize any HTML that must be rendered." },
          { title: "HTTPOnly Cookies", desc: "Prevent JS access to sensitive cookies." }
        ],
        metrics: [
          { level: "React JSX", downtime: "Auto-escaped", useCase: "Default safe" },
          { level: "CSP", downtime: "Strict", useCase: "Block inline" },
          { level: "DOMPurify", downtime: "Sanitize", useCase: "Rich text" },
          { level: "HttpOnly", downtime: "Cookies", useCase: "Token safety" }
        ]
      },
      "fe-csrf": {
        title: "CSRF Protection",
        subtitle: "Preventing Cross-Site Request Forgery attacks that trick users into unwanted actions.",
        badge: { text: "Security", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(245, 158, 11, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 0.8rem; color: #f59e0b;">SameSite Cookies + CSRF Tokens</div></div></div>`,
        definition: `<p><strong>CSRF</strong> attacks trick users into performing unwanted actions on sites where they're authenticated. Prevent with SameSite cookies and CSRF tokens.</p>`,
        keyPoints: [
          { icon: "üç™", title: "SameSite", desc: "SameSite=Strict/Lax prevents cross-site sending.", color: "#f59e0b" },
          { icon: "üé´", title: "CSRF Token", desc: "Include token in forms and headers.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Verify Origin", desc: "Check Origin/Referer headers.", color: "#22c55e" },
          { icon: "üîí", title: "Double Submit", desc: "Cookie + header token pattern.", color: "#8b5cf6" }
        ],
        formula: "SameSite Cookie + CSRF Token = CSRF Protection",
        strategies: [
          { title: "SameSite Cookies", desc: "Use SameSite=Lax or Strict for auth cookies." },
          { title: "CSRF Tokens", desc: "Backend generates token, frontend sends it." },
          { title: "Same Origin", desc: "APIs should verify Origin header." },
          { title: "Modern Browsers", desc: "SameSite=Lax is now default." }
        ],
        metrics: [
          { level: "SameSite=Strict", downtime: "Best", useCase: "No cross-site" },
          { level: "SameSite=Lax", downtime: "Default", useCase: "Balanced" },
          { level: "CSRF Token", downtime: "Forms", useCase: "Verification" },
          { level: "Origin Check", downtime: "API", useCase: "Server-side" }
        ]
      },
      "fe-cors": {
        title: "CORS",
        subtitle: "Cross-Origin Resource Sharing controls which origins can access your APIs.",
        badge: { text: "Security", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #3b82f6;">app.com</div><span style="color: #3b82f6;">‚Üí preflight ‚Üí</span><div style="background: rgba(59, 130, 246, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #3b82f6;">api.com</div></div></div>`,
        definition: `<p><strong>CORS</strong> is a browser security mechanism that controls which origins can access resources from another origin. Configured on the server.</p>`,
        keyPoints: [
          { icon: "üåê", title: "Same-Origin", desc: "Browsers block cross-origin requests by default.", color: "#3b82f6" },
          { icon: "‚úàÔ∏è", title: "Preflight", desc: "OPTIONS request checks CORS policy.", color: "#22c55e" },
          { icon: "üìã", title: "Headers", desc: "Access-Control-Allow-Origin sets allowed origins.", color: "#f59e0b" },
          { icon: "üîë", title: "Credentials", desc: "Access-Control-Allow-Credentials for cookies.", color: "#8b5cf6" }
        ],
        formula: "Access-Control-Allow-Origin: https://app.com",
        strategies: [
          { title: "Specific Origins", desc: "Never use * with credentials." },
          { title: "Preflight Caching", desc: "Cache OPTIONS responses." },
          { title: "Allowed Methods", desc: "Specify allowed HTTP methods." },
          { title: "Allowed Headers", desc: "Specify allowed request headers." }
        ],
        metrics: [
          { level: "Origin", downtime: "Specific URLs", useCase: "Not *" },
          { level: "Methods", downtime: "GET, POST, etc.", useCase: "Allowed" },
          { level: "Headers", downtime: "Content-Type", useCase: "Custom headers" },
          { level: "Credentials", downtime: "true", useCase: "Cookies" }
        ]
      },
      "fe-csp": {
        title: "Content Security Policy (CSP)",
        subtitle: "HTTP header that controls what resources can be loaded on your page.",
        badge: { text: "Security", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.6rem; color: #8b5cf6;">Content-Security-Policy: default-src 'self'; script-src 'self'</div></div>`,
        definition: `<p><strong>CSP</strong> is an HTTP header that restricts what resources can load on your page, preventing XSS and data injection attacks.</p>`,
        keyPoints: [
          { icon: "üìú", title: "script-src", desc: "Controls where scripts can load from.", color: "#8b5cf6" },
          { icon: "üé®", title: "style-src", desc: "Controls where styles can load from.", color: "#3b82f6" },
          { icon: "üñºÔ∏è", title: "img-src", desc: "Controls where images can load from.", color: "#22c55e" },
          { icon: "üîó", title: "connect-src", desc: "Controls what URLs can be fetched.", color: "#f59e0b" }
        ],
        formula: "Content-Security-Policy: directive 'source';",
        strategies: [
          { title: "Start Strict", desc: "Start with strict policy, relax as needed." },
          { title: "Report-Only", desc: "Test with report-only mode first." },
          { title: "Nonces", desc: "Use nonces for inline scripts." },
          { title: "No unsafe-inline", desc: "Avoid unsafe-inline for script-src." }
        ],
        metrics: [
          { level: "default-src", downtime: "'self'", useCase: "Base policy" },
          { level: "script-src", downtime: "'self'", useCase: "Scripts" },
          { level: "Nonce", downtime: "Inline scripts", useCase: "Specific" },
          { level: "Report-To", downtime: "Monitor", useCase: "Violations" }
        ]
      },
      "fe-secure-cookies": {
        title: "Secure Cookies",
        subtitle: "Cookie attributes that enhance security for authentication.",
        badge: { text: "Security", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.6rem; color: #22c55e;">Set-Cookie: token=abc; Secure; HttpOnly; SameSite=Strict</div></div>`,
        definition: `<p><strong>Secure Cookies</strong> use attributes like HttpOnly, Secure, and SameSite to protect sensitive cookies from theft and misuse.</p>`,
        keyPoints: [
          { icon: "üîí", title: "Secure", desc: "Only sent over HTTPS.", color: "#22c55e" },
          { icon: "üö´", title: "HttpOnly", desc: "Not accessible via JavaScript.", color: "#3b82f6" },
          { icon: "üç™", title: "SameSite", desc: "Controls cross-site sending.", color: "#f59e0b" },
          { icon: "‚è∞", title: "Expiry", desc: "Set appropriate expiration.", color: "#8b5cf6" }
        ],
        formula: "Secure + HttpOnly + SameSite=Strict",
        strategies: [
          { title: "HttpOnly", desc: "Always use HttpOnly for auth tokens." },
          { title: "Secure", desc: "Always use Secure flag." },
          { title: "SameSite", desc: "Use Strict or Lax based on needs." },
          { title: "Short Expiry", desc: "Use short expiration for sensitive cookies." }
        ],
        metrics: [
          { level: "HttpOnly", downtime: "Required", useCase: "XSS protection" },
          { level: "Secure", downtime: "Required", useCase: "HTTPS only" },
          { level: "SameSite", downtime: "Strict/Lax", useCase: "CSRF protection" },
          { level: "Max-Age", downtime: "Short", useCase: "Session length" }
        ]
      },
      "fe-token-storage": {
        title: "Token Storage Strategies",
        subtitle: "Securely storing authentication tokens in the browser.",
        badge: { text: "Security", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #22c55e;">‚úì HttpOnly Cookie</div></div><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.75rem; color: #ef4444;">‚úó localStorage</div></div></div></div>`,
        definition: `<p><strong>Token Storage</strong> is critical for security. HttpOnly cookies are safer than localStorage because they're not accessible to JavaScript.</p>`,
        keyPoints: [
          { icon: "üç™", title: "HttpOnly Cookie", desc: "Safest option, not accessible to JS.", color: "#22c55e" },
          { icon: "üíæ", title: "localStorage", desc: "Vulnerable to XSS. Avoid for auth tokens.", color: "#ef4444" },
          { icon: "üß†", title: "Memory", desc: "Safe but lost on refresh.", color: "#f59e0b" },
          { icon: "üîê", title: "Refresh Tokens", desc: "Use short-lived access, long-lived refresh.", color: "#8b5cf6" }
        ],
        formula: "HttpOnly Cookie > Memory > sessionStorage > localStorage",
        strategies: [
          { title: "HttpOnly Cookie", desc: "Store tokens in HttpOnly cookies." },
          { title: "Refresh Tokens", desc: "Use short access tokens, refresh via cookie." },
          { title: "BFF Pattern", desc: "Keep tokens on server with BFF." },
          { title: "Avoid localStorage", desc: "Don't store sensitive tokens in localStorage." }
        ],
        metrics: [
          { level: "HttpOnly", downtime: "Best", useCase: "Auth tokens" },
          { level: "Memory", downtime: "OK", useCase: "Short sessions" },
          { level: "sessionStorage", downtime: "OK", useCase: "Tab only" },
          { level: "localStorage", downtime: "Risky", useCase: "Not for tokens" }
        ]
      },
      "fe-dependency-vulnerabilities": {
        title: "Dependency Vulnerabilities",
        subtitle: "Managing and monitoring security vulnerabilities in npm packages.",
        badge: { text: "Security", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(249, 115, 22, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 8px;">üì¶</div><div style="font-size: 0.75rem; color: #f97316;">npm audit fix</div></div></div>`,
        definition: `<p><strong>Dependency Vulnerabilities</strong> can introduce security holes. Regularly audit and update packages to patch known vulnerabilities.</p>`,
        keyPoints: [
          { icon: "üîç", title: "npm audit", desc: "Check for known vulnerabilities.", color: "#f97316" },
          { icon: "üîÑ", title: "Update", desc: "Keep dependencies up to date.", color: "#3b82f6" },
          { icon: "üîí", title: "Lock Files", desc: "Use lock files for reproducible builds.", color: "#22c55e" },
          { icon: "ü§ñ", title: "Automation", desc: "Use Dependabot or Renovate.", color: "#8b5cf6" }
        ],
        formula: "npm audit + Dependabot + Regular Updates",
        strategies: [
          { title: "npm audit", desc: "Run npm audit regularly and in CI." },
          { title: "Dependabot", desc: "Automate dependency updates." },
          { title: "Lock Files", desc: "Commit package-lock.json." },
          { title: "Update Policy", desc: "Weekly updates for security patches." }
        ],
        metrics: [
          { level: "High/Critical", downtime: "0", useCase: "Required" },
          { level: "Audit", downtime: "Weekly", useCase: "Regular check" },
          { level: "Updates", downtime: "Monthly", useCase: "Minor versions" },
          { level: "Major", downtime: "Quarterly", useCase: "Breaking changes" }
        ]
      },
      "fe-input-sanitization": {
        title: "Input Sanitization",
        subtitle: "Cleaning and validating user input to prevent security issues.",
        badge: { text: "Security", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #ef4444;">&lt;script&gt;</div><span style="color: #06b6d4;">‚Üí sanitize ‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #22c55e;">escaped</div></div></div>`,
        definition: `<p><strong>Input Sanitization</strong> cleans user input to remove or escape potentially dangerous content before processing or displaying.</p>`,
        keyPoints: [
          { icon: "üßπ", title: "Sanitize", desc: "Clean input before use.", color: "#06b6d4" },
          { icon: "‚úÖ", title: "Validate", desc: "Check input matches expected format.", color: "#22c55e" },
          { icon: "üîí", title: "Escape", desc: "Escape special characters in output.", color: "#3b82f6" },
          { icon: "üìù", title: "Whitelist", desc: "Allow known good, not block known bad.", color: "#f59e0b" }
        ],
        formula: "Validate Input + Sanitize + Escape Output",
        strategies: [
          { title: "Zod", desc: "Use Zod for input validation." },
          { title: "DOMPurify", desc: "Sanitize HTML content." },
          { title: "React Escaping", desc: "React auto-escapes by default." },
          { title: "Server Validation", desc: "Always validate on server too." }
        ],
        metrics: [
          { level: "Zod", downtime: "Validation", useCase: "Schema" },
          { level: "DOMPurify", downtime: "HTML", useCase: "Rich text" },
          { level: "React", downtime: "Auto-escape", useCase: "JSX" },
          { level: "Server", downtime: "Always", useCase: "Trust nothing" }
        ]
      },

      // Observability & Monitoring
      "fe-error-tracking": {
        title: "Error Tracking (Sentry, etc.)",
        subtitle: "Capturing, grouping, and alerting on frontend errors in production.",
        badge: { text: "Observability", color: "#14b8a6", bg: "rgba(20, 184, 166, 0.15)" },
        color: "#14b8a6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(20, 184, 166, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üêõ</div><div style="font-size: 0.75rem; color: #14b8a6;">Error ‚Üí Capture ‚Üí Group ‚Üí Alert</div></div></div>`,
        definition: `<p><strong>Error Tracking</strong> captures runtime errors in production, groups them by root cause, and alerts developers to fix issues quickly.</p>`,
        keyPoints: [
          { icon: "üêõ", title: "Capture", desc: "Automatically capture unhandled errors.", color: "#14b8a6" },
          { icon: "üì¶", title: "Group", desc: "Group similar errors together.", color: "#3b82f6" },
          { icon: "üîî", title: "Alert", desc: "Notify team of new or regression errors.", color: "#f59e0b" },
          { icon: "üîç", title: "Context", desc: "Include user, session, and stack trace.", color: "#8b5cf6" }
        ],
        formula: "Capture ‚Üí Dedupe ‚Üí Alert ‚Üí Fix",
        strategies: [
          { title: "Sentry", desc: "Most popular error tracking platform." },
          { title: "Source Maps", desc: "Upload source maps for readable traces." },
          { title: "Context", desc: "Add user and session context." },
          { title: "Alerts", desc: "Set up alerts for new errors." }
        ],
        metrics: [
          { level: "Sentry", downtime: "Popular", useCase: "Error tracking" },
          { level: "LogRocket", downtime: "Replay", useCase: "Session replay" },
          { level: "Bugsnag", downtime: "Alternative", useCase: "Error tracking" },
          { level: "Source Maps", downtime: "Required", useCase: "Debugging" }
        ]
      },
      "fe-performance-metrics": {
        title: "Performance Metrics (LCP, FID, CLS)",
        subtitle: "Core Web Vitals and other metrics measuring real user experience.",
        badge: { text: "Observability", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.9rem; font-weight: 600; color: #ec4899;">LCP</div><div style="font-size: 0.6rem; color: #a0a0b0;">< 2.5s</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.9rem; font-weight: 600; color: #ec4899;">INP</div><div style="font-size: 0.6rem; color: #a0a0b0;">< 200ms</div></div><div style="background: rgba(236, 72, 153, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 0.9rem; font-weight: 600; color: #ec4899;">CLS</div><div style="font-size: 0.6rem; color: #a0a0b0;">< 0.1</div></div></div></div>`,
        definition: `<p><strong>Core Web Vitals</strong> are Google's metrics for measuring real user experience: LCP (loading), INP (interactivity), CLS (stability).</p>`,
        keyPoints: [
          { icon: "üñºÔ∏è", title: "LCP", desc: "Largest Contentful Paint < 2.5s.", color: "#ec4899" },
          { icon: "üëÜ", title: "INP", desc: "Interaction to Next Paint < 200ms.", color: "#3b82f6" },
          { icon: "üìê", title: "CLS", desc: "Cumulative Layout Shift < 0.1.", color: "#22c55e" },
          { icon: "üìä", title: "RUM", desc: "Real User Monitoring for actual data.", color: "#f59e0b" }
        ],
        formula: "web-vitals library ‚Üí Analytics ‚Üí Monitor",
        strategies: [
          { title: "web-vitals", desc: "Use web-vitals library to collect metrics." },
          { title: "RUM", desc: "Send metrics to analytics platform." },
          { title: "Lab + Field", desc: "Use both Lighthouse and RUM data." },
          { title: "Alerting", desc: "Alert on significant regressions." }
        ],
        metrics: [
          { level: "LCP", downtime: "< 2.5s", useCase: "Good" },
          { level: "INP", downtime: "< 200ms", useCase: "Good" },
          { level: "CLS", downtime: "< 0.1", useCase: "Good" },
          { level: "TTFB", downtime: "< 800ms", useCase: "Good" }
        ]
      },
      "fe-custom-events": {
        title: "Custom Events & Logging",
        subtitle: "Tracking custom application events and structured logging.",
        badge: { text: "Observability", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(59, 130, 246, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.65rem; color: #3b82f6;">analytics.track('button_clicked', { buttonId: 'cta' })</div></div>`,
        definition: `<p><strong>Custom Events</strong> track specific user actions and application events beyond standard metrics, providing insights into user behavior.</p>`,
        keyPoints: [
          { icon: "üìä", title: "Track Events", desc: "Log meaningful user actions.", color: "#3b82f6" },
          { icon: "üè∑Ô∏è", title: "Properties", desc: "Include relevant context.", color: "#22c55e" },
          { icon: "üéØ", title: "Business Metrics", desc: "Track conversions, engagement.", color: "#f59e0b" },
          { icon: "üìù", title: "Structured", desc: "Use consistent event schema.", color: "#8b5cf6" }
        ],
        formula: "track(eventName, properties)",
        strategies: [
          { title: "Event Schema", desc: "Define consistent event naming convention." },
          { title: "Key Events", desc: "Track conversion and engagement events." },
          { title: "Context", desc: "Include user, session, page context." },
          { title: "Privacy", desc: "Respect user privacy, anonymize data." }
        ],
        metrics: [
          { level: "Amplitude", downtime: "Product analytics", useCase: "Events" },
          { level: "Mixpanel", downtime: "Funnels", useCase: "Conversion" },
          { level: "Segment", downtime: "CDP", useCase: "Collection" },
          { level: "GA4", downtime: "Free", useCase: "Basic" }
        ]
      },
      "fe-session-replay": {
        title: "User Session Replay",
        subtitle: "Recording and replaying user sessions to understand behavior and debug issues.",
        badge: { text: "Observability", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(245, 158, 11, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üé¨</div><div style="font-size: 0.75rem; color: #f59e0b;">Record ‚Üí Replay ‚Üí Analyze</div></div></div>`,
        definition: `<p><strong>Session Replay</strong> records user interactions and allows replaying sessions to understand user behavior and debug issues.</p>`,
        keyPoints: [
          { icon: "üé¨", title: "Record", desc: "Capture DOM changes and events.", color: "#f59e0b" },
          { icon: "‚ñ∂Ô∏è", title: "Replay", desc: "Watch user sessions like videos.", color: "#3b82f6" },
          { icon: "üêõ", title: "Debug", desc: "See exactly what users experienced.", color: "#22c55e" },
          { icon: "üîí", title: "Privacy", desc: "Mask sensitive data automatically.", color: "#8b5cf6" }
        ],
        formula: "Record DOM ‚Üí Store ‚Üí Replay on demand",
        strategies: [
          { title: "LogRocket", desc: "Session replay with error tracking." },
          { title: "FullStory", desc: "Session replay with analytics." },
          { title: "Hotjar", desc: "Heatmaps and session recording." },
          { title: "Privacy Masking", desc: "Configure PII masking." }
        ],
        metrics: [
          { level: "LogRocket", downtime: "Dev-focused", useCase: "Debugging" },
          { level: "FullStory", downtime: "Product", useCase: "UX research" },
          { level: "Hotjar", downtime: "Heatmaps", useCase: "Behavior" },
          { level: "Sampling", downtime: "1-10%", useCase: "Cost control" }
        ]
      },
      "fe-feature-tracking": {
        title: "Feature Usage Tracking",
        subtitle: "Measuring how users interact with specific features.",
        badge: { text: "Observability", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: flex; gap: 8px; height: 80px; align-items: flex-end;"><div style="background: #22c55e; width: 40px; height: 100%; border-radius: 4px;"></div><div style="background: #22c55e; width: 40px; height: 70%; border-radius: 4px;"></div><div style="background: #22c55e; width: 40px; height: 40%; border-radius: 4px;"></div><div style="background: #22c55e; width: 40px; height: 20%; border-radius: 4px;"></div></div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Feature adoption rates</div></div>`,
        definition: `<p><strong>Feature Usage Tracking</strong> measures how often and how users interact with specific features, guiding product decisions.</p>`,
        keyPoints: [
          { icon: "üìä", title: "Adoption", desc: "Track feature usage rates.", color: "#22c55e" },
          { icon: "üîÑ", title: "Retention", desc: "Measure return usage.", color: "#3b82f6" },
          { icon: "üéØ", title: "Engagement", desc: "Depth of feature usage.", color: "#f59e0b" },
          { icon: "üìà", title: "Trends", desc: "Track usage over time.", color: "#8b5cf6" }
        ],
        formula: "Adoption = Users using feature / Total users",
        strategies: [
          { title: "Feature Flags", desc: "Combine with feature flags for rollout tracking." },
          { title: "Cohorts", desc: "Segment users by behavior." },
          { title: "Funnels", desc: "Track conversion through features." },
          { title: "A/B Testing", desc: "Compare feature variants." }
        ],
        metrics: [
          { level: "Adoption", downtime: "%", useCase: "Who uses it" },
          { level: "Frequency", downtime: "Times/week", useCase: "How often" },
          { level: "Retention", downtime: "D7, D30", useCase: "Stickiness" },
          { level: "Drop-off", downtime: "%", useCase: "Funnel" }
        ]
      },
      "fe-slis-slos": {
        title: "Frontend SLIs & SLOs",
        subtitle: "Defining and measuring frontend service level indicators and objectives.",
        badge: { text: "Observability", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 16px;"><div style="font-size: 0.75rem; color: #8b5cf6; margin-bottom: 8px;">SLO: 99% of page loads have LCP < 2.5s</div><div style="background: rgba(139, 92, 246, 0.3); height: 8px; border-radius: 4px; overflow: hidden;"><div style="background: #8b5cf6; width: 99%; height: 100%;"></div></div></div></div>`,
        definition: `<p><strong>SLIs</strong> are measurements of service level. <strong>SLOs</strong> are targets for those measurements. They help prioritize performance work.</p>`,
        keyPoints: [
          { icon: "üìè", title: "SLI", desc: "Service Level Indicator - the metric.", color: "#8b5cf6" },
          { icon: "üéØ", title: "SLO", desc: "Service Level Objective - the target.", color: "#3b82f6" },
          { icon: "üí∞", title: "Error Budget", desc: "Allowed failure rate.", color: "#f59e0b" },
          { icon: "üîî", title: "Alerting", desc: "Alert when approaching SLO breach.", color: "#ef4444" }
        ],
        formula: "SLO: 99% of requests have LCP < 2.5s over 30 days",
        strategies: [
          { title: "Core Web Vitals", desc: "Base SLOs on Core Web Vitals." },
          { title: "Error Rate", desc: "Track JS error rates as SLI." },
          { title: "Percentiles", desc: "Use p75 or p95, not averages." },
          { title: "Error Budget", desc: "Track consumption over time." }
        ],
        metrics: [
          { level: "LCP p75", downtime: "< 2.5s", useCase: "Loading" },
          { level: "INP p75", downtime: "< 200ms", useCase: "Interactivity" },
          { level: "Error rate", downtime: "< 1%", useCase: "Reliability" },
          { level: "Availability", downtime: "> 99.9%", useCase: "Uptime" }
        ]
      },

      // Tooling & Build System
      "fe-bundlers": {
        title: "Bundlers (Vite, Webpack)",
        subtitle: "Tools that bundle JavaScript modules and assets for the browser.",
        badge: { text: "Tooling", color: "#f97316", bg: "rgba(249, 115, 22, 0.15)" },
        color: "#f97316",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(249, 115, 22, 0.1); border: 2px solid #f97316; border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">‚ö°</div><div style="font-size: 0.8rem; color: #f97316;">Vite</div></div><div style="background: rgba(59, 130, 246, 0.1); border: 2px solid #3b82f6; border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 1.2rem; margin-bottom: 4px;">üì¶</div><div style="font-size: 0.8rem; color: #3b82f6;">Webpack</div></div></div></div>`,
        definition: `<p><strong>Bundlers</strong> combine modules and assets into optimized bundles. Vite offers fast dev experience with native ESM, while Webpack is highly configurable.</p>`,
        keyPoints: [
          { icon: "‚ö°", title: "Vite", desc: "Fast HMR using native ES modules.", color: "#f97316" },
          { icon: "üì¶", title: "Webpack", desc: "Mature, highly configurable bundler.", color: "#3b82f6" },
          { icon: "üîÑ", title: "HMR", desc: "Hot Module Replacement for fast dev.", color: "#22c55e" },
          { icon: "üóúÔ∏è", title: "Optimization", desc: "Minification, tree-shaking, splitting.", color: "#8b5cf6" }
        ],
        formula: "Modules ‚Üí Bundle ‚Üí Optimize ‚Üí Output",
        strategies: [
          { title: "Vite for New", desc: "Use Vite for new projects." },
          { title: "Webpack Legacy", desc: "Webpack still needed for complex configs." },
          { title: "Build Time", desc: "Optimize build time for large projects." },
          { title: "Caching", desc: "Use persistent caching." }
        ],
        metrics: [
          { level: "Vite", downtime: "Fast dev", useCase: "New projects" },
          { level: "Webpack", downtime: "Flexible", useCase: "Complex needs" },
          { level: "Turbopack", downtime: "Next.js", useCase: "Future" },
          { level: "esbuild", downtime: "Fast bundling", useCase: "Speed" }
        ]
      },
      "fe-transpilers": {
        title: "Transpilers (Babel, SWC)",
        subtitle: "Tools that transform modern JavaScript to compatible versions.",
        badge: { text: "Tooling", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #f59e0b;">ES2024</div><span style="color: #f59e0b;">‚Üí</span><div style="background: rgba(245, 158, 11, 0.2); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #f59e0b;">Transpile</div><span style="color: #f59e0b;">‚Üí</span><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #f59e0b;">ES5/ES6</div></div></div>`,
        definition: `<p><strong>Transpilers</strong> convert modern JavaScript/TypeScript to older versions for browser compatibility. SWC is Rust-based and much faster than Babel.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "Babel", desc: "JavaScript compiler, plugin ecosystem.", color: "#f59e0b" },
          { icon: "‚ö°", title: "SWC", desc: "Rust-based, 20x faster than Babel.", color: "#3b82f6" },
          { icon: "üìã", title: "Presets", desc: "Pre-configured transformation sets.", color: "#22c55e" },
          { icon: "üéØ", title: "Targets", desc: "Compile based on browser targets.", color: "#8b5cf6" }
        ],
        formula: "Modern JS ‚Üí Transpile ‚Üí Compatible JS",
        strategies: [
          { title: "SWC", desc: "Use SWC for faster builds." },
          { title: "Browserslist", desc: "Define target browsers." },
          { title: "TypeScript", desc: "tsc or SWC for TS compilation." },
          { title: "Minimal Transforms", desc: "Target modern browsers when possible." }
        ],
        metrics: [
          { level: "SWC", downtime: "20x faster", useCase: "Speed" },
          { level: "Babel", downtime: "Ecosystem", useCase: "Plugins" },
          { level: "esbuild", downtime: "Fast", useCase: "Bundled" },
          { level: "tsc", downtime: "Type checking", useCase: "TypeScript" }
        ]
      },
      "fe-linters": {
        title: "Linters",
        subtitle: "Tools that analyze code to find problems and enforce style.",
        badge: { text: "Tooling", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üîç</div><div style="font-size: 0.75rem; color: #8b5cf6;">ESLint + Rules = Consistent Code</div></div></div>`,
        definition: `<p><strong>Linters</strong> analyze code to catch errors, enforce style, and identify potential issues before runtime.</p>`,
        keyPoints: [
          { icon: "üîç", title: "ESLint", desc: "Standard JavaScript/TypeScript linter.", color: "#8b5cf6" },
          { icon: "üìè", title: "Rules", desc: "Configurable rules for code quality.", color: "#3b82f6" },
          { icon: "üîå", title: "Plugins", desc: "React, TypeScript, accessibility plugins.", color: "#22c55e" },
          { icon: "üîß", title: "Auto-fix", desc: "Many issues can be auto-fixed.", color: "#f59e0b" }
        ],
        formula: "ESLint + Plugins + Config = Quality Gate",
        strategies: [
          { title: "Flat Config", desc: "Use new ESLint flat config format." },
          { title: "TypeScript", desc: "Use typescript-eslint for TS." },
          { title: "CI Integration", desc: "Run linting in CI pipeline." },
          { title: "Pre-commit", desc: "Lint staged files with husky." }
        ],
        metrics: [
          { level: "ESLint", downtime: "Standard", useCase: "JS/TS" },
          { level: "typescript-eslint", downtime: "TS rules", useCase: "Type-aware" },
          { level: "eslint-plugin-react", downtime: "React", useCase: "Hooks rules" },
          { level: "Biome", downtime: "Fast", useCase: "Alternative" }
        ]
      },
      "fe-formatters": {
        title: "Formatters",
        subtitle: "Tools that automatically format code to consistent style.",
        badge: { text: "Tooling", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">‚ú®</div><div style="font-size: 0.75rem; color: #ec4899;">Prettier: Opinionated Code Formatter</div></div></div>`,
        definition: `<p><strong>Formatters</strong> like Prettier automatically format code to a consistent style, ending debates about formatting.</p>`,
        keyPoints: [
          { icon: "‚ú®", title: "Prettier", desc: "Opinionated code formatter.", color: "#ec4899" },
          { icon: "üé®", title: "Consistent", desc: "Enforces consistent style across team.", color: "#3b82f6" },
          { icon: "üíæ", title: "On Save", desc: "Format automatically on save.", color: "#22c55e" },
          { icon: "üîß", title: "Configurable", desc: "Some options like tabs vs spaces.", color: "#f59e0b" }
        ],
        formula: "Prettier + Format on Save = No Style Debates",
        strategies: [
          { title: "Format on Save", desc: "Configure editor to format on save." },
          { title: "Pre-commit", desc: "Format staged files with husky." },
          { title: "CI Check", desc: "Verify formatting in CI." },
          { title: "Minimal Config", desc: "Use defaults, minimize options." }
        ],
        metrics: [
          { level: "Prettier", downtime: "Standard", useCase: "JS/TS/CSS" },
          { level: "Biome", downtime: "Faster", useCase: "Alternative" },
          { level: "dprint", downtime: "Fast", useCase: "Rust-based" },
          { level: "Format on Save", downtime: "Always", useCase: "IDE" }
        ]
      },
      "fe-typescript": {
        title: "TypeScript",
        subtitle: "Typed superset of JavaScript for improved developer experience and safety.",
        badge: { text: "Tooling", color: "#3178c6", bg: "rgba(49, 120, 198, 0.15)" },
        color: "#3178c6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(49, 120, 198, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.65rem; color: #3178c6;">function add(a: number, b: number): number</div></div>`,
        definition: `<p><strong>TypeScript</strong> adds static types to JavaScript, catching errors at compile time and improving IDE support.</p>`,
        keyPoints: [
          { icon: "üìù", title: "Static Types", desc: "Catch type errors before runtime.", color: "#3178c6" },
          { icon: "üîç", title: "IDE Support", desc: "Better autocomplete and refactoring.", color: "#22c55e" },
          { icon: "üìö", title: "Documentation", desc: "Types serve as documentation.", color: "#f59e0b" },
          { icon: "üîí", title: "Safety", desc: "Prevents many common bugs.", color: "#8b5cf6" }
        ],
        formula: "TypeScript = JavaScript + Types",
        strategies: [
          { title: "Strict Mode", desc: "Enable strict: true in tsconfig." },
          { title: "Gradual Adoption", desc: "Migrate incrementally." },
          { title: "Type Inference", desc: "Let TS infer types when obvious." },
          { title: "Generics", desc: "Use generics for reusable types." }
        ],
        metrics: [
          { level: "strict", downtime: "true", useCase: "Best practice" },
          { level: "noUncheckedIndexedAccess", downtime: "true", useCase: "Safety" },
          { level: "SWC", downtime: "Fast compilation", useCase: "Speed" },
          { level: "tsc", downtime: "Type check only", useCase: "Accuracy" }
        ]
      },
      "fe-module-resolution": {
        title: "Module Resolution",
        subtitle: "How bundlers and Node.js resolve import paths to actual files.",
        badge: { text: "Tooling", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.65rem; color: #22c55e;">import { Button } from '@/components/Button'</div></div>`,
        definition: `<p><strong>Module Resolution</strong> determines how import paths are resolved to actual files. Path aliases and proper configuration improve DX.</p>`,
        keyPoints: [
          { icon: "üìÅ", title: "Path Aliases", desc: "Use @/ for cleaner imports.", color: "#22c55e" },
          { icon: "üì¶", title: "node_modules", desc: "Default resolution for packages.", color: "#3b82f6" },
          { icon: "üîß", title: "tsconfig", desc: "Configure paths in tsconfig.json.", color: "#f59e0b" },
          { icon: "üìÑ", title: "Index Files", desc: "index.ts for directory imports.", color: "#8b5cf6" }
        ],
        formula: "tsconfig paths + bundler alias = Clean imports",
        strategies: [
          { title: "Path Aliases", desc: "Configure @/ for src directory." },
          { title: "Barrel Files", desc: "Use index.ts for public exports." },
          { title: "Sync Config", desc: "Keep tsconfig and bundler paths in sync." },
          { title: "Absolute Imports", desc: "Prefer absolute over relative." }
        ],
        metrics: [
          { level: "baseUrl", downtime: "'.'", useCase: "Root" },
          { level: "paths", downtime: "@/*", useCase: "Alias" },
          { level: "moduleResolution", downtime: "bundler", useCase: "Modern" },
          { level: "Vite", downtime: "resolve.alias", useCase: "Bundler" }
        ]
      },
      "fe-env-configs": {
        title: "Environment Configs",
        subtitle: "Managing configuration across different environments.",
        badge: { text: "Tooling", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="background: rgba(6, 182, 212, 0.1); border-left: 4px solid #6366f1; padding: 8px; border-radius: 0 6px 6px 0; font-size: 0.7rem; color: #6366f1;">.env.development</div><div style="background: rgba(6, 182, 212, 0.1); border-left: 4px solid #f59e0b; padding: 8px; border-radius: 0 6px 6px 0; font-size: 0.7rem; color: #f59e0b;">.env.staging</div><div style="background: rgba(6, 182, 212, 0.1); border-left: 4px solid #22c55e; padding: 8px; border-radius: 0 6px 6px 0; font-size: 0.7rem; color: #22c55e;">.env.production</div></div></div>`,
        definition: `<p><strong>Environment Configs</strong> manage different settings for development, staging, and production environments using environment variables.</p>`,
        keyPoints: [
          { icon: "üîß", title: ".env Files", desc: "Store env-specific variables.", color: "#06b6d4" },
          { icon: "üîí", title: "Secrets", desc: "Never commit secrets to git.", color: "#ef4444" },
          { icon: "üìù", title: "Prefix", desc: "VITE_ or NEXT_PUBLIC_ for client vars.", color: "#f59e0b" },
          { icon: "‚úÖ", title: "Validation", desc: "Validate env vars at build time.", color: "#22c55e" }
        ],
        formula: "process.env.VITE_API_URL",
        strategies: [
          { title: ".env.example", desc: "Commit example file with placeholder values." },
          { title: "Validation", desc: "Use zod to validate env vars." },
          { title: "Type Safety", desc: "Type env vars in TypeScript." },
          { title: "CI/CD Secrets", desc: "Store production secrets in CI/CD." }
        ],
        metrics: [
          { level: ".env", downtime: "Local", useCase: "Default" },
          { level: ".env.local", downtime: "Override", useCase: "Personal" },
          { level: ".env.production", downtime: "Prod values", useCase: "Build" },
          { level: "CI secrets", downtime: "Sensitive", useCase: "Secure" }
        ]
      },
      "fe-build-optimization": {
        title: "Build Optimization",
        subtitle: "Techniques to speed up build times and reduce output size.",
        badge: { text: "Tooling", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #ef4444;">10min build</div><span style="color: #ef4444;">‚Üí</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #22c55e;">2min build</div></div></div>`,
        definition: `<p><strong>Build Optimization</strong> reduces build time through caching, parallelization, and avoiding unnecessary work.</p>`,
        keyPoints: [
          { icon: "üíæ", title: "Caching", desc: "Cache build outputs between runs.", color: "#ef4444" },
          { icon: "‚ö°", title: "Parallelization", desc: "Run tasks in parallel.", color: "#3b82f6" },
          { icon: "üéØ", title: "Incremental", desc: "Only rebuild what changed.", color: "#22c55e" },
          { icon: "üîß", title: "Tools", desc: "Use faster tools like SWC, esbuild.", color: "#f59e0b" }
        ],
        formula: "Cache + Parallel + Incremental = Fast Builds",
        strategies: [
          { title: "Turborepo", desc: "Use Turborepo for monorepo caching." },
          { title: "SWC", desc: "Replace Babel with SWC." },
          { title: "CI Caching", desc: "Cache node_modules and build outputs." },
          { title: "Affected", desc: "Only build affected packages." }
        ],
        metrics: [
          { level: "SWC", downtime: "20x faster", useCase: "Transpile" },
          { level: "esbuild", downtime: "Fast bundle", useCase: "Speed" },
          { level: "Turborepo", downtime: "Cache", useCase: "Monorepo" },
          { level: "CI Cache", downtime: "50%+ faster", useCase: "CI" }
        ]
      },

      // Deployment & Delivery
      "fe-cicd": {
        title: "CI/CD Pipelines",
        subtitle: "Automated build, test, and deployment pipelines for frontend applications.",
        badge: { text: "Deployment", color: "#84cc16", bg: "rgba(132, 204, 22, 0.15)" },
        color: "#84cc16",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 12px; flex-wrap: wrap;"><div style="background: rgba(132, 204, 22, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem; color: #84cc16;">Lint</div><span style="color: #84cc16;">‚Üí</span><div style="background: rgba(132, 204, 22, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem; color: #84cc16;">Test</div><span style="color: #84cc16;">‚Üí</span><div style="background: rgba(132, 204, 22, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem; color: #84cc16;">Build</div><span style="color: #84cc16;">‚Üí</span><div style="background: rgba(132, 204, 22, 0.1); border-radius: 8px; padding: 10px; font-size: 0.7rem; color: #84cc16;">Deploy</div></div></div>`,
        definition: `<p><strong>CI/CD</strong> automates the process of building, testing, and deploying frontend applications, ensuring quality and enabling rapid delivery.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "Continuous", desc: "Automated on every push.", color: "#84cc16" },
          { icon: "‚úÖ", title: "Quality Gates", desc: "Lint, test, type-check before deploy.", color: "#3b82f6" },
          { icon: "üöÄ", title: "Deploy", desc: "Automatic deployment to staging/prod.", color: "#22c55e" },
          { icon: "üîî", title: "Notifications", desc: "Alert on failures.", color: "#f59e0b" }
        ],
        formula: "Push ‚Üí Build ‚Üí Test ‚Üí Deploy",
        strategies: [
          { title: "GitHub Actions", desc: "Popular CI/CD for GitHub repos." },
          { title: "Vercel", desc: "Automatic deployments for Next.js." },
          { title: "Fail Fast", desc: "Run fast checks first." },
          { title: "Caching", desc: "Cache dependencies for speed." }
        ],
        metrics: [
          { level: "Build time", downtime: "< 5 min", useCase: "Speed" },
          { level: "Deploy time", downtime: "< 2 min", useCase: "Fast delivery" },
          { level: "Success rate", downtime: "> 95%", useCase: "Reliability" },
          { level: "Frequency", downtime: "Multiple/day", useCase: "Velocity" }
        ]
      },
      "fe-feature-flags": {
        title: "Feature Flags",
        subtitle: "Toggle features on/off without deploying new code.",
        badge: { text: "Deployment", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 14px; display: flex; align-items: center; gap: 8px;"><div style="width: 40px; height: 20px; background: #22c55e; border-radius: 10px;"></div><span style="font-size: 0.7rem;">Feature A: ON</span></div><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 14px; display: flex; align-items: center; gap: 8px;"><div style="width: 40px; height: 20px; background: #6b7280; border-radius: 10px;"></div><span style="font-size: 0.7rem;">Feature B: OFF</span></div></div></div>`,
        definition: `<p><strong>Feature Flags</strong> allow enabling/disabling features at runtime, enabling gradual rollouts, A/B testing, and quick rollbacks.</p>`,
        keyPoints: [
          { icon: "üîÄ", title: "Toggle", desc: "Enable/disable features dynamically.", color: "#6366f1" },
          { icon: "üë•", title: "Targeting", desc: "Show features to specific users.", color: "#3b82f6" },
          { icon: "üìä", title: "Percentage", desc: "Roll out to % of users.", color: "#22c55e" },
          { icon: "‚Ü©Ô∏è", title: "Rollback", desc: "Disable instantly without deploy.", color: "#f59e0b" }
        ],
        formula: "if (isFeatureEnabled('newCheckout')) { ... }",
        strategies: [
          { title: "LaunchDarkly", desc: "Enterprise feature flag platform." },
          { title: "PostHog", desc: "Feature flags with analytics." },
          { title: "Gradual Rollout", desc: "Start at 5%, increase gradually." },
          { title: "Cleanup", desc: "Remove flags after full rollout." }
        ],
        metrics: [
          { level: "LaunchDarkly", downtime: "Enterprise", useCase: "Full-featured" },
          { level: "PostHog", downtime: "Analytics", useCase: "Combined" },
          { level: "Unleash", downtime: "Open source", useCase: "Self-hosted" },
          { level: "Vercel Edge", downtime: "Config", useCase: "Simple" }
        ]
      },
      "fe-canary-releases": {
        title: "Canary Releases",
        subtitle: "Deploying new versions to a small subset of users first.",
        badge: { text: "Deployment", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: flex; gap: 8px; height: 60px;"><div style="background: #22c55e; flex: 9; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: white;">Stable (90%)</div><div style="background: #f59e0b; flex: 1; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.6rem; color: white;">üê§</div></div></div>`,
        definition: `<p><strong>Canary Releases</strong> deploy new versions to a small percentage of users, allowing you to detect issues before full rollout.</p>`,
        keyPoints: [
          { icon: "üê§", title: "Small %", desc: "Start with 1-5% of traffic.", color: "#f59e0b" },
          { icon: "üìä", title: "Monitor", desc: "Watch metrics for regressions.", color: "#3b82f6" },
          { icon: "üìà", title: "Gradual", desc: "Increase traffic gradually.", color: "#22c55e" },
          { icon: "‚Ü©Ô∏è", title: "Rollback", desc: "Quick rollback if issues found.", color: "#ef4444" }
        ],
        formula: "1% ‚Üí 5% ‚Üí 25% ‚Üí 50% ‚Üí 100%",
        strategies: [
          { title: "Vercel", desc: "Built-in canary deployments." },
          { title: "Edge Splitting", desc: "Split traffic at edge/CDN level." },
          { title: "Monitoring", desc: "Close monitoring during canary." },
          { title: "Automatic Rollback", desc: "Auto-rollback on error spike." }
        ],
        metrics: [
          { level: "Start", downtime: "1-5%", useCase: "Initial" },
          { level: "Expand", downtime: "25-50%", useCase: "Confidence" },
          { level: "Full", downtime: "100%", useCase: "Complete" },
          { level: "Metrics", downtime: "Error rate, latency", useCase: "Watch" }
        ]
      },
      "fe-rollbacks": {
        title: "Rollbacks",
        subtitle: "Quickly reverting to a previous version when issues occur.",
        badge: { text: "Deployment", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(239, 68, 68, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #ef4444;">v2 (broken)</div><span style="color: #ef4444;">‚Ü©Ô∏è</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #22c55e;">v1 (stable)</div></div></div>`,
        definition: `<p><strong>Rollbacks</strong> allow quickly reverting to a previous working version when a deployment causes issues.</p>`,
        keyPoints: [
          { icon: "‚Ü©Ô∏è", title: "Quick", desc: "Rollback should take seconds.", color: "#ef4444" },
          { icon: "üíæ", title: "Keep Artifacts", desc: "Keep previous build artifacts.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Atomic", desc: "Deployments should be atomic.", color: "#22c55e" },
          { icon: "üß™", title: "Test Rollback", desc: "Practice rollbacks regularly.", color: "#f59e0b" }
        ],
        formula: "Detect issue ‚Üí Trigger rollback ‚Üí Verify ‚Üí Investigate",
        strategies: [
          { title: "Instant Rollback", desc: "Vercel/Netlify support instant rollback." },
          { title: "Keep History", desc: "Keep last 5-10 deployments." },
          { title: "Database", desc: "Consider DB migrations in rollback." },
          { title: "Feature Flags", desc: "Disable feature instead of rollback." }
        ],
        metrics: [
          { level: "Time", downtime: "< 1 min", useCase: "Speed" },
          { level: "History", downtime: "5-10 versions", useCase: "Options" },
          { level: "Practice", downtime: "Quarterly", useCase: "Readiness" },
          { level: "Automated", downtime: "On error spike", useCase: "Fast" }
        ]
      },
      "fe-cdn-strategy": {
        title: "CDN Strategy",
        subtitle: "Serving static assets from globally distributed edge locations.",
        badge: { text: "Deployment", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px; text-align: center;"><div style="background: rgba(34, 197, 94, 0.1); border: 2px solid #22c55e; border-radius: 50%; width: 60px; height: 60px; margin: 0 auto; display: flex; align-items: center; justify-content: center; font-size: 1.5rem;">üåç</div><div style="display: flex; justify-content: center; gap: 16px; margin-top: 16px;"><div style="font-size: 0.7rem; color: #22c55e;">üá∫üá∏</div><div style="font-size: 0.7rem; color: #22c55e;">üá™üá∫</div><div style="font-size: 0.7rem; color: #22c55e;">üáØüáµ</div></div></div>`,
        definition: `<p><strong>CDN</strong> (Content Delivery Network) serves static assets from edge locations worldwide, reducing latency for global users.</p>`,
        keyPoints: [
          { icon: "üåç", title: "Global", desc: "Serve from edge locations worldwide.", color: "#22c55e" },
          { icon: "‚ö°", title: "Fast", desc: "Low latency for all users.", color: "#3b82f6" },
          { icon: "üíæ", title: "Caching", desc: "Cache static assets at edge.", color: "#f59e0b" },
          { icon: "üõ°Ô∏è", title: "DDoS", desc: "Built-in DDoS protection.", color: "#8b5cf6" }
        ],
        formula: "Origin ‚Üí CDN Edge ‚Üí User",
        strategies: [
          { title: "Vercel/Netlify", desc: "Built-in CDN for static assets." },
          { title: "Cloudflare", desc: "Global CDN with edge compute." },
          { title: "Cache Headers", desc: "Set appropriate cache headers." },
          { title: "Immutable Assets", desc: "Use content hashes for cache busting." }
        ],
        metrics: [
          { level: "Vercel Edge", downtime: "Automatic", useCase: "Next.js" },
          { level: "Cloudflare", downtime: "Global", useCase: "Performance" },
          { level: "Cache-Control", downtime: "immutable", useCase: "Static" },
          { level: "TTFB", downtime: "< 100ms", useCase: "Target" }
        ]
      },
      "fe-cache-busting": {
        title: "Cache Busting",
        subtitle: "Ensuring users get the latest version of assets after deployment.",
        badge: { text: "Deployment", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.6rem; color: #8b5cf6;">main.abc123.js ‚Üí main.def456.js</div></div>`,
        definition: `<p><strong>Cache Busting</strong> ensures users receive updated assets by including content hashes in filenames or using cache headers.</p>`,
        keyPoints: [
          { icon: "üîó", title: "Content Hash", desc: "Include hash in filename.", color: "#8b5cf6" },
          { icon: "‚ôæÔ∏è", title: "Long Cache", desc: "Cache hashed assets forever.", color: "#3b82f6" },
          { icon: "üìÑ", title: "HTML", desc: "HTML should not be cached.", color: "#f59e0b" },
          { icon: "üîÑ", title: "New Hash", desc: "New content = new hash = fresh fetch.", color: "#22c55e" }
        ],
        formula: "main.[contenthash].js",
        strategies: [
          { title: "Content Hash", desc: "Bundlers add hashes automatically." },
          { title: "HTML No-Cache", desc: "HTML: Cache-Control: no-cache." },
          { title: "Assets Immutable", desc: "JS/CSS: Cache-Control: immutable, max-age=31536000." },
          { title: "CDN Purge", desc: "Purge CDN cache if needed." }
        ],
        metrics: [
          { level: "Hash", downtime: "8+ chars", useCase: "Uniqueness" },
          { level: "HTML", downtime: "no-cache", useCase: "Fresh" },
          { level: "Assets", downtime: "1 year", useCase: "Long cache" },
          { level: "Bundles", downtime: "Hashed", useCase: "Auto-bust" }
        ]
      },
      "fe-environment-parity": {
        title: "Environment Parity",
        subtitle: "Keeping development, staging, and production environments consistent.",
        badge: { text: "Deployment", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 16px;"><div style="background: rgba(99, 102, 241, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #6366f1;">Dev</div><span style="color: #06b6d4;">‚âà</span><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #f59e0b;">Staging</div><span style="color: #06b6d4;">‚âà</span><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #22c55e;">Prod</div></div></div>`,
        definition: `<p><strong>Environment Parity</strong> ensures dev, staging, and production are as similar as possible to catch issues before production.</p>`,
        keyPoints: [
          { icon: "üîÑ", title: "Same Config", desc: "Same build process across environments.", color: "#06b6d4" },
          { icon: "üì¶", title: "Same Deps", desc: "Same dependency versions.", color: "#3b82f6" },
          { icon: "üéØ", title: "Staging = Prod", desc: "Staging mirrors production.", color: "#22c55e" },
          { icon: "üß™", title: "Test in Staging", desc: "Full testing in staging before prod.", color: "#f59e0b" }
        ],
        formula: "Dev ‚âà Staging ‚âà Production",
        strategies: [
          { title: "Docker", desc: "Use containers for consistency." },
          { title: "Same Build", desc: "Build once, deploy to all envs." },
          { title: "Preview Deploys", desc: "Preview deployments for PRs." },
          { title: "Feature Flags", desc: "Use flags instead of env branching." }
        ],
        metrics: [
          { level: "Build", downtime: "Same", useCase: "Consistency" },
          { level: "Deps", downtime: "Lock files", useCase: "Versions" },
          { level: "Config", downtime: "Env vars only", useCase: "Difference" },
          { level: "Data", downtime: "Anonymized prod", useCase: "Staging" }
        ]
      },
      "fe-versioning": {
        title: "Versioning",
        subtitle: "Managing version numbers and changelogs for releases.",
        badge: { text: "Deployment", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 16px; font-family: monospace; font-size: 0.8rem; color: #ec4899; text-align: center;">v2.1.0 ‚Üí v2.2.0 ‚Üí v3.0.0</div></div>`,
        definition: `<p><strong>Semantic Versioning</strong> (semver) uses MAJOR.MINOR.PATCH format to communicate the nature of changes to consumers.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Semver", desc: "MAJOR.MINOR.PATCH format.", color: "#ec4899" },
          { icon: "üî¥", title: "Major", desc: "Breaking changes.", color: "#ef4444" },
          { icon: "üü°", title: "Minor", desc: "New features, backward compatible.", color: "#f59e0b" },
          { icon: "üü¢", title: "Patch", desc: "Bug fixes only.", color: "#22c55e" }
        ],
        formula: "MAJOR.MINOR.PATCH (e.g., 2.1.3)",
        strategies: [
          { title: "Changesets", desc: "Manage versioning with changesets." },
          { title: "Conventional Commits", desc: "Auto-version from commit messages." },
          { title: "Changelog", desc: "Keep changelog updated." },
          { title: "Release Notes", desc: "Document what changed." }
        ],
        metrics: [
          { level: "Changesets", downtime: "Manual", useCase: "Control" },
          { level: "Semantic Release", downtime: "Auto", useCase: "CI/CD" },
          { level: "Conventional", downtime: "Commits", useCase: "Standard" },
          { level: "Changelog", downtime: "Auto-generated", useCase: "Docs" }
        ]
      },

      // Cross-Platform & Devices
      "fe-responsive-web": {
        title: "Responsive Web",
        subtitle: "Building websites that adapt to any screen size.",
        badge: { text: "Cross-Platform", color: "#10b981", bg: "rgba(16, 185, 129, 0.15)" },
        color: "#10b981",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: flex-end; justify-content: center; gap: 12px;"><div style="background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981; border-radius: 4px; width: 30px; height: 50px;"></div><div style="background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981; border-radius: 4px; width: 50px; height: 35px;"></div><div style="background: rgba(16, 185, 129, 0.2); border: 2px solid #10b981; border-radius: 4px; width: 80px; height: 50px;"></div></div></div>`,
        definition: `<p><strong>Responsive Web</strong> design ensures websites work well on all devices from mobile phones to large desktop monitors.</p>`,
        keyPoints: [
          { icon: "üì±", title: "Mobile-First", desc: "Design for mobile, enhance for desktop.", color: "#10b981" },
          { icon: "üìê", title: "Media Queries", desc: "Apply styles at breakpoints.", color: "#3b82f6" },
          { icon: "üî≤", title: "Fluid Layouts", desc: "Use relative units, not fixed pixels.", color: "#f59e0b" },
          { icon: "üñºÔ∏è", title: "Images", desc: "Use responsive images with srcset.", color: "#8b5cf6" }
        ],
        formula: "@media (min-width: 768px) { ... }",
        strategies: [
          { title: "Mobile-First", desc: "Start with mobile layout." },
          { title: "Container Queries", desc: "Use container queries for components." },
          { title: "Clamp()", desc: "Use clamp() for fluid typography." },
          { title: "Test Devices", desc: "Test on real devices, not just emulators." }
        ],
        metrics: [
          { level: "320px", downtime: "Mobile S", useCase: "Min width" },
          { level: "768px", downtime: "Tablet", useCase: "md breakpoint" },
          { level: "1024px", downtime: "Desktop", useCase: "lg breakpoint" },
          { level: "Container", downtime: "@container", useCase: "Component" }
        ]
      },
      "fe-pwa": {
        title: "PWA (Progressive Web App)",
        subtitle: "Web applications with native app-like capabilities.",
        badge: { text: "Cross-Platform", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(99, 102, 241, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1rem;">üì≤</div><div style="font-size: 0.6rem; color: #6366f1;">Installable</div></div><div style="background: rgba(99, 102, 241, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1rem;">üì¥</div><div style="font-size: 0.6rem; color: #6366f1;">Offline</div></div><div style="background: rgba(99, 102, 241, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1rem;">üîî</div><div style="font-size: 0.6rem; color: #6366f1;">Push</div></div></div></div>`,
        definition: `<p><strong>PWA</strong> (Progressive Web App) combines web and native app capabilities - installable, works offline, and supports push notifications.</p>`,
        keyPoints: [
          { icon: "üì≤", title: "Installable", desc: "Add to home screen like native app.", color: "#6366f1" },
          { icon: "üì¥", title: "Offline", desc: "Works without internet connection.", color: "#22c55e" },
          { icon: "üîî", title: "Push", desc: "Send push notifications.", color: "#f59e0b" },
          { icon: "üìã", title: "Manifest", desc: "Web app manifest for metadata.", color: "#8b5cf6" }
        ],
        formula: "HTTPS + Manifest + Service Worker = PWA",
        strategies: [
          { title: "Service Worker", desc: "Cache assets for offline use." },
          { title: "Manifest", desc: "Configure app name, icons, theme." },
          { title: "Workbox", desc: "Use Workbox for caching strategies." },
          { title: "App Shell", desc: "Cache app shell for instant load." }
        ],
        metrics: [
          { level: "HTTPS", downtime: "Required", useCase: "Security" },
          { level: "Manifest", downtime: "Required", useCase: "Metadata" },
          { level: "SW", downtime: "Required", useCase: "Offline" },
          { level: "Lighthouse", downtime: "PWA audit", useCase: "Check" }
        ]
      },
      "fe-mobile-first": {
        title: "Mobile-First Design",
        subtitle: "Designing for mobile screens first, then enhancing for larger screens.",
        badge: { text: "Cross-Platform", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(236, 72, 153, 0.2); border: 3px solid #ec4899; border-radius: 8px; width: 40px; height: 60px; display: flex; align-items: center; justify-content: center;"><span style="font-size: 0.6rem; color: #ec4899;">1st</span></div><span style="color: #ec4899;">‚Üí</span><div style="background: rgba(236, 72, 153, 0.1); border: 1px solid #ec4899; border-radius: 8px; width: 60px; height: 50px;"></div><span style="color: #ec4899;">‚Üí</span><div style="background: rgba(236, 72, 153, 0.1); border: 1px solid #ec4899; border-radius: 8px; width: 80px; height: 50px;"></div></div></div>`,
        definition: `<p><strong>Mobile-First</strong> means designing for the smallest screens first, then progressively enhancing for larger screens.</p>`,
        keyPoints: [
          { icon: "üì±", title: "Start Small", desc: "Design for mobile constraints first.", color: "#ec4899" },
          { icon: "‚ûï", title: "Enhance", desc: "Add features for larger screens.", color: "#3b82f6" },
          { icon: "üéØ", title: "Focus", desc: "Forces focus on essential content.", color: "#22c55e" },
          { icon: "‚ö°", title: "Performance", desc: "Better performance for mobile users.", color: "#f59e0b" }
        ],
        formula: "Base styles ‚Üí min-width queries ‚Üí Enhanced layouts",
        strategies: [
          { title: "min-width", desc: "Use min-width media queries, not max-width." },
          { title: "Content First", desc: "Prioritize content for small screens." },
          { title: "Touch Targets", desc: "Minimum 44x44px touch targets." },
          { title: "Performance", desc: "Optimize images and code for mobile." }
        ],
        metrics: [
          { level: "Touch target", downtime: "44x44px", useCase: "Minimum" },
          { level: "Font size", downtime: "16px+", useCase: "Readability" },
          { level: "Viewport", downtime: "meta tag", useCase: "Required" },
          { level: "Bundle", downtime: "< 100KB", useCase: "Mobile" }
        ]
      },
      "fe-browser-compat": {
        title: "Browser Compatibility",
        subtitle: "Ensuring your application works across different browsers.",
        badge: { text: "Cross-Platform", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 16px;"><div style="font-size: 1.5rem;">üåê</div><div style="font-size: 1.5rem;">ü¶ä</div><div style="font-size: 1.5rem;">üß≠</div><div style="font-size: 1.5rem;">üî∑</div></div><div style="text-align: center; font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">Chrome, Firefox, Safari, Edge</div></div>`,
        definition: `<p><strong>Browser Compatibility</strong> ensures your application works correctly across Chrome, Firefox, Safari, Edge, and other browsers.</p>`,
        keyPoints: [
          { icon: "üéØ", title: "Browserslist", desc: "Define target browsers.", color: "#f59e0b" },
          { icon: "üîß", title: "Polyfills", desc: "Add missing features for old browsers.", color: "#3b82f6" },
          { icon: "‚úÖ", title: "Can I Use", desc: "Check feature support.", color: "#22c55e" },
          { icon: "üß™", title: "Testing", desc: "Test on real browsers.", color: "#8b5cf6" }
        ],
        formula: "Browserslist + Polyfills + Testing",
        strategies: [
          { title: "Browserslist", desc: "Configure in package.json." },
          { title: "core-js", desc: "Polyfill missing JS features." },
          { title: "Autoprefixer", desc: "Add vendor prefixes automatically." },
          { title: "BrowserStack", desc: "Test on real browsers in cloud." }
        ],
        metrics: [
          { level: "Chrome", downtime: "Latest 2", useCase: "Standard" },
          { level: "Firefox", downtime: "Latest 2", useCase: "Standard" },
          { level: "Safari", downtime: "Latest 2", useCase: "iOS/Mac" },
          { level: "Edge", downtime: "Latest 2", useCase: "Standard" }
        ]
      },
      "fe-touch-pointer": {
        title: "Touch vs Pointer Events",
        subtitle: "Handling user input across touch, mouse, and stylus devices.",
        badge: { text: "Cross-Platform", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1.2rem;">üëÜ</div><div style="font-size: 0.6rem; color: #8b5cf6;">Touch</div></div><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1.2rem;">üñ±Ô∏è</div><div style="font-size: 0.6rem; color: #8b5cf6;">Mouse</div></div><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; text-align: center;"><div style="font-size: 1.2rem;">‚úèÔ∏è</div><div style="font-size: 0.6rem; color: #8b5cf6;">Stylus</div></div></div></div>`,
        definition: `<p><strong>Pointer Events</strong> provide a unified way to handle input from mouse, touch, and stylus devices in a single event model.</p>`,
        keyPoints: [
          { icon: "üëÜ", title: "Pointer Events", desc: "Unified API for all input types.", color: "#8b5cf6" },
          { icon: "üì±", title: "Touch", desc: "touchstart, touchmove, touchend.", color: "#22c55e" },
          { icon: "üñ±Ô∏è", title: "Mouse", desc: "click, mouseenter, mouseleave.", color: "#3b82f6" },
          { icon: "üéØ", title: "Unified", desc: "pointerdown works for all.", color: "#f59e0b" }
        ],
        formula: "Use pointer events for cross-device compatibility",
        strategies: [
          { title: "Pointer Events", desc: "Use pointer events API." },
          { title: "Touch Size", desc: "44x44px minimum touch targets." },
          { title: "Hover States", desc: "Don't rely on hover for mobile." },
          { title: "Gestures", desc: "Use gesture libraries if needed." }
        ],
        metrics: [
          { level: "pointerdown", downtime: "Unified", useCase: "Start" },
          { level: "pointermove", downtime: "Unified", useCase: "Move" },
          { level: "pointerup", downtime: "Unified", useCase: "End" },
          { level: "Touch target", downtime: "44px", useCase: "Size" }
        ]
      },
      "fe-offline-support": {
        title: "Offline Support",
        subtitle: "Enabling application functionality without internet connection.",
        badge: { text: "Cross-Platform", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üì¥</div><div style="font-size: 0.8rem; color: #22c55e;">Works Offline</div></div></div>`,
        definition: `<p><strong>Offline Support</strong> allows users to use your application without an internet connection using service workers and local caching.</p>`,
        keyPoints: [
          { icon: "üíæ", title: "Service Worker", desc: "Cache assets and API responses.", color: "#22c55e" },
          { icon: "üì¶", title: "IndexedDB", desc: "Store data locally.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Sync", desc: "Background sync when online.", color: "#f59e0b" },
          { icon: "üìµ", title: "Detection", desc: "Detect online/offline status.", color: "#8b5cf6" }
        ],
        formula: "Service Worker + Cache + IndexedDB = Offline",
        strategies: [
          { title: "Workbox", desc: "Use Workbox for caching strategies." },
          { title: "Cache First", desc: "Serve from cache, fetch in background." },
          { title: "IndexedDB", desc: "Store user data locally." },
          { title: "Sync Queue", desc: "Queue actions for sync when online." }
        ],
        metrics: [
          { level: "Workbox", downtime: "Caching lib", useCase: "Standard" },
          { level: "IndexedDB", downtime: "Storage", useCase: "Data" },
          { level: "Cache API", downtime: "Assets", useCase: "Static" },
          { level: "Background Sync", downtime: "Queue", useCase: "Actions" }
        ]
      },

      // UX & Product Engineering
      "fe-loading-states": {
        title: "Loading States",
        subtitle: "Providing feedback while content is being fetched.",
        badge: { text: "UX", color: "#f472b6", bg: "rgba(244, 114, 182, 0.15)" },
        color: "#f472b6",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 12px;"><div style="background: rgba(244, 114, 182, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 1rem;">‚è≥</div><div style="font-size: 0.6rem; color: #f472b6;">Spinner</div></div><div style="background: rgba(244, 114, 182, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 1rem;">ü¶¥</div><div style="font-size: 0.6rem; color: #f472b6;">Skeleton</div></div><div style="background: rgba(244, 114, 182, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 1rem;">üìä</div><div style="font-size: 0.6rem; color: #f472b6;">Progress</div></div></div></div>`,
        definition: `<p><strong>Loading States</strong> provide visual feedback while content is loading, improving perceived performance and user experience.</p>`,
        keyPoints: [
          { icon: "ü¶¥", title: "Skeletons", desc: "Placeholder shapes showing layout.", color: "#f472b6" },
          { icon: "‚è≥", title: "Spinners", desc: "Simple loading indicators.", color: "#3b82f6" },
          { icon: "üìä", title: "Progress", desc: "Show actual progress when possible.", color: "#22c55e" },
          { icon: "‚ú®", title: "Optimistic", desc: "Show expected result immediately.", color: "#f59e0b" }
        ],
        formula: "Skeleton > Spinner > Nothing",
        strategies: [
          { title: "Skeletons", desc: "Use skeletons that match content layout." },
          { title: "No Flash", desc: "Delay spinner for fast requests." },
          { title: "Progressive", desc: "Show content as it loads." },
          { title: "Suspense", desc: "Use React Suspense with fallback." }
        ],
        metrics: [
          { level: "< 100ms", downtime: "No indicator", useCase: "Instant" },
          { level: "100-300ms", downtime: "Delay spinner", useCase: "Quick" },
          { level: "> 300ms", downtime: "Show skeleton", useCase: "Normal" },
          { level: "> 1s", downtime: "Progress bar", useCase: "Long" }
        ]
      },
      "fe-empty-states": {
        title: "Empty States",
        subtitle: "Designing helpful experiences when there's no content to show.",
        badge: { text: "UX", color: "#6366f1", bg: "rgba(99, 102, 241, 0.15)" },
        color: "#6366f1",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 24px; text-align: center;"><div style="font-size: 2rem; margin-bottom: 8px;">üì≠</div><div style="font-size: 0.8rem; color: #6366f1;">No items yet</div><div style="font-size: 0.7rem; color: #a0a0b0;">Create your first item</div></div></div>`,
        definition: `<p><strong>Empty States</strong> provide helpful guidance when lists or pages have no content, turning blank screens into opportunities.</p>`,
        keyPoints: [
          { icon: "üì≠", title: "First Use", desc: "Welcome and guide new users.", color: "#6366f1" },
          { icon: "üîç", title: "No Results", desc: "No search results found.", color: "#3b82f6" },
          { icon: "üóëÔ∏è", title: "Cleared", desc: "User has cleared all items.", color: "#22c55e" },
          { icon: "üí°", title: "CTA", desc: "Always include a helpful action.", color: "#f59e0b" }
        ],
        formula: "Illustration + Message + Call to Action",
        strategies: [
          { title: "Illustration", desc: "Use friendly illustrations." },
          { title: "Explanation", desc: "Explain what would appear here." },
          { title: "Action", desc: "Provide a clear call to action." },
          { title: "Context", desc: "Different empty states for different contexts." }
        ],
        metrics: [
          { level: "First use", downtime: "Onboard", useCase: "Welcome" },
          { level: "No results", downtime: "Suggest", useCase: "Search" },
          { level: "Empty list", downtime: "Create", useCase: "CTA" },
          { level: "Error", downtime: "Retry", useCase: "Action" }
        ]
      },
      "fe-error-states": {
        title: "Error States",
        subtitle: "Handling and displaying errors gracefully to users.",
        badge: { text: "UX", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(239, 68, 68, 0.1); border: 2px solid #ef4444; border-radius: 12px; padding: 20px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">‚ö†Ô∏è</div><div style="font-size: 0.8rem; color: #ef4444;">Something went wrong</div><div style="font-size: 0.7rem; color: #a0a0b0; margin-top: 4px;">Try again</div></div></div>`,
        definition: `<p><strong>Error States</strong> help users understand what went wrong and how to recover, maintaining trust during failures.</p>`,
        keyPoints: [
          { icon: "‚ö†Ô∏è", title: "Clear Message", desc: "Explain what happened.", color: "#ef4444" },
          { icon: "üîß", title: "Solution", desc: "Tell users how to fix it.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Retry", desc: "Provide retry option.", color: "#22c55e" },
          { icon: "üìû", title: "Support", desc: "Offer help if needed.", color: "#f59e0b" }
        ],
        formula: "What happened + Why + How to fix",
        strategies: [
          { title: "Error Boundaries", desc: "Catch and display React errors." },
          { title: "Human Language", desc: "Avoid technical jargon." },
          { title: "Retry Button", desc: "Easy retry for network errors." },
          { title: "Fallback", desc: "Show degraded experience if possible." }
        ],
        metrics: [
          { level: "Network", downtime: "Retry", useCase: "Connection" },
          { level: "Validation", downtime: "Inline", useCase: "Form" },
          { level: "Server", downtime: "Friendly", useCase: "500 errors" },
          { level: "404", downtime: "Redirect", useCase: "Not found" }
        ]
      },
      "fe-user-feedback": {
        title: "User Feedback",
        subtitle: "Providing immediate feedback for user actions.",
        badge: { text: "UX", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 10px; text-align: center;"><div style="font-size: 1rem;">‚úì</div></div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 10px; text-align: center;"><div style="font-size: 1rem;">üîî</div></div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 10px; text-align: center;"><div style="font-size: 1rem;">üí¨</div></div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 10px; text-align: center;"><div style="font-size: 1rem;">üéâ</div></div></div></div>`,
        definition: `<p><strong>User Feedback</strong> confirms user actions through visual, audio, or haptic responses, making the interface feel responsive.</p>`,
        keyPoints: [
          { icon: "‚úì", title: "Confirmation", desc: "Confirm successful actions.", color: "#22c55e" },
          { icon: "üîî", title: "Toast", desc: "Non-blocking notifications.", color: "#3b82f6" },
          { icon: "üì≥", title: "Haptic", desc: "Vibration on mobile.", color: "#f59e0b" },
          { icon: "üéµ", title: "Audio", desc: "Sound for important actions.", color: "#8b5cf6" }
        ],
        formula: "Immediate + Appropriate + Actionable",
        strategies: [
          { title: "Toast", desc: "Use toasts for confirmations." },
          { title: "Inline", desc: "Show validation feedback inline." },
          { title: "Animation", desc: "Micro-animations for feedback." },
          { title: "Optimistic", desc: "Show success immediately, revert on error." }
        ],
        metrics: [
          { level: "Toast", downtime: "3-5s", useCase: "Auto-dismiss" },
          { level: "Inline", downtime: "Immediate", useCase: "Validation" },
          { level: "Modal", downtime: "Important", useCase: "Destructive" },
          { level: "Optimistic", downtime: "Instant", useCase: "Perceived speed" }
        ]
      },
      "fe-i18n": {
        title: "Internationalization (i18n)",
        subtitle: "Preparing your application for multiple languages.",
        badge: { text: "UX", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: flex; justify-content: center; gap: 16px;"><div style="font-size: 1.5rem;">üá∫üá∏</div><div style="font-size: 1.5rem;">üá™üá∏</div><div style="font-size: 1.5rem;">üáØüáµ</div><div style="font-size: 1.5rem;">üá∏üá¶</div></div><div style="text-align: center; font-size: 0.7rem; color: #a0a0b0; margin-top: 8px;">EN, ES, JP, AR</div></div>`,
        definition: `<p><strong>i18n</strong> prepares your application for multiple languages by separating text content from code and handling locale differences.</p>`,
        keyPoints: [
          { icon: "üåç", title: "Translations", desc: "Externalize all user-facing text.", color: "#f59e0b" },
          { icon: "üìÖ", title: "Formats", desc: "Handle date, number, currency formats.", color: "#3b82f6" },
          { icon: "‚û°Ô∏è", title: "RTL", desc: "Support right-to-left languages.", color: "#22c55e" },
          { icon: "üî§", title: "Plurals", desc: "Handle plural forms correctly.", color: "#8b5cf6" }
        ],
        formula: "t('key') + Intl API + RTL support",
        strategies: [
          { title: "next-intl", desc: "Use next-intl for Next.js." },
          { title: "react-i18next", desc: "Popular React i18n library." },
          { title: "Intl API", desc: "Use native Intl for formatting." },
          { title: "Extract", desc: "Automate string extraction." }
        ],
        metrics: [
          { level: "next-intl", downtime: "Next.js", useCase: "SSR" },
          { level: "react-i18next", downtime: "Popular", useCase: "React" },
          { level: "Intl", downtime: "Native", useCase: "Formatting" },
          { level: "ICU", downtime: "Plurals", useCase: "Complex" }
        ]
      },
      "fe-l10n": {
        title: "Localization (l10n)",
        subtitle: "Adapting your application for specific regions and cultures.",
        badge: { text: "UX", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 12px; padding: 16px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 8px; font-size: 0.7rem;"><div style="color: #8b5cf6;">$1,234.56</div><div style="color: #8b5cf6;">1.234,56 ‚Ç¨</div><div style="color: #8b5cf6;">01/15/2024</div><div style="color: #8b5cf6;">15/01/2024</div></div></div></div>`,
        definition: `<p><strong>l10n</strong> adapts your application for specific locales including translations, date/number formats, currencies, and cultural conventions.</p>`,
        keyPoints: [
          { icon: "üìÖ", title: "Dates", desc: "Locale-appropriate date formats.", color: "#8b5cf6" },
          { icon: "üí∞", title: "Currency", desc: "Correct currency formatting.", color: "#22c55e" },
          { icon: "üî¢", title: "Numbers", desc: "Number separators vary by locale.", color: "#3b82f6" },
          { icon: "üé®", title: "Content", desc: "Adapt images, colors for culture.", color: "#f59e0b" }
        ],
        formula: "Intl.DateTimeFormat + Intl.NumberFormat",
        strategies: [
          { title: "Intl API", desc: "Use native Intl APIs for formatting." },
          { title: "Locale Files", desc: "Separate locale-specific content." },
          { title: "Testing", desc: "Test with real locale data." },
          { title: "Pseudo-localization", desc: "Test with expanded strings." }
        ],
        metrics: [
          { level: "DateTimeFormat", downtime: "Dates", useCase: "Native" },
          { level: "NumberFormat", downtime: "Numbers", useCase: "Native" },
          { level: "RelativeTimeFormat", downtime: "Relative", useCase: "'2 days ago'" },
          { level: "ListFormat", downtime: "Lists", useCase: "'A, B, and C'" }
        ]
      },
      "fe-personalization": {
        title: "Personalization",
        subtitle: "Customizing the user experience based on user data and preferences.",
        badge: { text: "UX", color: "#ec4899", bg: "rgba(236, 72, 153, 0.15)" },
        color: "#ec4899",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(236, 72, 153, 0.1); border-radius: 12px; padding: 16px; text-align: center;"><div style="font-size: 1.5rem; margin-bottom: 8px;">üë§</div><div style="font-size: 0.8rem; color: #ec4899;">Welcome back, User!</div><div style="font-size: 0.6rem; color: #a0a0b0;">Recommended for you</div></div></div>`,
        definition: `<p><strong>Personalization</strong> tailors the user experience based on user preferences, behavior, and context.</p>`,
        keyPoints: [
          { icon: "üë§", title: "User Data", desc: "Personalize based on profile data.", color: "#ec4899" },
          { icon: "üìä", title: "Behavior", desc: "Adapt based on user behavior.", color: "#3b82f6" },
          { icon: "üìç", title: "Context", desc: "Location, time, device.", color: "#22c55e" },
          { icon: "‚öôÔ∏è", title: "Preferences", desc: "Respect user preferences.", color: "#f59e0b" }
        ],
        formula: "User Data + Context + ML = Personalized Experience",
        strategies: [
          { title: "Recommendations", desc: "Show personalized content." },
          { title: "Preferences", desc: "Allow users to set preferences." },
          { title: "Privacy", desc: "Be transparent about data use." },
          { title: "Fallback", desc: "Good experience without personalization." }
        ],
        metrics: [
          { level: "Explicit", downtime: "Settings", useCase: "User-set" },
          { level: "Implicit", downtime: "Behavior", useCase: "Inferred" },
          { level: "Contextual", downtime: "Location/time", useCase: "Dynamic" },
          { level: "Privacy", downtime: "Consent", useCase: "Required" }
        ]
      },
      "fe-ab-testing": {
        title: "Experimentation / A/B Testing",
        subtitle: "Testing variations to make data-driven product decisions.",
        badge: { text: "UX", color: "#06b6d4", bg: "rgba(6, 182, 212, 0.15)" },
        color: "#06b6d4",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(6, 182, 212, 0.1); border: 2px solid #06b6d4; border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 0.8rem; color: #06b6d4;">Variant A</div><div style="font-size: 0.6rem; color: #a0a0b0;">50%</div></div><div style="background: rgba(6, 182, 212, 0.1); border: 2px solid #06b6d4; border-radius: 10px; padding: 16px; text-align: center;"><div style="font-size: 0.8rem; color: #06b6d4;">Variant B</div><div style="font-size: 0.6rem; color: #a0a0b0;">50%</div></div></div></div>`,
        definition: `<p><strong>A/B Testing</strong> compares different variations of UI elements to determine which performs better based on metrics.</p>`,
        keyPoints: [
          { icon: "üîÄ", title: "Split", desc: "Randomly assign users to variants.", color: "#06b6d4" },
          { icon: "üìä", title: "Measure", desc: "Track conversion metrics.", color: "#22c55e" },
          { icon: "üß™", title: "Significance", desc: "Wait for statistical significance.", color: "#3b82f6" },
          { icon: "üèÜ", title: "Winner", desc: "Roll out winning variant.", color: "#f59e0b" }
        ],
        formula: "Hypothesis ‚Üí Test ‚Üí Measure ‚Üí Decide",
        strategies: [
          { title: "PostHog", desc: "Experimentation with feature flags." },
          { title: "LaunchDarkly", desc: "A/B testing with feature management." },
          { title: "Sample Size", desc: "Calculate required sample size." },
          { title: "One Variable", desc: "Test one thing at a time." }
        ],
        metrics: [
          { level: "PostHog", downtime: "Full featured", useCase: "Experiments" },
          { level: "Optimizely", downtime: "Enterprise", useCase: "Full stack" },
          { level: "Sample size", downtime: "Calculator", useCase: "Stats" },
          { level: "Significance", downtime: "p < 0.05", useCase: "Standard" }
        ]
      },

      // Micro-Frontends
      "fe-app-shell": {
        title: "App Shell",
        subtitle: "The minimal UI that hosts micro-frontend applications.",
        badge: { text: "Micro-FE", color: "#a855f7", bg: "rgba(168, 85, 247, 0.15)" },
        color: "#a855f7",
        diagram: `<div style="padding: 20px;"><div style="background: rgba(168, 85, 247, 0.1); border: 2px solid #a855f7; border-radius: 12px; padding: 12px;"><div style="background: #a855f7; height: 24px; border-radius: 6px; margin-bottom: 8px; display: flex; align-items: center; padding: 0 8px; font-size: 0.6rem; color: white;">Header (Shell)</div><div style="display: grid; grid-template-columns: 1fr 3fr; gap: 8px;"><div style="background: rgba(168, 85, 247, 0.2); height: 60px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; color: #a855f7;">Nav</div><div style="background: rgba(168, 85, 247, 0.2); height: 60px; border-radius: 6px; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; color: #a855f7;">MFE Content</div></div></div></div>`,
        definition: `<p><strong>App Shell</strong> is the host application that provides the common UI frame (header, navigation) and loads micro-frontends.</p>`,
        keyPoints: [
          { icon: "üè†", title: "Host", desc: "Container for micro-frontends.", color: "#a855f7" },
          { icon: "üîó", title: "Navigation", desc: "Handles routing between MFEs.", color: "#3b82f6" },
          { icon: "üé®", title: "Layout", desc: "Provides common header, footer.", color: "#22c55e" },
          { icon: "üîê", title: "Auth", desc: "Manages authentication state.", color: "#f59e0b" }
        ],
        formula: "Shell (Header + Nav + Router) + MFE Slots",
        strategies: [
          { title: "Minimal Shell", desc: "Keep shell thin, MFEs handle content." },
          { title: "Single SPA", desc: "Use single-spa for orchestration." },
          { title: "Auth in Shell", desc: "Handle auth at shell level." },
          { title: "Shared State", desc: "Share minimal state between MFEs." }
        ],
        metrics: [
          { level: "Shell size", downtime: "< 50KB", useCase: "Minimal" },
          { level: "single-spa", downtime: "Orchestrator", useCase: "Standard" },
          { level: "qiankun", downtime: "China popular", useCase: "Alternative" },
          { level: "Auth", downtime: "Shell level", useCase: "Centralized" }
        ]
      },
      "fe-routing-isolation": {
        title: "Routing Isolation",
        subtitle: "Managing routing in a micro-frontend architecture.",
        badge: { text: "Micro-FE", color: "#3b82f6", bg: "rgba(59, 130, 246, 0.15)" },
        color: "#3b82f6",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 8px; border-radius: 0 6px 6px 0; font-size: 0.7rem; color: #3b82f6;">/products/* ‚Üí Products MFE</div><div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 8px; border-radius: 0 6px 6px 0; font-size: 0.7rem; color: #3b82f6;">/checkout/* ‚Üí Checkout MFE</div><div style="background: rgba(59, 130, 246, 0.1); border-left: 4px solid #3b82f6; padding: 8px; border-radius: 0 6px 6px 0; font-size: 0.7rem; color: #3b82f6;">/account/* ‚Üí Account MFE</div></div></div>`,
        definition: `<p><strong>Routing Isolation</strong> gives each micro-frontend control over its own routes while the shell handles top-level routing.</p>`,
        keyPoints: [
          { icon: "üîÄ", title: "Path-based", desc: "Route to MFE based on URL path.", color: "#3b82f6" },
          { icon: "üè†", title: "Shell Routes", desc: "Shell owns top-level routes.", color: "#22c55e" },
          { icon: "üìç", title: "MFE Routes", desc: "MFEs own nested routes.", color: "#f59e0b" },
          { icon: "üîó", title: "Cross-Nav", desc: "Navigate between MFEs cleanly.", color: "#8b5cf6" }
        ],
        formula: "Shell: /app/* ‚Üí MFE: /* (relative)",
        strategies: [
          { title: "Path Prefix", desc: "Each MFE has URL prefix." },
          { title: "History API", desc: "Use browser history, not hash." },
          { title: "Base Path", desc: "Configure base path per MFE." },
          { title: "Cross-MFE Links", desc: "Use custom events or shell API." }
        ],
        metrics: [
          { level: "single-spa", downtime: "registerApplication", useCase: "Standard" },
          { level: "Base path", downtime: "Per MFE", useCase: "Config" },
          { level: "History", downtime: "Preferred", useCase: "Clean URLs" },
          { level: "Events", downtime: "Navigation", useCase: "Cross-MFE" }
        ]
      },
      "fe-shared-dependencies": {
        title: "Shared Dependencies",
        subtitle: "Managing shared libraries across micro-frontends.",
        badge: { text: "Micro-FE", color: "#22c55e", bg: "rgba(34, 197, 94, 0.15)" },
        color: "#22c55e",
        diagram: `<div style="padding: 20px;"><div style="text-align: center;"><div style="background: rgba(34, 197, 94, 0.2); border: 2px solid #22c55e; border-radius: 50%; width: 60px; height: 60px; margin: 0 auto; display: flex; align-items: center; justify-content: center; font-size: 0.7rem; color: #22c55e;">React</div><div style="display: flex; justify-content: center; gap: 20px; margin-top: 12px;"><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 8px; font-size: 0.6rem;">MFE 1</div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 8px; font-size: 0.6rem;">MFE 2</div><div style="background: rgba(34, 197, 94, 0.1); border-radius: 8px; padding: 8px; font-size: 0.6rem;">MFE 3</div></div></div></div>`,
        definition: `<p><strong>Shared Dependencies</strong> are common libraries (React, etc.) shared between micro-frontends to avoid loading them multiple times.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Share React", desc: "Share framework across MFEs.", color: "#22c55e" },
          { icon: "‚ö†Ô∏è", title: "Version", desc: "Keep shared deps in sync.", color: "#f59e0b" },
          { icon: "üîß", title: "Federation", desc: "Module Federation handles sharing.", color: "#3b82f6" },
          { icon: "üìâ", title: "Bundle", desc: "Reduces overall bundle size.", color: "#8b5cf6" }
        ],
        formula: "Module Federation shared config",
        strategies: [
          { title: "Module Federation", desc: "Share via Module Federation." },
          { title: "Version Sync", desc: "Keep React versions aligned." },
          { title: "Externals", desc: "Mark shared deps as external." },
          { title: "Import Maps", desc: "Alternative with import maps." }
        ],
        metrics: [
          { level: "React", downtime: "Always share", useCase: "Framework" },
          { level: "react-dom", downtime: "Always share", useCase: "Framework" },
          { level: "Design system", downtime: "Share", useCase: "Consistency" },
          { level: "Utilities", downtime: "Bundle per MFE", useCase: "Small" }
        ]
      },
      "fe-mfe-integration": {
        title: "Runtime vs Build-time Integration",
        subtitle: "Different approaches to composing micro-frontends.",
        badge: { text: "Micro-FE", color: "#f59e0b", bg: "rgba(245, 158, 11, 0.15)" },
        color: "#f59e0b",
        diagram: `<div style="padding: 20px;"><div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;"><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 0.8rem; color: #f59e0b;">Build-time</div><div style="font-size: 0.6rem; color: #a0a0b0;">npm package</div></div><div style="background: rgba(245, 158, 11, 0.1); border-radius: 8px; padding: 14px; text-align: center;"><div style="font-size: 0.8rem; color: #f59e0b;">Runtime</div><div style="font-size: 0.6rem; color: #a0a0b0;">Module Federation</div></div></div></div>`,
        definition: `<p><strong>Build-time</strong> integration bundles MFEs together. <strong>Runtime</strong> integration loads MFEs dynamically at runtime.</p>`,
        keyPoints: [
          { icon: "üî®", title: "Build-time", desc: "MFEs as npm packages.", color: "#f59e0b" },
          { icon: "‚ö°", title: "Runtime", desc: "Load MFEs dynamically.", color: "#3b82f6" },
          { icon: "üîÑ", title: "Independence", desc: "Runtime = independent deploys.", color: "#22c55e" },
          { icon: "‚öôÔ∏è", title: "Complexity", desc: "Runtime is more complex.", color: "#8b5cf6" }
        ],
        formula: "Runtime: Independent deploys, Build-time: Simpler",
        strategies: [
          { title: "Module Federation", desc: "Runtime integration with Webpack/Vite." },
          { title: "npm Packages", desc: "Build-time as internal packages." },
          { title: "Hybrid", desc: "Core at build-time, features at runtime." },
          { title: "Start Simple", desc: "Begin with build-time, evolve to runtime." }
        ],
        metrics: [
          { level: "Module Fed", downtime: "Runtime", useCase: "Independent" },
          { level: "npm", downtime: "Build-time", useCase: "Simple" },
          { level: "single-spa", downtime: "Runtime", useCase: "Orchestration" },
          { level: "iframes", downtime: "Runtime", useCase: "Isolation" }
        ]
      },
      "fe-mfe-communication": {
        title: "Communication Between MFEs",
        subtitle: "How micro-frontends communicate with each other.",
        badge: { text: "Micro-FE", color: "#8b5cf6", bg: "rgba(139, 92, 246, 0.15)" },
        color: "#8b5cf6",
        diagram: `<div style="padding: 20px;"><div style="display: flex; align-items: center; justify-content: center; gap: 16px;"><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #8b5cf6;">MFE A</div><div style="display: flex; flex-direction: column; gap: 4px;"><span style="color: #8b5cf6;">‚Üí Events ‚Üí</span><span style="color: #8b5cf6;">‚Üê Events ‚Üê</span></div><div style="background: rgba(139, 92, 246, 0.1); border-radius: 8px; padding: 12px; font-size: 0.7rem; color: #8b5cf6;">MFE B</div></div></div>`,
        definition: `<p><strong>MFE Communication</strong> enables micro-frontends to share data and coordinate actions using events, shared state, or props.</p>`,
        keyPoints: [
          { icon: "üì¢", title: "Events", desc: "Custom events for loose coupling.", color: "#8b5cf6" },
          { icon: "üîó", title: "URL", desc: "Share state via URL params.", color: "#3b82f6" },
          { icon: "üì¶", title: "Props", desc: "Pass data via component props.", color: "#22c55e" },
          { icon: "üè™", title: "Shared Store", desc: "Minimal shared state store.", color: "#f59e0b" }
        ],
        formula: "Custom Events > URL State > Shared Store",
        strategies: [
          { title: "Custom Events", desc: "Use window events for communication." },
          { title: "URL State", desc: "Share via query params." },
          { title: "Minimal Shared", desc: "Share only essential state." },
          { title: "API Contract", desc: "Define clear communication contracts." }
        ],
        metrics: [
          { level: "CustomEvent", downtime: "Loose coupling", useCase: "Standard" },
          { level: "URL params", downtime: "Shareable", useCase: "Bookmarkable" },
          { level: "Props", downtime: "Direct", useCase: "Parent-child" },
          { level: "Pub/Sub", downtime: "Custom", useCase: "Complex" }
        ]
      },
      "fe-mfe-versioning": {
        title: "Versioning & Rollout Strategy",
        subtitle: "Managing versions and deployments of micro-frontends.",
        badge: { text: "Micro-FE", color: "#ef4444", bg: "rgba(239, 68, 68, 0.15)" },
        color: "#ef4444",
        diagram: `<div style="padding: 20px;"><div style="display: flex; flex-direction: column; gap: 8px;"><div style="display: flex; align-items: center; gap: 8px;"><div style="background: #22c55e; width: 12px; height: 12px; border-radius: 50%;"></div><span style="font-size: 0.7rem;">Shell v2.1.0</span></div><div style="display: flex; align-items: center; gap: 8px;"><div style="background: #3b82f6; width: 12px; height: 12px; border-radius: 50%;"></div><span style="font-size: 0.7rem;">Products MFE v3.0.0</span></div><div style="display: flex; align-items: center; gap: 8px;"><div style="background: #f59e0b; width: 12px; height: 12px; border-radius: 50%;"></div><span style="font-size: 0.7rem;">Checkout MFE v1.5.0</span></div></div></div>`,
        definition: `<p><strong>MFE Versioning</strong> allows micro-frontends to be versioned and deployed independently while maintaining compatibility.</p>`,
        keyPoints: [
          { icon: "üì¶", title: "Independent", desc: "Each MFE versioned independently.", color: "#ef4444" },
          { icon: "üîÄ", title: "Gradual", desc: "Roll out MFEs gradually.", color: "#3b82f6" },
          { icon: "‚Ü©Ô∏è", title: "Rollback", desc: "Roll back individual MFEs.", color: "#22c55e" },
          { icon: "üîó", title: "Compat", desc: "Maintain API compatibility.", color: "#f59e0b" }
        ],
        formula: "Independent versioning + Gradual rollout",
        strategies: [
          { title: "Semver", desc: "Use semantic versioning for MFEs." },
          { title: "Gradual", desc: "Roll out to percentage of users." },
          { title: "Canary", desc: "Canary deploy new MFE versions." },
          { title: "Contract Testing", desc: "Test API contracts between MFEs." }
        ],
        metrics: [
          { level: "Independent", downtime: "Each MFE", useCase: "Flexibility" },
          { level: "Canary", downtime: "1-5%", useCase: "Safe deploy" },
          { level: "Rollback", downtime: "< 1 min", useCase: "Fast" },
          { level: "Contract", downtime: "Tests", useCase: "Compatibility" }
        ]
      }
    };

    // Switch between Frontend and Backend domains
    function switchDomain(domain) {
      // Update toggle buttons
      document.getElementById('backendToggle').classList.remove('active');
      document.getElementById('frontendToggle').classList.remove('active');
      document.getElementById(domain + 'Toggle').classList.add('active');

      // Update concept containers
      document.getElementById('backendConcepts').classList.remove('active');
      document.getElementById('frontendConcepts').classList.remove('active');
      document.getElementById(domain + 'Concepts').classList.add('active');

      // Clear search when switching
      document.getElementById('searchInput').value = '';
      filterConcepts();

      // Hide welcome state if showing a concept
      // Reset to welcome state when switching domains
      document.getElementById('welcomeState').style.display = 'flex';
      document.getElementById('conceptContainer').innerHTML = '';
      document.querySelectorAll('.concept-item').forEach(item => item.classList.remove('active'));
    }

    // Toggle category expansion
    function toggleCategory(category) {
      category.classList.toggle('expanded');
    }

    // Show concept detail
    function showConcept(conceptId) {
      const concept = concepts[conceptId];
      if (!concept) return;

      // Scroll to top
      window.scrollTo({ top: 0, behavior: 'smooth' });

      // Update active states
      document.querySelectorAll('.concept-item').forEach(item => item.classList.remove('active'));
      document.querySelector(`[data-concept="${conceptId}"]`).classList.add('active');

      // Hide welcome state
      document.getElementById('welcomeState').style.display = 'none';

      // Generate content
      const container = document.getElementById('conceptContainer');
      container.innerHTML = `
        <div class="concept-detail active">
          <div class="concept-header">
            <div class="concept-badge" style="background: ${concept.badge.bg}; color: ${concept.badge.color};">
              <span>‚óè</span> ${concept.badge.text}
            </div>
            <h1 class="concept-title" style="background: linear-gradient(135deg, ${concept.color}, #ffffff); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">${concept.title}</h1>
            <p class="concept-subtitle">${concept.subtitle}</p>
          </div>

          <div class="visual-diagram">
            <div class="diagram-title">Visual Overview</div>
            <div class="diagram-content">
              ${concept.diagram}
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, ${concept.color}, ${concept.color}88);">üìñ</span>
              Definition
            </h3>
            <div class="section-content">
              ${concept.definition}
            </div>
          </div>

          <div class="formula-box">
            <div class="formula-label">Key Formula / Concept</div>
            <div class="formula">${concept.formula}</div>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, #10b981, #059669);">üí°</span>
              Key Characteristics
            </h3>
            <div class="key-points">
              ${concept.keyPoints.map(point => `
                <div class="key-point">
                  <div class="key-point-icon" style="background: ${point.color}22; color: ${point.color};">${point.icon}</div>
                  <h4>${point.title}</h4>
                  <p>${point.desc}</p>
                </div>
              `).join('')}
            </div>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, #8b5cf6, #6d28d9);">üéØ</span>
              How to Achieve It
            </h3>
            <ul class="strategies-list">
              ${concept.strategies.map((strategy, i) => `
                <li class="strategy-item">
                  <div class="strategy-number">${i + 1}</div>
                  <div class="strategy-content">
                    <h4>${strategy.title}</h4>
                    <p>${strategy.desc}</p>
                  </div>
                </li>
              `).join('')}
            </ul>
          </div>

          <div class="section">
            <h3 class="section-title">
              <span class="icon" style="background: linear-gradient(135deg, #ef4444, #dc2626);">üìä</span>
              Reference Table
            </h3>
            <table class="metrics-table">
              <thead>
                <tr>
                  <th>Level / Type</th>
                  <th>Details</th>
                  <th>Use Case</th>
                </tr>
              </thead>
              <tbody>
                ${concept.metrics.map(metric => `
                  <tr>
                    <td><span class="metric-value">${metric.level}</span></td>
                    <td>${metric.downtime}</td>
                    <td>${metric.useCase}</td>
                  </tr>
                `).join('')}
              </tbody>
            </table>
          </div>

          ${generateNavigation(conceptId)}
        </div>
      `;
    }

    // Generate navigation buttons HTML
    function generateNavigation(conceptId) {
      const nav = getNavigation(conceptId);
      const prevConcept = nav.prev ? concepts[nav.prev] : null;
      const nextConcept = nav.next ? concepts[nav.next] : null;

      return `
        <nav class="page-navigation">
          <a class="nav-btn prev ${!prevConcept ? 'disabled' : ''}" ${prevConcept ? `onclick="showConcept('${nav.prev}')"` : ''}>
            <div class="nav-btn-icon">‚Üê</div>
            <div class="nav-btn-content">
              <div class="nav-btn-label">Previous</div>
              <div class="nav-btn-title">${prevConcept ? prevConcept.title : 'None'}</div>
            </div>
          </a>
          <a class="nav-btn next ${!nextConcept ? 'disabled' : ''}" ${nextConcept ? `onclick="showConcept('${nav.next}')"` : ''}>
            <div class="nav-btn-content">
              <div class="nav-btn-label">Next</div>
              <div class="nav-btn-title">${nextConcept ? nextConcept.title : 'None'}</div>
            </div>
            <div class="nav-btn-icon">‚Üí</div>
          </a>
        </nav>
      `;
    }

    // Filter concepts
    function filterConcepts() {
      const query = document.getElementById('searchInput').value.toLowerCase();
      document.querySelectorAll('.concept-item').forEach(item => {
        const text = item.textContent.toLowerCase();
        item.style.display = text.includes(query) ? 'flex' : 'none';
      });
      
      // Expand categories with matching items
      document.querySelectorAll('.category').forEach(cat => {
        const hasVisible = Array.from(cat.querySelectorAll('.concept-item')).some(item => item.style.display !== 'none');
        if (query && hasVisible) {
          cat.classList.add('expanded');
        }
      });
    }

    // Mobile Sidebar Toggle
    function toggleSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      const hamburger = document.getElementById('hamburgerMenu');
      
      sidebar.classList.toggle('open');
      overlay.classList.toggle('active');
      hamburger.classList.toggle('active');
    }

    function closeSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      const hamburger = document.getElementById('hamburgerMenu');
      
      sidebar.classList.remove('open');
      overlay.classList.remove('active');
      hamburger.classList.remove('active');
    }

    function openSidebar() {
      const sidebar = document.getElementById('sidebar');
      const overlay = document.getElementById('sidebarOverlay');
      const hamburger = document.getElementById('hamburgerMenu');
      
      sidebar.classList.add('open');
      overlay.classList.add('active');
      hamburger.classList.add('active');
    }

    // Swipe gesture support for mobile
    let touchStartX = 0;
    let touchStartY = 0;
    let touchEndX = 0;
    let isSwiping = false;

    document.addEventListener('touchstart', (e) => {
      touchStartX = e.changedTouches[0].screenX;
      touchStartY = e.changedTouches[0].screenY;
      
      // Only enable swipe-to-open from left edge (within 30px)
      if (touchStartX <= 30) {
        isSwiping = true;
      }
    }, { passive: true });

    document.addEventListener('touchmove', (e) => {
      if (!isSwiping) return;
      
      const currentX = e.changedTouches[0].screenX;
      const currentY = e.changedTouches[0].screenY;
      const diffX = currentX - touchStartX;
      const diffY = Math.abs(currentY - touchStartY);
      
      // If horizontal swipe is more significant than vertical
      if (diffX > 0 && diffX > diffY) {
        // Prevent scrolling when swiping sidebar
        const sidebar = document.getElementById('sidebar');
        const progress = Math.min(diffX / 300, 1);
        sidebar.style.left = `${-300 + (300 * progress)}px`;
        sidebar.style.transition = 'none';
      }
    }, { passive: true });

    document.addEventListener('touchend', (e) => {
      if (!isSwiping) return;
      
      touchEndX = e.changedTouches[0].screenX;
      const swipeDistance = touchEndX - touchStartX;
      const sidebar = document.getElementById('sidebar');
      
      // Reset transition
      sidebar.style.transition = '';
      sidebar.style.left = '';
      
      // If swiped more than 100px from left edge, open sidebar
      if (swipeDistance > 100 && window.innerWidth <= 768) {
        openSidebar();
      }
      
      isSwiping = false;
    }, { passive: true });

    // Close sidebar when clicking on a concept (mobile)
    document.querySelectorAll('.concept-item').forEach(item => {
      item.addEventListener('click', () => {
        if (window.innerWidth <= 768) {
          closeSidebar();
        }
      });
    });

    // Initialize - show first concept on load
    document.addEventListener('DOMContentLoaded', () => {
      // Optional: show first concept by default
      // showConcept('availability');
    });
  </script>
</body>
</html>

